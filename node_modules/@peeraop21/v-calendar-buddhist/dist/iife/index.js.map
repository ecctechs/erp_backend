{"version":3,"file":"index.js","sources":["../../src/components/BaseIcon/icons/IconChevronRight.vue","../../src/components/BaseIcon/icons/IconChevronLeft.vue","../../src/components/BaseIcon/icons/IconChevronDown.vue","../../src/components/BaseIcon/icons/IconClock.vue","../../src/components/BaseIcon/BaseIcon.vue","../../node_modules/lodash/_freeGlobal.js","../../node_modules/lodash/_root.js","../../node_modules/lodash/_Symbol.js","../../node_modules/lodash/_getRawTag.js","../../node_modules/lodash/_objectToString.js","../../node_modules/lodash/_baseGetTag.js","../../node_modules/lodash/isObject.js","../../node_modules/lodash/isFunction.js","../../node_modules/lodash/isArray.js","../../node_modules/lodash/isObjectLike.js","../../node_modules/lodash/isString.js","../../node_modules/lodash/isBoolean.js","../../node_modules/lodash/isNumber.js","../../node_modules/lodash/_baseIsDate.js","../../node_modules/lodash/_baseUnary.js","../../node_modules/lodash/_nodeUtil.js","../../node_modules/lodash/isDate.js","../../node_modules/lodash/isSymbol.js","../../node_modules/lodash/_isKey.js","../../node_modules/lodash/_isMasked.js","../../node_modules/lodash/_coreJsData.js","../../node_modules/lodash/_toSource.js","../../node_modules/lodash/_baseIsNative.js","../../node_modules/lodash/_getValue.js","../../node_modules/lodash/_getNative.js","../../node_modules/lodash/_nativeCreate.js","../../node_modules/lodash/_hashClear.js","../../node_modules/lodash/_hashDelete.js","../../node_modules/lodash/_hashGet.js","../../node_modules/lodash/_hashHas.js","../../node_modules/lodash/_hashSet.js","../../node_modules/lodash/_Hash.js","../../node_modules/lodash/_listCacheClear.js","../../node_modules/lodash/eq.js","../../node_modules/lodash/_assocIndexOf.js","../../node_modules/lodash/_listCacheDelete.js","../../node_modules/lodash/_listCacheGet.js","../../node_modules/lodash/_listCacheHas.js","../../node_modules/lodash/_listCacheSet.js","../../node_modules/lodash/_ListCache.js","../../node_modules/lodash/_Map.js","../../node_modules/lodash/_mapCacheClear.js","../../node_modules/lodash/_isKeyable.js","../../node_modules/lodash/_getMapData.js","../../node_modules/lodash/_mapCacheDelete.js","../../node_modules/lodash/_mapCacheGet.js","../../node_modules/lodash/_mapCacheHas.js","../../node_modules/lodash/_mapCacheSet.js","../../node_modules/lodash/_MapCache.js","../../node_modules/lodash/memoize.js","../../node_modules/lodash/_memoizeCapped.js","../../node_modules/lodash/_stringToPath.js","../../node_modules/lodash/_arrayMap.js","../../node_modules/lodash/_baseToString.js","../../node_modules/lodash/toString.js","../../node_modules/lodash/_castPath.js","../../node_modules/lodash/_toKey.js","../../node_modules/lodash/_baseGet.js","../../node_modules/lodash/get.js","../../node_modules/lodash/_defineProperty.js","../../node_modules/lodash/_baseAssignValue.js","../../node_modules/lodash/_assignValue.js","../../node_modules/lodash/_isIndex.js","../../node_modules/lodash/_createBaseFor.js","../../node_modules/lodash/_baseFor.js","../../node_modules/lodash/_baseTimes.js","../../node_modules/lodash/_baseIsArguments.js","../../node_modules/lodash/isArguments.js","../../node_modules/lodash/stubFalse.js","../../node_modules/lodash/isBuffer.js","../../node_modules/lodash/isLength.js","../../node_modules/lodash/_baseIsTypedArray.js","../../node_modules/lodash/isTypedArray.js","../../node_modules/lodash/_arrayLikeKeys.js","../../node_modules/lodash/_isPrototype.js","../../node_modules/lodash/_overArg.js","../../node_modules/lodash/_nativeKeys.js","../../node_modules/lodash/_baseKeys.js","../../node_modules/lodash/isArrayLike.js","../../node_modules/lodash/keys.js","../../node_modules/lodash/_baseForOwn.js","../../node_modules/lodash/_stackClear.js","../../node_modules/lodash/_stackHas.js","../../node_modules/lodash/_stackSet.js","../../node_modules/lodash/_Stack.js","../../node_modules/lodash/_stackDelete.js","../../node_modules/lodash/_stackGet.js","../../node_modules/lodash/_setCacheHas.js","../../node_modules/lodash/_SetCache.js","../../node_modules/lodash/_setCacheAdd.js","../../node_modules/lodash/_arraySome.js","../../node_modules/lodash/_cacheHas.js","../../node_modules/lodash/_equalArrays.js","../../node_modules/lodash/_Uint8Array.js","../../node_modules/lodash/_setToArray.js","../../node_modules/lodash/_equalByTag.js","../../node_modules/lodash/_mapToArray.js","../../node_modules/lodash/_arrayPush.js","../../node_modules/lodash/_baseGetAllKeys.js","../../node_modules/lodash/stubArray.js","../../node_modules/lodash/_getSymbols.js","../../node_modules/lodash/_arrayFilter.js","../../node_modules/lodash/_getAllKeys.js","../../node_modules/lodash/_equalObjects.js","../../node_modules/lodash/_getTag.js","../../node_modules/lodash/_DataView.js","../../node_modules/lodash/_Promise.js","../../node_modules/lodash/_Set.js","../../node_modules/lodash/_WeakMap.js","../../node_modules/lodash/_baseIsEqualDeep.js","../../node_modules/lodash/_baseIsEqual.js","../../node_modules/lodash/_baseIsMatch.js","../../node_modules/lodash/_isStrictComparable.js","../../node_modules/lodash/_getMatchData.js","../../node_modules/lodash/_matchesStrictComparable.js","../../node_modules/lodash/_baseMatches.js","../../node_modules/lodash/_baseHasIn.js","../../node_modules/lodash/_hasPath.js","../../node_modules/lodash/hasIn.js","../../node_modules/lodash/_baseMatchesProperty.js","../../node_modules/lodash/identity.js","../../node_modules/lodash/_baseProperty.js","../../node_modules/lodash/_basePropertyDeep.js","../../node_modules/lodash/property.js","../../node_modules/lodash/_baseIteratee.js","../../node_modules/lodash/mapValues.js","../../node_modules/lodash/_apply.js","../../node_modules/lodash/_overRest.js","../../node_modules/lodash/constant.js","../../node_modules/lodash/_baseSetToString.js","../../node_modules/lodash/_shortOut.js","../../node_modules/lodash/_setToString.js","../../node_modules/lodash/_baseRest.js","../../node_modules/lodash/_isIterateeCall.js","../../node_modules/lodash/_nativeKeysIn.js","../../node_modules/lodash/_baseKeysIn.js","../../node_modules/lodash/keysIn.js","../../node_modules/lodash/defaults.js","../../node_modules/lodash/_assignMergeValue.js","../../node_modules/lodash/_cloneBuffer.js","../../node_modules/lodash/_cloneArrayBuffer.js","../../node_modules/lodash/_cloneTypedArray.js","../../node_modules/lodash/_copyArray.js","../../node_modules/lodash/_baseCreate.js","../../node_modules/lodash/_getPrototype.js","../../node_modules/lodash/_initCloneObject.js","../../node_modules/lodash/isArrayLikeObject.js","../../node_modules/lodash/isPlainObject.js","../../node_modules/lodash/_safeGet.js","../../node_modules/lodash/_copyObject.js","../../node_modules/lodash/toPlainObject.js","../../node_modules/lodash/_baseMergeDeep.js","../../node_modules/lodash/_baseMerge.js","../../node_modules/lodash/_customDefaultsMerge.js","../../node_modules/lodash/_createAssigner.js","../../node_modules/lodash/mergeWith.js","../../node_modules/lodash/defaultsDeep.js","../../node_modules/lodash/_baseHas.js","../../node_modules/lodash/has.js","../../node_modules/lodash/_createBaseEach.js","../../node_modules/lodash/_baseEach.js","../../node_modules/lodash/head.js","../../node_modules/lodash/last.js","../../node_modules/lodash/_baseSome.js","../../node_modules/lodash/some.js","../../src/utils/helpers.ts","../../node_modules/date-fns/esm/_lib/toInteger/index.js","../../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../../node_modules/date-fns-tz/esm/_lib/tzTokenizeDate/index.js","../../node_modules/date-fns-tz/esm/_lib/tzParseTimezone/index.js","../../node_modules/date-fns-tz/esm/toDate/index.js","../../node_modules/date-fns-tz/esm/_lib/tzPattern/index.js","../../node_modules/date-fns/esm/_lib/requiredArgs/index.js","../../node_modules/date-fns/esm/toDate/index.js","../../node_modules/date-fns/esm/startOfWeek/index.js","../../node_modules/date-fns/esm/differenceInCalendarWeeks/index.js","../../node_modules/date-fns/esm/lastDayOfMonth/index.js","../../node_modules/date-fns/esm/startOfMonth/index.js","../../node_modules/date-fns/esm/getWeekYear/index.js","../../node_modules/date-fns/esm/startOfWeekYear/index.js","../../node_modules/date-fns/esm/getWeek/index.js","../../node_modules/date-fns/esm/startOfISOWeek/index.js","../../node_modules/date-fns/esm/getISOWeekYear/index.js","../../node_modules/date-fns/esm/startOfISOWeekYear/index.js","../../node_modules/date-fns/esm/getISOWeek/index.js","../../node_modules/date-fns/esm/addDays/index.js","../../node_modules/date-fns/esm/addMonths/index.js","../../node_modules/date-fns/esm/addYears/index.js","../../src/utils/page.ts","../../src/utils/cache.ts","../../src/utils/date/range.ts","../../src/utils/defaults/locales.ts","../../src/utils/defaults/index.ts","../../src/utils/locale.ts","../../src/utils/date/helpers.ts","../../src/utils/date/rules.ts","../../src/utils/date/repeat.ts","../../node_modules/date-fns/esm/getWeeksInMonth/index.js","../../src/utils/attribute.ts","../../src/utils/touch.ts","../../src/utils/watchers.ts","../../node_modules/vue-screen-utils/dist/index.mjs","../../src/utils/glyph.ts","../../src/utils/theme.ts","../../src/use/base.ts","../../src/use/calendar.ts","../../src/utils/popovers.ts","../../src/components/CalendarHeader/CalendarHeader.vue","../../src/components/CalendarDay/CalendarDay.vue","../../src/components/CalendarDay/CalendarDay.vue","../../src/components/CalendarPane/CalendarPane.vue","../../src/components/CalendarPane/CalendarPane.vue","../../src/components/Popover/Popover.vue","../../src/components/Popover/Popover.vue","../../src/use/calendarNav.ts","../../src/components/CalendarNav/CalendarNav.vue","../../src/components/CalendarNavPopover/CalendarNavPopover.vue","../../src/components/PopoverRow/PopoverRow.vue","../../src/components/PopoverRow/PopoverRow.vue","../../src/components/CalendarDayPopover/CalendarDayPopover.vue","../../src/components/Calendar/Calendar.vue","../../src/components/Calendar/Calendar.vue","../../src/components/BaseSelect/BaseSelect.vue","../../src/use/datePicker.ts","../../src/use/timePicker.ts","../../src/components/TimePicker/TimePicker.vue","../../src/components/DatePicker/DatePicker.vue","../../src/index.ts"],"sourcesContent":["<template>\r\n  <svg stroke-linecap=\"round\" stroke-linejoin=\"round\" viewBox=\"0 0 24 24\">\r\n    <polyline points=\"9 18 15 12 9 6\"></polyline>\r\n  </svg>\r\n</template>\r\n","<template>\r\n  <svg stroke-linecap=\"round\" stroke-linejoin=\"round\" viewBox=\"0 0 24 24\">\r\n    <polyline points=\"15 18 9 12 15 6\"></polyline>\r\n  </svg>\r\n</template>\r\n","<template>\r\n  <svg stroke-linecap=\"round\" stroke-linejoin=\"round\" viewBox=\"0 0 24 24\">\r\n    <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n  </svg>\r\n</template>\r\n","<template>\r\n  <svg\r\n    fill=\"none\"\r\n    stroke-linecap=\"round\"\r\n    stroke-linejoin=\"round\"\r\n    stroke-width=\"2\"\r\n    viewBox=\"0 0 24 24\"\r\n  >\r\n    <path d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n  </svg>\r\n</template>\r\n","<template>\r\n  <component :is=\"icon\" :width=\"width\" :height=\"height\" class=\"vc-base-icon\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue';\r\nimport * as icons from './icons';\r\n\r\nconst props = defineProps({\r\n  name: { type: String, required: true },\r\n  width: { type: String },\r\n  height: { type: String },\r\n  size: { type: String, default: '26' },\r\n  viewBox: { type: String },\r\n});\r\n\r\nconst width = computed(() => props.width || props.size);\r\nconst height = computed(() => props.height || props.size);\r\nconst icon = computed(() => (icons as any)[`Icon${props.name}`]);\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vc-base-icon {\r\n  display: inline-block;\r\n  stroke: currentColor;\r\n  stroke-width: 2;\r\n  fill: none;\r\n}\r\n</style>\r\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && baseGetTag(value) == boolTag);\n}\n\nmodule.exports = isBoolean;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar dateTag = '[object Date]';\n\n/**\n * The base implementation of `_.isDate` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n */\nfunction baseIsDate(value) {\n  return isObjectLike(value) && baseGetTag(value) == dateTag;\n}\n\nmodule.exports = baseIsDate;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsDate = require('./_baseIsDate'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsDate = nodeUtil && nodeUtil.isDate;\n\n/**\n * Checks if `value` is classified as a `Date` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n * @example\n *\n * _.isDate(new Date);\n * // => true\n *\n * _.isDate('Mon April 23 2012');\n * // => false\n */\nvar isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\nmodule.exports = isDate;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var baseRest = require('./_baseRest'),\n    eq = require('./eq'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keysIn = require('./keysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","var baseMerge = require('./_baseMerge'),\n    isObject = require('./isObject');\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n * objects into destination objects that are passed thru.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to merge.\n * @param {Object} object The parent object of `objValue`.\n * @param {Object} source The parent object of `srcValue`.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n  if (isObject(objValue) && isObject(srcValue)) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, objValue);\n    baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n    stack['delete'](srcValue);\n  }\n  return objValue;\n}\n\nmodule.exports = customDefaultsMerge;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nmodule.exports = mergeWith;\n","var apply = require('./_apply'),\n    baseRest = require('./_baseRest'),\n    customDefaultsMerge = require('./_customDefaultsMerge'),\n    mergeWith = require('./mergeWith');\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaults\n * @example\n *\n * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n * // => { 'a': { 'b': 2, 'c': 3 } }\n */\nvar defaultsDeep = baseRest(function(args) {\n  args.push(undefined, customDefaultsMerge);\n  return apply(mergeWith, undefined, args);\n});\n\nmodule.exports = defaultsDeep;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.some` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction baseSome(collection, predicate) {\n  var result;\n\n  baseEach(collection, function(value, index, collection) {\n    result = predicate(value, index, collection);\n    return !result;\n  });\n  return !!result;\n}\n\nmodule.exports = baseSome;\n","var arraySome = require('./_arraySome'),\n    baseIteratee = require('./_baseIteratee'),\n    baseSome = require('./_baseSome'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Checks if `predicate` returns truthy for **any** element of `collection`.\n * Iteration is stopped once `predicate` returns truthy. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n * @example\n *\n * _.some([null, 0, 'yes', false], Boolean);\n * // => true\n *\n * var users = [\n *   { 'user': 'barney', 'active': true },\n *   { 'user': 'fred',   'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.some(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.some(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.some(users, 'active');\n * // => true\n */\nfunction some(collection, predicate, guard) {\n  var func = isArray(collection) ? arraySome : baseSome;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = some;\n","import { ComponentPublicInstance } from 'vue';\r\n\r\n// Type utils\r\nimport isFunction from 'lodash/isFunction';\r\nimport isString from 'lodash/isString';\r\n\r\nexport { isFunction, isString };\r\nexport { default as isBoolean } from 'lodash/isBoolean';\r\nexport { default as isNumber } from 'lodash/isNumber';\r\nexport { default as isUndefined } from 'lodash/isUndefined';\r\nimport _isDate from 'lodash/isDate';\r\n\r\n// Object utils\r\nexport { default as get } from 'lodash/get';\r\nexport { default as set } from 'lodash/set';\r\nexport { default as mapValues } from 'lodash/mapValues';\r\nexport { default as defaults } from 'lodash/defaults';\r\nexport { default as defaultsDeep } from 'lodash/defaultsDeep';\r\nimport _has from 'lodash/has';\r\n\r\n// Collection utils\r\nexport { default as map } from 'lodash/map';\r\nexport { default as head } from 'lodash/head';\r\nexport { default as last } from 'lodash/last';\r\nimport _some from 'lodash/some';\r\n\r\n// Type checkers\r\nexport const getType = (value: any) =>\r\n  Object.prototype.toString.call(value).slice(8, -1);\r\nexport const isDate = (value: unknown): value is Date =>\r\n  _isDate(value) && !isNaN(value.getTime());\r\nexport const isObject = (value: unknown): value is Object =>\r\n  getType(value) === 'Object';\r\n\r\n// Object utils\r\nexport const has = _has;\r\nexport const hasAny = (obj: object, props: string[]) =>\r\n  _some(props, p => _has(obj, p));\r\n\r\n// Collection utils\r\nexport const some = _some;\r\n\r\nexport const pad = (val: string | number, len: number, char = '0') => {\r\n  val = val !== null && val !== undefined ? String(val) : '';\r\n  len = len || 2;\r\n  while (val.length < len) {\r\n    val = `${char}${val}`;\r\n  }\r\n  return val;\r\n};\r\n\r\nexport const evalFn = (fn: Function, args: any) =>\r\n  isFunction(fn) ? fn(args) : fn;\r\n\r\nexport const mergeEvents = (...args: Array<any>) => {\r\n  const result: any = {};\r\n  args.forEach(e =>\r\n    Object.entries(e).forEach(([key, value]) => {\r\n      if (!result[key]) {\r\n        result[key] = value;\r\n      } else if (isArray(result[key])) {\r\n        result[key].push(value);\r\n      } else {\r\n        result[key] = [result[key], value];\r\n      }\r\n    }),\r\n  );\r\n  return result;\r\n};\r\n\r\nexport const roundTenth = (n: number) => {\r\n  return Math.round(n * 100) / 100;\r\n};\r\n\r\nexport const isArray = (val: any): val is any[] => Array.isArray(val);\r\n\r\nexport const arrayHasItems = (array: any): boolean =>\r\n  isArray(array) && array.length > 0;\r\n\r\nexport const resolveEl = (target: unknown): Node | null => {\r\n  if (target == null) return target ?? null;\r\n  if (document && isString(target)) return document.querySelector(target);\r\n  return (target as ComponentPublicInstance).$el ?? target;\r\n};\r\n\r\nexport interface ElementPosition {\r\n  top: number;\r\n  left: number;\r\n}\r\n\r\nexport interface CustomElement {\r\n  addEventListener: Function;\r\n  removeEventListener: Function;\r\n  dispatchEvent: Function;\r\n}\r\n\r\nexport const off = (\r\n  element: CustomElement,\r\n  event: string,\r\n  handler: (e: any) => void,\r\n  opts: boolean | EventListenerOptions | undefined = undefined,\r\n) => {\r\n  element.removeEventListener(event, handler, opts);\r\n};\r\n\r\nexport const on = (\r\n  element: CustomElement,\r\n  event: string,\r\n  handler: (e: any) => void,\r\n  opts: boolean | AddEventListenerOptions | undefined = undefined,\r\n) => {\r\n  element.addEventListener(event, handler, opts);\r\n  return () => off(element, event, handler, opts);\r\n};\r\n\r\nexport const elementContains = (element: Node, child: Node) =>\r\n  !!element && !!child && (element === child || element.contains(child));\r\n\r\nexport const onSpaceOrEnter = (\r\n  event: KeyboardEvent,\r\n  handler: (e: KeyboardEvent) => void,\r\n) => {\r\n  if (event.key === ' ' || event.key === 'Enter') {\r\n    handler(event);\r\n    event.preventDefault();\r\n  }\r\n};\r\n\r\nexport const capitalize = (str: string) => {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n};\r\n\r\nexport const omit = <T extends object, K extends [...(keyof T)[]]>(\r\n  obj: T,\r\n  ...keys: K\r\n) => {\r\n  const ret = {} as {\r\n    [K in keyof typeof obj]: typeof obj[K];\r\n  };\r\n  let key: keyof typeof obj;\r\n  for (key in obj) {\r\n    if (!keys.includes(key)) {\r\n      ret[key] = obj[key];\r\n    }\r\n  }\r\n  return ret;\r\n};\r\n\r\nexport const pick = <T extends object, K extends keyof T>(\r\n  obj: T,\r\n  keys: K[],\r\n): Pick<T, K> => {\r\n  const ret: any = {};\r\n  keys.forEach(key => {\r\n    if (key in obj) ret[key] = obj[key];\r\n  });\r\n  return ret;\r\n};\r\n\r\nexport function extend<T extends object, E extends object>(\r\n  value: T,\r\n  ext: E,\r\n): T & E {\r\n  const handler = {\r\n    get(target: T, prop: keyof (T | E)) {\r\n      if ((prop as string) in target) {\r\n        return target[prop];\r\n      }\r\n      return ext[prop];\r\n    },\r\n  };\r\n  // @ts-ignore\r\n  return new Proxy(value, handler) as T & E;\r\n}\r\n\r\nexport function clamp(num: number, min: number, max: number) {\r\n  return Math.min(Math.max(num, min), max);\r\n}\r\n\r\n/* eslint-disable no-bitwise */\r\n\r\nexport const createGuid = () => {\r\n  function S4() {\r\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n  }\r\n  return `${S4() + S4()}-${S4()}-${S4()}-${S4()}-${S4()}${S4()}${S4()}`;\r\n};\r\n\r\nexport function hash(str: string): number {\r\n  let hashcode = 0;\r\n  let i = 0;\r\n  let chr;\r\n  if (str.length === 0) return hashcode;\r\n  for (i = 0; i < str.length; i++) {\r\n    chr = str.charCodeAt(i);\r\n    hashcode = (hashcode << 5) - hashcode + chr;\r\n    hashcode |= 0; // Convert to 32bit integer\r\n  }\r\n  return hashcode;\r\n}\r\n\r\n/* eslint-enable no-bitwise */\r\n","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","/**\n * Returns the [year, month, day, hour, minute, seconds] tokens of the provided\n * `date` as it will be rendered in the `timeZone`.\n */\nexport default function tzTokenizeDate(date, timeZone) {\n  var dtf = getDateTimeFormat(timeZone)\n  return dtf.formatToParts ? partsOffset(dtf, date) : hackyOffset(dtf, date)\n}\n\nvar typeToPos = {\n  year: 0,\n  month: 1,\n  day: 2,\n  hour: 3,\n  minute: 4,\n  second: 5,\n}\n\nfunction partsOffset(dtf, date) {\n  var formatted = dtf.formatToParts(date)\n  var filled = []\n  for (var i = 0; i < formatted.length; i++) {\n    var pos = typeToPos[formatted[i].type]\n\n    if (pos >= 0) {\n      filled[pos] = parseInt(formatted[i].value, 10)\n    }\n  }\n  return filled\n}\n\nfunction hackyOffset(dtf, date) {\n  var formatted = dtf.format(date).replace(/\\u200E/g, '')\n  var parsed = /(\\d+)\\/(\\d+)\\/(\\d+),? (\\d+):(\\d+):(\\d+)/.exec(formatted)\n  // var [, fMonth, fDay, fYear, fHour, fMinute, fSecond] = parsed\n  // return [fYear, fMonth, fDay, fHour, fMinute, fSecond]\n  return [parsed[3], parsed[1], parsed[2], parsed[4], parsed[5], parsed[6]]\n}\n\n// Get a cached Intl.DateTimeFormat instance for the IANA `timeZone`. This can be used\n// to get deterministic local date/time output according to the `en-US` locale which\n// can be used to extract local time parts as necessary.\nvar dtfCache = {}\nfunction getDateTimeFormat(timeZone) {\n  if (!dtfCache[timeZone]) {\n    // New browsers use `hourCycle`, IE and Chrome <73 does not support it and uses `hour12`\n    var testDateFormatted = new Intl.DateTimeFormat('en-US', {\n      hour12: false,\n      timeZone: 'America/New_York',\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n    }).format(new Date('2014-06-25T04:00:00.123Z'))\n    var hourCycleSupported =\n      testDateFormatted === '06/25/2014, 00:00:00' ||\n      testDateFormatted === '‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00'\n\n    dtfCache[timeZone] = hourCycleSupported\n      ? new Intl.DateTimeFormat('en-US', {\n          hour12: false,\n          timeZone: timeZone,\n          year: 'numeric',\n          month: '2-digit',\n          day: '2-digit',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        })\n      : new Intl.DateTimeFormat('en-US', {\n          hourCycle: 'h23',\n          timeZone: timeZone,\n          year: 'numeric',\n          month: '2-digit',\n          day: '2-digit',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit',\n        })\n  }\n  return dtfCache[timeZone]\n}\n","import tzTokenizeDate from '../tzTokenizeDate/index.js'\n\nvar MILLISECONDS_IN_HOUR = 3600000\nvar MILLISECONDS_IN_MINUTE = 60000\n\nvar patterns = {\n  timezone: /([Z+-].*)$/,\n  timezoneZ: /^(Z)$/,\n  timezoneHH: /^([+-])(\\d{2})$/,\n  timezoneHHMM: /^([+-])(\\d{2}):?(\\d{2})$/,\n}\n\n// Parse various time zone offset formats to an offset in milliseconds\nexport default function tzParseTimezone(timezoneString, date, isUtcDate) {\n  var token\n  var absoluteOffset\n\n  // Empty string\n  if (timezoneString === '') {\n    return 0\n  }\n\n  // Z\n  token = patterns.timezoneZ.exec(timezoneString)\n  if (token) {\n    return 0\n  }\n\n  var hours\n\n  // ±hh\n  token = patterns.timezoneHH.exec(timezoneString)\n  if (token) {\n    hours = parseInt(token[2], 10)\n\n    if (!validateTimezone(hours)) {\n      return NaN\n    }\n\n    absoluteOffset = hours * MILLISECONDS_IN_HOUR\n    return token[1] === '+' ? -absoluteOffset : absoluteOffset\n  }\n\n  // ±hh:mm or ±hhmm\n  token = patterns.timezoneHHMM.exec(timezoneString)\n  if (token) {\n    hours = parseInt(token[2], 10)\n    var minutes = parseInt(token[3], 10)\n\n    if (!validateTimezone(hours, minutes)) {\n      return NaN\n    }\n\n    absoluteOffset = hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE\n    return token[1] === '+' ? -absoluteOffset : absoluteOffset\n  }\n\n  // IANA time zone\n  if (isValidTimezoneIANAString(timezoneString)) {\n    date = new Date(date || Date.now())\n    var utcDate = isUtcDate ? date : toUtcDate(date)\n\n    var offset = calcOffset(utcDate, timezoneString)\n\n    var fixedOffset = isUtcDate ? offset : fixOffset(date, offset, timezoneString)\n\n    return -fixedOffset\n  }\n\n  return NaN\n}\n\nfunction toUtcDate(date) {\n  return new Date(\n    Date.UTC(\n      date.getFullYear(),\n      date.getMonth(),\n      date.getDate(),\n      date.getHours(),\n      date.getMinutes(),\n      date.getSeconds(),\n      date.getMilliseconds()\n    )\n  )\n}\n\nfunction calcOffset(date, timezoneString) {\n  var tokens = tzTokenizeDate(date, timezoneString)\n\n  var asUTC = Date.UTC(tokens[0], tokens[1] - 1, tokens[2], tokens[3] % 24, tokens[4], tokens[5])\n\n  var asTS = date.getTime()\n  var over = asTS % 1000\n  asTS -= over >= 0 ? over : 1000 + over\n  return asUTC - asTS\n}\n\nfunction fixOffset(date, offset, timezoneString) {\n  var localTS = date.getTime()\n\n  // Our UTC time is just a guess because our offset is just a guess\n  var utcGuess = localTS - offset\n\n  // Test whether the zone matches the offset for this ts\n  var o2 = calcOffset(new Date(utcGuess), timezoneString)\n\n  // If so, offset didn't change, and we're done\n  if (offset === o2) {\n    return offset\n  }\n\n  // If not, change the ts by the difference in the offset\n  utcGuess -= o2 - offset\n\n  // If that gives us the local time we want, we're done\n  var o3 = calcOffset(new Date(utcGuess), timezoneString)\n  if (o2 === o3) {\n    return o2\n  }\n\n  // If it's different, we're in a hole time. The offset has changed, but we don't adjust the time\n  return Math.max(o2, o3)\n}\n\nfunction validateTimezone(hours, minutes) {\n  return !(minutes != null && (minutes < 0 || minutes > 59))\n}\n\nvar validIANATimezoneCache = {}\nfunction isValidTimezoneIANAString(timeZoneString) {\n  if (validIANATimezoneCache[timeZoneString]) return true\n  try {\n    Intl.DateTimeFormat(undefined, { timeZone: timeZoneString })\n    validIANATimezoneCache[timeZoneString] = true\n    return true\n  } catch (error) {\n    return false\n  }\n}\n","import toInteger from 'date-fns/esm/_lib/toInteger/index.js'\nimport getTimezoneOffsetInMilliseconds from 'date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js'\nimport tzParseTimezone from '../_lib/tzParseTimezone'\nimport tzPattern from '../_lib/tzPattern'\n\nvar MILLISECONDS_IN_HOUR = 3600000\nvar MILLISECONDS_IN_MINUTE = 60000\nvar DEFAULT_ADDITIONAL_DIGITS = 2\n\nvar patterns = {\n  dateTimePattern: /^([0-9W+-]+)(T| )(.*)/,\n  datePattern: /^([0-9W+-]+)(.*)/,\n  plainTime: /:/,\n\n  // year tokens\n  YY: /^(\\d{2})$/,\n  YYY: [\n    /^([+-]\\d{2})$/, // 0 additional digits\n    /^([+-]\\d{3})$/, // 1 additional digit\n    /^([+-]\\d{4})$/, // 2 additional digits\n  ],\n  YYYY: /^(\\d{4})/,\n  YYYYY: [\n    /^([+-]\\d{4})/, // 0 additional digits\n    /^([+-]\\d{5})/, // 1 additional digit\n    /^([+-]\\d{6})/, // 2 additional digits\n  ],\n\n  // date tokens\n  MM: /^-(\\d{2})$/,\n  DDD: /^-?(\\d{3})$/,\n  MMDD: /^-?(\\d{2})-?(\\d{2})$/,\n  Www: /^-?W(\\d{2})$/,\n  WwwD: /^-?W(\\d{2})-?(\\d{1})$/,\n\n  HH: /^(\\d{2}([.,]\\d*)?)$/,\n  HHMM: /^(\\d{2}):?(\\d{2}([.,]\\d*)?)$/,\n  HHMMSS: /^(\\d{2}):?(\\d{2}):?(\\d{2}([.,]\\d*)?)$/,\n\n  // time zone tokens (to identify the presence of a tz)\n  timeZone: tzPattern,\n}\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If an argument is a string, the function tries to parse it.\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n * If the function cannot parse the string or the values are invalid, it returns Invalid Date.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n * All *date-fns* functions will throw `RangeError` if `options.additionalDigits` is not 0, 1, 2 or undefined.\n *\n * @param {Date|String|Number} argument - the value to convert\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @param {String} [options.timeZone=''] - used to specify the IANA time zone offset of a date String.\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = toDate('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * var result = toDate('+02014101', {additionalDigits: 1})\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport default function toDate(argument, dirtyOptions) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument required, but only ' + arguments.length + ' present')\n  }\n\n  if (argument === null) {\n    return new Date(NaN)\n  }\n\n  var options = dirtyOptions || {}\n\n  var additionalDigits =\n    options.additionalDigits == null\n      ? DEFAULT_ADDITIONAL_DIGITS\n      : toInteger(options.additionalDigits)\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2')\n  }\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === 'object' && Object.prototype.toString.call(argument) === '[object Date]')\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime())\n  } else if (\n    typeof argument === 'number' ||\n    Object.prototype.toString.call(argument) === '[object Number]'\n  ) {\n    return new Date(argument)\n  } else if (\n    !(\n      typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]'\n    )\n  ) {\n    return new Date(NaN)\n  }\n\n  var dateStrings = splitDateString(argument)\n\n  var parseYearResult = parseYear(dateStrings.date, additionalDigits)\n  var year = parseYearResult.year\n  var restDateString = parseYearResult.restDateString\n\n  var date = parseDate(restDateString, year)\n\n  if (isNaN(date)) {\n    return new Date(NaN)\n  }\n\n  if (date) {\n    var timestamp = date.getTime()\n    var time = 0\n    var offset\n\n    if (dateStrings.time) {\n      time = parseTime(dateStrings.time)\n\n      if (isNaN(time)) {\n        return new Date(NaN)\n      }\n    }\n\n    if (dateStrings.timeZone || options.timeZone) {\n      offset = tzParseTimezone(dateStrings.timeZone || options.timeZone, new Date(timestamp + time))\n      if (isNaN(offset)) {\n        return new Date(NaN)\n      }\n    } else {\n      // get offset accurate to hour in time zones that change offset\n      offset = getTimezoneOffsetInMilliseconds(new Date(timestamp + time))\n      offset = getTimezoneOffsetInMilliseconds(new Date(timestamp + time + offset))\n    }\n\n    return new Date(timestamp + time + offset)\n  } else {\n    return new Date(NaN)\n  }\n}\n\nfunction splitDateString(dateString) {\n  var dateStrings = {}\n  var parts = patterns.dateTimePattern.exec(dateString)\n  var timeString\n\n  if (!parts) {\n    parts = patterns.datePattern.exec(dateString)\n    if (parts) {\n      dateStrings.date = parts[1]\n      timeString = parts[2]\n    } else {\n      dateStrings.date = null\n      timeString = dateString\n    }\n  } else {\n    dateStrings.date = parts[1]\n    timeString = parts[3]\n  }\n\n  if (timeString) {\n    var token = patterns.timeZone.exec(timeString)\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '')\n      dateStrings.timeZone = token[1].trim()\n    } else {\n      dateStrings.time = timeString\n    }\n  }\n\n  return dateStrings\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var patternYYY = patterns.YYY[additionalDigits]\n  var patternYYYYY = patterns.YYYYY[additionalDigits]\n\n  var token\n\n  // YYYY or ±YYYYY\n  token = patterns.YYYY.exec(dateString) || patternYYYYY.exec(dateString)\n  if (token) {\n    var yearString = token[1]\n    return {\n      year: parseInt(yearString, 10),\n      restDateString: dateString.slice(yearString.length),\n    }\n  }\n\n  // YY or ±YYY\n  token = patterns.YY.exec(dateString) || patternYYY.exec(dateString)\n  if (token) {\n    var centuryString = token[1]\n    return {\n      year: parseInt(centuryString, 10) * 100,\n      restDateString: dateString.slice(centuryString.length),\n    }\n  }\n\n  // Invalid ISO-formatted year\n  return {\n    year: null,\n  }\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) {\n    return null\n  }\n\n  var token\n  var date\n  var month\n  var week\n\n  // YYYY\n  if (dateString.length === 0) {\n    date = new Date(0)\n    date.setUTCFullYear(year)\n    return date\n  }\n\n  // YYYY-MM\n  token = patterns.MM.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    month = parseInt(token[1], 10) - 1\n\n    if (!validateDate(year, month)) {\n      return new Date(NaN)\n    }\n\n    date.setUTCFullYear(year, month)\n    return date\n  }\n\n  // YYYY-DDD or YYYYDDD\n  token = patterns.DDD.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    var dayOfYear = parseInt(token[1], 10)\n\n    if (!validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN)\n    }\n\n    date.setUTCFullYear(year, 0, dayOfYear)\n    return date\n  }\n\n  // yyyy-MM-dd or YYYYMMDD\n  token = patterns.MMDD.exec(dateString)\n  if (token) {\n    date = new Date(0)\n    month = parseInt(token[1], 10) - 1\n    var day = parseInt(token[2], 10)\n\n    if (!validateDate(year, month, day)) {\n      return new Date(NaN)\n    }\n\n    date.setUTCFullYear(year, month, day)\n    return date\n  }\n\n  // YYYY-Www or YYYYWww\n  token = patterns.Www.exec(dateString)\n  if (token) {\n    week = parseInt(token[1], 10) - 1\n\n    if (!validateWeekDate(year, week)) {\n      return new Date(NaN)\n    }\n\n    return dayOfISOWeekYear(year, week)\n  }\n\n  // YYYY-Www-D or YYYYWwwD\n  token = patterns.WwwD.exec(dateString)\n  if (token) {\n    week = parseInt(token[1], 10) - 1\n    var dayOfWeek = parseInt(token[2], 10) - 1\n\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN)\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek)\n  }\n\n  // Invalid ISO-formatted date\n  return null\n}\n\nfunction parseTime(timeString) {\n  var token\n  var hours\n  var minutes\n\n  // hh\n  token = patterns.HH.exec(timeString)\n  if (token) {\n    hours = parseFloat(token[1].replace(',', '.'))\n\n    if (!validateTime(hours)) {\n      return NaN\n    }\n\n    return (hours % 24) * MILLISECONDS_IN_HOUR\n  }\n\n  // hh:mm or hhmm\n  token = patterns.HHMM.exec(timeString)\n  if (token) {\n    hours = parseInt(token[1], 10)\n    minutes = parseFloat(token[2].replace(',', '.'))\n\n    if (!validateTime(hours, minutes)) {\n      return NaN\n    }\n\n    return (hours % 24) * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE\n  }\n\n  // hh:mm:ss or hhmmss\n  token = patterns.HHMMSS.exec(timeString)\n  if (token) {\n    hours = parseInt(token[1], 10)\n    minutes = parseInt(token[2], 10)\n    var seconds = parseFloat(token[3].replace(',', '.'))\n\n    if (!validateTime(hours, minutes, seconds)) {\n      return NaN\n    }\n\n    return (hours % 24) * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * 1000\n  }\n\n  // Invalid ISO-formatted time\n  return null\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  week = week || 0\n  day = day || 0\n  var date = new Date(0)\n  date.setUTCFullYear(isoWeekYear, 0, 4)\n  var fourthOfJanuaryDay = date.getUTCDay() || 7\n  var diff = week * 7 + day + 1 - fourthOfJanuaryDay\n  date.setUTCDate(date.getUTCDate() + diff)\n  return date\n}\n\n// Validation functions\n\nvar DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nvar DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0)\n}\n\nfunction validateDate(year, month, date) {\n  if (month < 0 || month > 11) {\n    return false\n  }\n\n  if (date != null) {\n    if (date < 1) {\n      return false\n    }\n\n    var isLeapYear = isLeapYearIndex(year)\n    if (isLeapYear && date > DAYS_IN_MONTH_LEAP_YEAR[month]) {\n      return false\n    }\n    if (!isLeapYear && date > DAYS_IN_MONTH[month]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  if (dayOfYear < 1) {\n    return false\n  }\n\n  var isLeapYear = isLeapYearIndex(year)\n  if (isLeapYear && dayOfYear > 366) {\n    return false\n  }\n  if (!isLeapYear && dayOfYear > 365) {\n    return false\n  }\n\n  return true\n}\n\nfunction validateWeekDate(year, week, day) {\n  if (week < 0 || week > 52) {\n    return false\n  }\n\n  if (day != null && (day < 0 || day > 6)) {\n    return false\n  }\n\n  return true\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours != null && (hours < 0 || hours >= 25)) {\n    return false\n  }\n\n  if (minutes != null && (minutes < 0 || minutes >= 60)) {\n    return false\n  }\n\n  if (seconds != null && (seconds < 0 || seconds >= 60)) {\n    return false\n  }\n\n  return true\n}\n","/** Regex to identify the presence of a time zone specifier in a date string */\nvar tzPattern = /(Z|[+-]\\d{2}(?::?\\d{2})?| UTC| [a-zA-Z]+\\/[a-zA-Z_]+(?:\\/[a-zA-Z_]+)?)$/\n\nexport default tzPattern\n","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","import toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setDate(date.getDate() - diff);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import startOfWeek from \"../startOfWeek/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\n/**\n * @name differenceInCalendarWeeks\n * @category Week Helpers\n * @summary Get the number of calendar weeks between the given dates.\n *\n * @description\n * Get the number of calendar weeks between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Number} the number of calendar weeks\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // How many calendar weeks are between 5 July 2014 and 20 July 2014?\n * const result = differenceInCalendarWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5)\n * )\n * //=> 3\n *\n * @example\n * // If the week starts on Monday,\n * // how many calendar weeks are between 5 July 2014 and 20 July 2014?\n * const result = differenceInCalendarWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5),\n *   { weekStartsOn: 1 }\n * )\n * //=> 2\n */\n\nexport default function differenceInCalendarWeeks(dirtyDateLeft, dirtyDateRight, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var startOfWeekLeft = startOfWeek(dirtyDateLeft, dirtyOptions);\n  var startOfWeekRight = startOfWeek(dirtyDateRight, dirtyOptions);\n  var timestampLeft = startOfWeekLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfWeekLeft);\n  var timestampRight = startOfWeekRight.getTime() - getTimezoneOffsetInMilliseconds(startOfWeekRight); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_WEEK);\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name lastDayOfMonth\n * @category Month Helpers\n * @summary Return the last day of a month for the given date.\n *\n * @description\n * Return the last day of a month for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the last day of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The last day of a month for 2 September 2014 11:55:00:\n * var result = lastDayOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 00:00:00\n */\n\nexport default function lastDayOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import startOfWeek from \"../startOfWeek/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#Week_numbering\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the given date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year\n * @returns {Number} the local week-numbering year\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport default function getWeekYear(dirtyDate, options) {\n  var _options$locale, _options$locale$optio;\n\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getFullYear();\n  var localeFirstWeekContainsDate = options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = (options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  var startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  var startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getWeekYear from \"../getWeekYear/index.js\";\nimport startOfWeek from \"../startOfWeek/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#Week_numbering\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year\n * @returns {Date} the start of a week-numbering year\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport default function startOfWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  var date = startOfWeek(firstWeek, dirtyOptions);\n  return date;\n}","import startOfWeek from \"../startOfWeek/index.js\";\nimport startOfWeekYear from \"../startOfWeekYear/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#Week_numbering\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the given date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year\n * @returns {Number} the week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\n\nexport default function getWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfWeek(date, options).getTime() - startOfWeekYear(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import startOfWeek from \"../startOfWeek/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of an ISO week\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * var result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  return startOfWeek(dirtyDate, {\n    weekStartsOn: 1\n  });\n}","import toDate from \"../toDate/index.js\";\nimport startOfISOWeek from \"../startOfISOWeek/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The function was renamed from `getISOYear` to `getISOWeekYear`.\n *   \"ISO week year\" is short for [ISO week-numbering year](https://en.wikipedia.org/wiki/ISO_week_date).\n *   This change makes the name consistent with\n *   locale-dependent week-numbering year helpers, e.g., `getWeekYear`.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the ISO week-numbering year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\n\nexport default function getISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  var startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  var startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import getISOWeekYear from \"../getISOWeekYear/index.js\";\nimport startOfISOWeek from \"../startOfISOWeek/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of an ISO week-numbering year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\n\nexport default function startOfISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  var date = startOfISOWeek(fourthOfJanuary);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport startOfISOWeek from \"../startOfISOWeek/index.js\";\nimport startOfISOWeekYear from \"../startOfISOWeekYear/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the ISO week\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\n\nexport default function getISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfISOWeek(date).getTime() - startOfISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\n\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  date.setDate(date.getDate() + amount);\n  return date;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\n\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  var dayOfMonth = date.getDate(); // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\n\nexport default function addYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, amount * 12);\n}","import {\r\n  DateSource,\r\n  DayParts,\r\n  DateParts,\r\n  MonthParts,\r\n  daysInWeek,\r\n  weeksInMonth,\r\n  addDays,\r\n  addMonths,\r\n  getDayIndex,\r\n} from './date/helpers';\r\nimport Locale from './locale';\r\nimport { pad, pick } from './helpers';\r\n\r\nexport interface CalendarDay extends DayParts {\r\n  id: string;\r\n  position: number;\r\n  label: string;\r\n  ariaLabel: string;\r\n  weekdayPosition: number;\r\n  weekdayPositionFromEnd: number;\r\n  weekPosition: number;\r\n  isoWeeknumber: number;\r\n  startDate: Date;\r\n  noonDate: Date;\r\n  endDate: Date;\r\n  isToday: boolean;\r\n  isFirstDay: boolean;\r\n  isLastDay: boolean;\r\n  isDisabled: boolean;\r\n  isFocusable: boolean;\r\n  inMonth: boolean;\r\n  inPrevMonth: boolean;\r\n  inNextMonth: boolean;\r\n  onTop: boolean;\r\n  onBottom: boolean;\r\n  onLeft: boolean;\r\n  onRight: boolean;\r\n  classes: Array<string | Object>;\r\n  locale: Locale;\r\n}\r\n\r\nexport interface CalendarWeek {\r\n  id: string;\r\n  week: number;\r\n  weekPosition: number;\r\n  weeknumber: number;\r\n  isoWeeknumber: number;\r\n  weeknumberDisplay?: number;\r\n  days: CalendarDay[];\r\n  title: string;\r\n}\r\n\r\nexport type PageView = 'daily' | 'weekly' | 'monthly';\r\n\r\nexport type TitlePosition = 'center' | 'left' | 'right';\r\n\r\nexport interface Page {\r\n  id: string;\r\n  day?: number;\r\n  week?: number;\r\n  month: number;\r\n  year: number;\r\n  view: PageView;\r\n  trimWeeks: boolean;\r\n  position: number;\r\n  row: number;\r\n  rowFromEnd: number;\r\n  column: number;\r\n  columnFromEnd: number;\r\n  showWeeknumbers: boolean;\r\n  showIsoWeeknumbers: boolean;\r\n  weeknumberPosition: string;\r\n  monthTitle: string;\r\n  weekTitle?: string;\r\n  dayTitle?: string;\r\n  title: string;\r\n  titlePosition: TitlePosition;\r\n  shortMonthLabel: string;\r\n  monthLabel: string;\r\n  shortYearLabel: string;\r\n  yearLabel: string;\r\n  weekdayLabels: string[];\r\n  monthComps: MonthParts;\r\n  prevMonthComps: MonthParts;\r\n  nextMonthComps: MonthParts;\r\n  days: CalendarDay[];\r\n  weeks: CalendarWeek[];\r\n  viewDays: CalendarDay[];\r\n  viewWeeks: CalendarWeek[];\r\n}\r\n\r\nexport type PageAddress = Pick<Page, 'day' | 'week' | 'month' | 'year'>;\r\n\r\nexport type PageConfig = Pick<\r\n  Page,\r\n  | 'day'\r\n  | 'week'\r\n  | 'month'\r\n  | 'year'\r\n  | 'view'\r\n  | 'titlePosition'\r\n  | 'trimWeeks'\r\n  | 'position'\r\n  | 'row'\r\n  | 'rowFromEnd'\r\n  | 'column'\r\n  | 'columnFromEnd'\r\n  | 'showWeeknumbers'\r\n  | 'showIsoWeeknumbers'\r\n  | 'weeknumberPosition'\r\n>;\r\n\r\nexport type CachedPage = Pick<\r\n  Page,\r\n  | 'id'\r\n  | 'month'\r\n  | 'year'\r\n  | 'monthTitle'\r\n  | 'shortMonthLabel'\r\n  | 'monthLabel'\r\n  | 'shortYearLabel'\r\n  | 'yearLabel'\r\n  | 'weekdayLabels'\r\n  | 'monthComps'\r\n  | 'prevMonthComps'\r\n  | 'nextMonthComps'\r\n  | 'days'\r\n  | 'weeks'\r\n>;\r\n\r\nconst viewAddressKeys: Record<PageView, (keyof DateParts)[]> = {\r\n  daily: ['year', 'month', 'day'],\r\n  weekly: ['year', 'month', 'week'],\r\n  monthly: ['year', 'month'],\r\n};\r\n\r\nfunction getDays(\r\n  {\r\n    monthComps,\r\n    prevMonthComps,\r\n    nextMonthComps,\r\n  }: Pick<Page, 'monthComps' | 'prevMonthComps' | 'nextMonthComps'>,\r\n  locale: Locale,\r\n): CalendarDay[] {\r\n  const days: CalendarDay[] = [];\r\n  const {\r\n    firstDayOfWeek,\r\n    firstWeekday,\r\n    isoWeeknumbers,\r\n    weeknumbers,\r\n    numDays,\r\n    numWeeks,\r\n  } = monthComps;\r\n  const prevMonthDaysToShow =\r\n    firstWeekday +\r\n    (firstWeekday < firstDayOfWeek ? daysInWeek : 0) -\r\n    firstDayOfWeek;\r\n  let prevMonth = true;\r\n  let thisMonth = false;\r\n  let nextMonth = false;\r\n  let position = 0;\r\n  // Formatter for aria labels\r\n  const formatter = new Intl.DateTimeFormat(locale.id, {\r\n    weekday: 'long',\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric',\r\n  });\r\n  // Init counters with previous month's data\r\n  let day = prevMonthComps.numDays - prevMonthDaysToShow + 1;\r\n  let dayFromEnd = prevMonthComps.numDays - day + 1;\r\n  let weekdayOrdinal = Math.floor((day - 1) / daysInWeek + 1);\r\n  let weekdayOrdinalFromEnd = 1;\r\n  let week = prevMonthComps.numWeeks;\r\n  let weekFromEnd = 1;\r\n  let month = prevMonthComps.month;\r\n  let year = prevMonthComps.year;\r\n  // Store todays comps\r\n  const today = new Date();\r\n  const todayDay = today.getDate();\r\n  const todayMonth = today.getMonth() + 1;\r\n  const todayYear = today.getFullYear();\r\n  // Cycle through max weeks in month\r\n  for (let w = 1; w <= weeksInMonth; w++) {\r\n    // Cycle through days in week\r\n    for (\r\n      let i = 1, weekday = firstDayOfWeek;\r\n      i <= daysInWeek;\r\n      i++, weekday += weekday === daysInWeek ? 1 - daysInWeek : 1\r\n    ) {\r\n      // We need to know when to start counting actual month days\r\n      if (prevMonth && weekday === firstWeekday) {\r\n        // Reset counters for current month\r\n        day = 1;\r\n        dayFromEnd = monthComps.numDays;\r\n        weekdayOrdinal = Math.floor((day - 1) / daysInWeek + 1);\r\n        weekdayOrdinalFromEnd = Math.floor((numDays - day) / daysInWeek + 1);\r\n        week = 1;\r\n        weekFromEnd = numWeeks;\r\n        month = monthComps.month;\r\n        year = monthComps.year;\r\n        // ...and flag we're tracking actual month days\r\n        prevMonth = false;\r\n        thisMonth = true;\r\n      }\r\n      const startDate = locale.getDateFromParams(year, month, day, 0, 0, 0, 0);\r\n      const noonDate = locale.getDateFromParams(year, month, day, 12, 0, 0, 0);\r\n      const endDate = locale.getDateFromParams(\r\n        year,\r\n        month,\r\n        day,\r\n        23,\r\n        59,\r\n        59,\r\n        999,\r\n      );\r\n      const date = startDate;\r\n      const id = `${pad(year, 4)}-${pad(month, 2)}-${pad(day, 2)}`;\r\n      const weekdayPosition = i;\r\n      const weekdayPositionFromEnd = daysInWeek - i;\r\n      const weeknumber = weeknumbers[w - 1];\r\n      const isoWeeknumber = isoWeeknumbers[w - 1];\r\n      const isToday =\r\n        day === todayDay && month === todayMonth && year === todayYear;\r\n      const isFirstDay = thisMonth && day === 1;\r\n      const isLastDay = thisMonth && day === numDays;\r\n      const onTop = w === 1;\r\n      const onBottom = w === numWeeks;\r\n      const onLeft = i === 1;\r\n      const onRight = i === daysInWeek;\r\n      const dayIndex = getDayIndex(year, month, day);\r\n      days.push({\r\n        locale,\r\n        id,\r\n        position: ++position,\r\n        label: day.toString(),\r\n        ariaLabel: formatter.format(new Date(year, month - 1, day)),\r\n        day,\r\n        dayFromEnd,\r\n        weekday,\r\n        weekdayPosition,\r\n        weekdayPositionFromEnd,\r\n        weekdayOrdinal,\r\n        weekdayOrdinalFromEnd,\r\n        week,\r\n        weekFromEnd,\r\n        weekPosition: w,\r\n        weeknumber,\r\n        isoWeeknumber,\r\n        month,\r\n        year,\r\n        date,\r\n        startDate,\r\n        endDate,\r\n        noonDate,\r\n        dayIndex,\r\n        isToday,\r\n        isFirstDay,\r\n        isLastDay,\r\n        isDisabled: !thisMonth,\r\n        isFocusable: !thisMonth,\r\n        inMonth: thisMonth,\r\n        inPrevMonth: prevMonth,\r\n        inNextMonth: nextMonth,\r\n        onTop,\r\n        onBottom,\r\n        onLeft,\r\n        onRight,\r\n        classes: [\r\n          `id-${id}`,\r\n          `day-${day}`,\r\n          `day-from-end-${dayFromEnd}`,\r\n          `weekday-${weekday}`,\r\n          `weekday-position-${weekdayPosition}`,\r\n          `weekday-ordinal-${weekdayOrdinal}`,\r\n          `weekday-ordinal-from-end-${weekdayOrdinalFromEnd}`,\r\n          `week-${week}`,\r\n          `week-from-end-${weekFromEnd}`,\r\n          {\r\n            'is-today': isToday,\r\n            'is-first-day': isFirstDay,\r\n            'is-last-day': isLastDay,\r\n            'in-month': thisMonth,\r\n            'in-prev-month': prevMonth,\r\n            'in-next-month': nextMonth,\r\n            'on-top': onTop,\r\n            'on-bottom': onBottom,\r\n            'on-left': onLeft,\r\n            'on-right': onRight,\r\n          },\r\n        ],\r\n      });\r\n      // See if we've hit the last day of the month\r\n      if (thisMonth && isLastDay) {\r\n        thisMonth = false;\r\n        nextMonth = true;\r\n        // Reset counters to next month's data\r\n        day = 1;\r\n        dayFromEnd = numDays;\r\n        weekdayOrdinal = 1;\r\n        weekdayOrdinalFromEnd = Math.floor((numDays - day) / daysInWeek + 1);\r\n        week = 1;\r\n        weekFromEnd = nextMonthComps.numWeeks;\r\n        month = nextMonthComps.month;\r\n        year = nextMonthComps.year;\r\n        // Still in the middle of the month (hasn't ended yet)\r\n      } else {\r\n        day++;\r\n        dayFromEnd--;\r\n        weekdayOrdinal = Math.floor((day - 1) / daysInWeek + 1);\r\n        weekdayOrdinalFromEnd = Math.floor((numDays - day) / daysInWeek + 1);\r\n      }\r\n    }\r\n    // Append week days\r\n    week++;\r\n    weekFromEnd--;\r\n  }\r\n  return days;\r\n}\r\n\r\nfunction getWeeks(\r\n  days: CalendarDay[],\r\n  showWeeknumbers: boolean,\r\n  showIsoWeeknumbers: boolean,\r\n  locale: Locale,\r\n): CalendarWeek[] {\r\n  const result = days.reduce((result: CalendarWeek[], day: CalendarDay, i) => {\r\n    const weekIndex = Math.floor(i / 7);\r\n    let week = result[weekIndex];\r\n    if (!week) {\r\n      week = {\r\n        id: `week-${weekIndex + 1}`,\r\n        title: '',\r\n        week: day.week,\r\n        weekPosition: day.weekPosition,\r\n        weeknumber: day.weeknumber,\r\n        isoWeeknumber: day.isoWeeknumber,\r\n        weeknumberDisplay: showWeeknumbers\r\n          ? day.weeknumber\r\n          : showIsoWeeknumbers\r\n          ? day.isoWeeknumber\r\n          : undefined,\r\n        days: [],\r\n      };\r\n      result[weekIndex] = week;\r\n    }\r\n    week.days.push(day);\r\n    return result;\r\n  }, Array(days.length / daysInWeek));\r\n  result.forEach(week => {\r\n    const fromDay = week.days[0];\r\n    const toDay = week.days[week.days.length - 1];\r\n    if (fromDay.month === toDay.month) {\r\n      week.title = `${locale.formatDate(fromDay.date, 'MMMM YYYY')}`;\r\n    } else if (fromDay.year === toDay.year) {\r\n      week.title = `${locale.formatDate(\r\n        fromDay.date,\r\n        'MMM',\r\n      )} - ${locale.formatDate(toDay.date, 'MMM YYYY')}`;\r\n    } else {\r\n      week.title = `${locale.formatDate(\r\n        fromDay.date,\r\n        'MMM YYYY',\r\n      )} - ${locale.formatDate(toDay.date, 'MMM YYYY')}`;\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\nexport function getPageAddressForDate(\r\n  date: DateSource,\r\n  view: PageView,\r\n  locale: Locale,\r\n) {\r\n  return pick(\r\n    locale.getDateParts(locale.toDate(date)),\r\n    viewAddressKeys[view],\r\n  ) as PageAddress;\r\n}\r\n\r\nexport function addPages(\r\n  { day, week, month, year }: PageAddress,\r\n  count: number,\r\n  view: PageView,\r\n  locale: Locale,\r\n): PageAddress {\r\n  if (view === 'daily' && day) {\r\n    const date = new Date(year, month - 1, day);\r\n    const newDate = addDays(date, count);\r\n    return {\r\n      day: newDate.getDate(),\r\n      month: newDate.getMonth() + 1,\r\n      year: newDate.getFullYear(),\r\n    };\r\n  } else if (view === 'weekly' && week) {\r\n    const comps = locale.getMonthParts(month, year);\r\n    const date = comps.firstDayOfMonth;\r\n    const newDate = addDays(date, (week - 1 + count) * 7);\r\n    const parts = locale.getDateParts(newDate);\r\n    return {\r\n      week: parts.week,\r\n      month: parts.month,\r\n      year: parts.year,\r\n    };\r\n  } else {\r\n    const date = new Date(year, month - 1, 1);\r\n    const newDate = addMonths(date, count);\r\n    return {\r\n      month: newDate.getMonth() + 1,\r\n      year: newDate.getFullYear(),\r\n    };\r\n  }\r\n}\r\n\r\nexport function pageIsValid(page: PageAddress | null | undefined) {\r\n  return page != null && page.month != null && page.year != null;\r\n}\r\n\r\nexport function pageIsBeforePage(\r\n  page: PageAddress | null | undefined,\r\n  comparePage: PageAddress | null | undefined,\r\n) {\r\n  if (!pageIsValid(page) || !pageIsValid(comparePage)) return false;\r\n  page = page as PageAddress;\r\n  comparePage = comparePage as PageAddress;\r\n  if (page.year !== comparePage.year) return page.year < comparePage.year;\r\n  if (page.month && comparePage.month && page.month !== comparePage.month)\r\n    return page.month < comparePage.month;\r\n  if (page.week && comparePage.week && page.week !== comparePage.week) {\r\n    return page.week < comparePage.week;\r\n  }\r\n  if (page.day && comparePage.day && page.day !== comparePage.day) {\r\n    return page.day < comparePage.day;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function pageIsAfterPage(\r\n  page: PageAddress | null | undefined,\r\n  comparePage: PageAddress | null | undefined,\r\n) {\r\n  if (!pageIsValid(page) || !pageIsValid(comparePage)) return false;\r\n  page = page as PageAddress;\r\n  comparePage = comparePage as PageAddress;\r\n  if (page.year !== comparePage.year) {\r\n    return page.year > comparePage.year;\r\n  }\r\n  if (page.month && comparePage.month && page.month !== comparePage.month) {\r\n    return page.month > comparePage.month;\r\n  }\r\n  if (page.week && comparePage.week && page.week !== comparePage.week) {\r\n    return page.week > comparePage.week;\r\n  }\r\n  if (page.day && comparePage.day && page.day !== comparePage.day) {\r\n    return page.day > comparePage.day;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function pageIsBetweenPages(\r\n  page: PageAddress | null | undefined,\r\n  fromPage: PageAddress | null | undefined,\r\n  toPage: PageAddress | null | undefined,\r\n) {\r\n  return (\r\n    (page || false) &&\r\n    !pageIsBeforePage(page, fromPage) &&\r\n    !pageIsAfterPage(page, toPage)\r\n  );\r\n}\r\n\r\nexport function pageIsEqualToPage(\r\n  aPage: PageAddress | null | undefined,\r\n  bPage: PageAddress | null | undefined,\r\n) {\r\n  if (!aPage && bPage) return false;\r\n  if (aPage && !bPage) return false;\r\n  if (!aPage && !bPage) return true;\r\n  aPage = aPage as PageAddress;\r\n  bPage = bPage as PageAddress;\r\n  return (\r\n    aPage.year === bPage.year &&\r\n    aPage.month === bPage.month &&\r\n    aPage.week === bPage.week &&\r\n    aPage.day === bPage.day\r\n  );\r\n}\r\n\r\nexport function pageRangeToArray(\r\n  from: PageAddress,\r\n  to: PageAddress,\r\n  view: PageView,\r\n  locale: Locale,\r\n) {\r\n  if (!pageIsValid(from) || !pageIsValid(to)) return [];\r\n  const result = [];\r\n  while (!pageIsAfterPage(from, to)) {\r\n    result.push(from);\r\n    from = addPages(from, 1, view, locale);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getPageKey(config: PageConfig) {\r\n  const { day, week, month, year } = config;\r\n  let id = `${year}-${pad(month, 2)}`;\r\n  if (week) id = `${id}-w${week}`;\r\n  if (day) id = `${id}-${pad(day, 2)}`;\r\n  return id;\r\n}\r\n\r\nexport function getCachedPage(config: PageConfig, locale: Locale): CachedPage {\r\n  const { month, year, showWeeknumbers, showIsoWeeknumbers,  } = config;\r\n  const date = new Date(year, month - 1, 15);\r\n  const monthComps = locale.getMonthParts(month, year);\r\n  const prevMonthComps = locale.getPrevMonthParts(month, year);\r\n  const nextMonthComps = locale.getNextMonthParts(month, year);\r\n  const days = getDays({ monthComps, prevMonthComps, nextMonthComps }, locale);\r\n  const weeks = getWeeks(days, showWeeknumbers, showIsoWeeknumbers, locale);\r\n  const weekdayLabels = locale.getWeekdayLabels(weeks[0].days);\r\n\r\n  const yearTransform = year + 543;\r\n  let titleTransform = locale.formatDate(date, locale.masks.title);\r\n  titleTransform = `${titleTransform.split(' ')[0]} ${yearTransform}`;\r\n\r\n  return {\r\n    id: getPageKey(config),\r\n    month,\r\n    year,\r\n    monthTitle: titleTransform,\r\n    shortMonthLabel: locale.formatDate(date, 'MMM'),\r\n    monthLabel: locale.formatDate(date, 'MMMM'),\r\n    shortYearLabel: titleTransform.toString().substring(2),\r\n    yearLabel: titleTransform.toString(),\r\n    monthComps,\r\n    prevMonthComps,\r\n    nextMonthComps,\r\n    days,\r\n    weeks,\r\n    weekdayLabels,\r\n  };\r\n}\r\n\r\nexport function getPage(config: PageConfig, cachedPage: CachedPage) {\r\n  const { day, week, view, trimWeeks } = config;\r\n  const page: Page = {\r\n    ...cachedPage,\r\n    ...config,\r\n    title: '',\r\n    viewDays: [],\r\n    viewWeeks: [],\r\n  };\r\n  switch (view) {\r\n    case 'daily': {\r\n      let dayObj = page.days.find(d => d.inMonth)!;\r\n      if (day) {\r\n        dayObj = page.days.find(d => d.day === day && d.inMonth) || dayObj;\r\n      } else if (week) {\r\n        dayObj = page.days.find(d => d.week === week && d.inMonth)!;\r\n      }\r\n      const weekObj = page.weeks[dayObj.week - 1];\r\n      page.viewWeeks = [weekObj];\r\n      page.viewDays = [dayObj];\r\n      page.week = dayObj.week;\r\n      page.weekTitle = weekObj.title;\r\n      page.day = dayObj.day;\r\n      page.dayTitle = dayObj.ariaLabel;\r\n      page.title = page.dayTitle;\r\n      break;\r\n    }\r\n    case 'weekly': {\r\n      page.week = week || 1;\r\n      const weekObj = page.weeks[page.week - 1];\r\n      page.viewWeeks = [weekObj];\r\n      page.viewDays = weekObj.days;\r\n      page.weekTitle = weekObj.title;\r\n      page.title = page.weekTitle;\r\n      break;\r\n    }\r\n    default: {\r\n      page.title = page.monthTitle;\r\n      page.viewWeeks = page.weeks.slice(\r\n        0,\r\n        trimWeeks ? page.monthComps.numWeeks : undefined,\r\n      );\r\n      page.viewDays = page.days;\r\n      break;\r\n    }\r\n  }\r\n  return page;\r\n}\r\n","export default class Cache<T> {\r\n  keys: string[] = [];\r\n  store: Record<string, T> = {};\r\n\r\n  constructor(\r\n    public size: number,\r\n    public createKey: (...args: any[]) => string,\r\n    public createItem: (...args: any[]) => T,\r\n  ) {}\r\n\r\n  get(...args: any[]) {\r\n    const key = this.createKey(...args);\r\n    return this.store[key];\r\n  }\r\n\r\n  getOrSet(...args: any[]): T {\r\n    const key = this.createKey(...args);\r\n    if (this.store[key]) return this.store[key];\r\n    const item = this.createItem(...args);\r\n    if (this.keys.length >= this.size) {\r\n      const removeKey = this.keys.shift();\r\n      if (removeKey != null) {\r\n        delete this.store[removeKey];\r\n      }\r\n    }\r\n    this.keys.push(key);\r\n    this.store[key] = item;\r\n    return item;\r\n  }\r\n}\r\n","import { DateRepeat, DateRepeatConfig } from './repeat';\r\nimport { DateParts, DayParts, addDays, MS_PER_DAY } from './helpers';\r\nimport { isDate, isArray, isObject } from '../helpers';\r\nimport Locale from '../locale';\r\n\r\ntype DateRangeDate = Date | string | number | null;\r\n\r\ninterface DateRangeConfig {\r\n  start: DateRangeDate;\r\n  end: DateRangeDate;\r\n  span: number;\r\n  order: number;\r\n  repeat: Partial<DateRepeatConfig>;\r\n}\r\n\r\nexport type DateRangeSource =\r\n  | DateRange\r\n  | DateRangeDate\r\n  | [DateRangeDate, DateRangeDate]\r\n  | Partial<DateRangeConfig>;\r\n\r\nexport interface SimpleDateRange {\r\n  start: Date;\r\n  end: Date;\r\n}\r\n\r\nexport class DateRange {\r\n  order: number;\r\n  locale: Locale;\r\n  start: DateParts | null = null;\r\n  end: DateParts | null = null;\r\n  repeat: DateRepeat | null = null;\r\n\r\n  static fromMany(ranges: DateRangeSource | DateRangeSource[], locale: Locale) {\r\n    // Assign dates\r\n    return (isArray(ranges) ? ranges : [ranges])\r\n      .filter(d => d)\r\n      .map(d => DateRange.from(d, locale));\r\n  }\r\n\r\n  static from(source: DateRangeSource, locale: Locale) {\r\n    if (source instanceof DateRange) return source;\r\n    const config: Partial<DateRangeConfig> = {\r\n      start: null,\r\n      end: null,\r\n    };\r\n    if (source != null) {\r\n      if (isArray(source)) {\r\n        config.start = source[0] ?? null;\r\n        config.end = source[1] ?? null;\r\n      } else if (isObject(source)) {\r\n        Object.assign(config, source);\r\n      } else {\r\n        config.start = source;\r\n        config.end = source;\r\n      }\r\n    }\r\n    if (config.start != null) config.start = new Date(config.start);\r\n    if (config.end != null) config.end = new Date(config.end);\r\n    return new DateRange(config, locale);\r\n  }\r\n\r\n  private constructor(config: Partial<DateRangeConfig>, locale = new Locale()) {\r\n    this.locale = locale;\r\n    const { start, end, span, order, repeat } = config;\r\n\r\n    if (isDate(start)) {\r\n      this.start = locale.getDateParts(start);\r\n    }\r\n\r\n    if (isDate(end)) {\r\n      this.end = locale.getDateParts(end);\r\n    } else if (this.start != null && span) {\r\n      this.end = locale.getDateParts(addDays(this.start.date, span - 1));\r\n    }\r\n\r\n    this.order = order ?? 0;\r\n\r\n    if (repeat) {\r\n      this.repeat = new DateRepeat(\r\n        {\r\n          from: this.start?.date,\r\n          ...repeat,\r\n        },\r\n        {\r\n          locale: this.locale,\r\n        },\r\n      );\r\n    }\r\n  }\r\n\r\n  get opts() {\r\n    const { order, locale } = this;\r\n    return { order, locale };\r\n  }\r\n\r\n  get hasRepeat() {\r\n    return !!this.repeat;\r\n  }\r\n\r\n  get isSingleDay() {\r\n    const { start, end } = this;\r\n    return (\r\n      start &&\r\n      end &&\r\n      start.year === end.year &&\r\n      start.month === end.month &&\r\n      start.day === end.day\r\n    );\r\n  }\r\n\r\n  get isMultiDay() {\r\n    return !this.isSingleDay;\r\n  }\r\n\r\n  get daySpan() {\r\n    if (this.start == null || this.end == null) {\r\n      if (this.hasRepeat) return 1;\r\n      return Infinity;\r\n    }\r\n    return this.end.dayIndex - this.start.dayIndex;\r\n  }\r\n\r\n  startsOnDay(dayParts: DayParts) {\r\n    return (\r\n      this.start?.dayIndex === dayParts.dayIndex ||\r\n      !!this.repeat?.passes(dayParts)\r\n    );\r\n  }\r\n\r\n  intersectsDay(dayIndex: number) {\r\n    return this.intersectsDayRange(dayIndex, dayIndex);\r\n  }\r\n\r\n  intersectsRange(range: DateRange) {\r\n    return this.intersectsDayRange(\r\n      range.start?.dayIndex ?? -Infinity,\r\n      range.end?.dayIndex ?? Infinity,\r\n    );\r\n  }\r\n\r\n  intersectsDayRange(startDayIndex: number, endDayIndex: number) {\r\n    if (this.start && this.start.dayIndex > endDayIndex) return false;\r\n    if (this.end && this.end.dayIndex < startDayIndex) return false;\r\n    return true;\r\n  }\r\n}\r\n\r\ninterface DataRange {\r\n  startDay: number;\r\n  startTime: number;\r\n  endDay: number;\r\n  endTime: number;\r\n}\r\n\r\nexport interface RangeData {\r\n  key: string | number;\r\n  order?: number;\r\n}\r\n\r\ninterface DataRanges {\r\n  ranges: DataRange[];\r\n  data: RangeData;\r\n}\r\n\r\nexport interface DateRangeCell<T extends RangeData> extends DataRange {\r\n  data: T;\r\n  onStart: boolean;\r\n  onEnd: boolean;\r\n  dayStartTime: number;\r\n  dayEndTime: number;\r\n  order: number;\r\n}\r\n\r\nexport class DateRangeContext {\r\n  private records: Record<string, DataRanges> = {};\r\n\r\n  render(data: RangeData, range: DateRange, days: DayParts[]) {\r\n    let result = null;\r\n    const startDayIndex = days[0].dayIndex;\r\n    const endDayIndex = days[days.length - 1].dayIndex;\r\n    if (range.hasRepeat) {\r\n      days.forEach(day => {\r\n        if (range.startsOnDay(day)) {\r\n          const span = range.daySpan < Infinity ? range.daySpan : 1;\r\n          result = {\r\n            startDay: day.dayIndex,\r\n            startTime: range.start?.time ?? 0,\r\n            endDay: day.dayIndex + span - 1,\r\n            endTime: range.end?.time ?? MS_PER_DAY,\r\n          };\r\n          this.getRangeRecords(data).push(result);\r\n        }\r\n      });\r\n    } else if (range.intersectsDayRange(startDayIndex, endDayIndex)) {\r\n      result = {\r\n        startDay: range.start?.dayIndex ?? -Infinity,\r\n        startTime: range.start?.time ?? -Infinity,\r\n        endDay: range.end?.dayIndex ?? Infinity,\r\n        endTime: range.end?.time ?? Infinity,\r\n      };\r\n      this.getRangeRecords(data).push(result);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private getRangeRecords(data: RangeData) {\r\n    let record = this.records[data.key];\r\n    if (!record) {\r\n      record = {\r\n        ranges: [],\r\n        data,\r\n      };\r\n      this.records[data.key] = record;\r\n    }\r\n    return record.ranges;\r\n  }\r\n\r\n  getCell(key: string | number, dayIndex: number) {\r\n    const cells = this.getCells(dayIndex);\r\n    const result = cells.find(cell => cell.data.key === key);\r\n    return result;\r\n  }\r\n\r\n  cellExists(key: string | number, dayIndex: number) {\r\n    return !!this.getCell(key, dayIndex);\r\n  }\r\n\r\n  getCells(dayIndex: number) {\r\n    const records = Object.values(this.records);\r\n    const result: DateRangeCell<any>[] = [];\r\n    records.forEach(({ data, ranges }) => {\r\n      ranges\r\n        .filter(r => r.startDay <= dayIndex && r.endDay >= dayIndex)\r\n        .forEach(range => {\r\n          const onStart = dayIndex === range.startDay;\r\n          const onEnd = dayIndex === range.endDay;\r\n          const dayStartTime = onStart ? range.startTime : 0;\r\n          const dayEndTime = onEnd ? range.endTime : MS_PER_DAY;\r\n          const order = data.order || 0;\r\n          result.push({\r\n            ...range,\r\n            data,\r\n            onStart,\r\n            onEnd,\r\n            dayStartTime,\r\n            dayEndTime,\r\n            order,\r\n          });\r\n        });\r\n    });\r\n    result.sort((a, b) => a.order - b.order);\r\n    return result;\r\n  }\r\n}\r\n","interface LocaleConfig {\r\n  dow: number;\r\n  L: string;\r\n}\r\n\r\ninterface LocaleSetting {\r\n  id: string;\r\n  firstDayOfWeek: number;\r\n  masks: {\r\n    L: string;\r\n  };\r\n}\r\n\r\nconst locales: Record<string, LocaleConfig> = {\r\n  // Arabic\r\n  ar: { dow: 7, L: 'D/\\u200FM/\\u200FYYYY' },\r\n  // Bulgarian\r\n  bg: { dow: 2, L: 'D.MM.YYYY' },\r\n  // Catalan\r\n  ca: { dow: 2, L: 'DD/MM/YYYY' },\r\n  // Chinese (China)\r\n  'zh-CN': { dow: 2, L: 'YYYY/MM/DD' },\r\n  // Chinese (Taiwan)\r\n  'zh-TW': { dow: 1, L: 'YYYY/MM/DD' },\r\n  // Croatian\r\n  hr: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Czech\r\n  cs: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Danish\r\n  da: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Dutch\r\n  nl: { dow: 2, L: 'DD-MM-YYYY' },\r\n  // English (US)\r\n  'en-US': { dow: 1, L: 'MM/DD/YYYY' },\r\n  // English (Australia)\r\n  'en-AU': { dow: 2, L: 'DD/MM/YYYY' },\r\n  // English (Canada)\r\n  'en-CA': { dow: 1, L: 'YYYY-MM-DD' },\r\n  // English (Great Britain)\r\n  'en-GB': { dow: 2, L: 'DD/MM/YYYY' },\r\n  // English (Ireland)\r\n  'en-IE': { dow: 2, L: 'DD-MM-YYYY' },\r\n  // English (New Zealand)\r\n  'en-NZ': { dow: 2, L: 'DD/MM/YYYY' },\r\n  // English (South Africa)\r\n  'en-ZA': { dow: 1, L: 'YYYY/MM/DD' },\r\n  // Esperanto\r\n  eo: { dow: 2, L: 'YYYY-MM-DD' },\r\n  // Estonian\r\n  et: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Finnish\r\n  fi: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // French\r\n  fr: { dow: 2, L: 'DD/MM/YYYY' },\r\n  // French (Canada)\r\n  'fr-CA': { dow: 1, L: 'YYYY-MM-DD' },\r\n  // French (Switzerland)\r\n  'fr-CH': { dow: 2, L: 'DD.MM.YYYY' },\r\n  // German\r\n  de: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Hebrew\r\n  he: { dow: 1, L: 'DD.MM.YYYY' },\r\n  // Indonesian\r\n  id: { dow: 2, L: 'DD/MM/YYYY' },\r\n  // Italian\r\n  it: { dow: 2, L: 'DD/MM/YYYY' },\r\n  // Japanese\r\n  ja: { dow: 1, L: 'YYYY年M月D日' },\r\n  // Korean\r\n  ko: { dow: 1, L: 'YYYY.MM.DD' },\r\n  // Latvian\r\n  lv: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Lithuanian\r\n  lt: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Macedonian\r\n  mk: { dow: 2, L: 'D.MM.YYYY' },\r\n  // Norwegian\r\n  nb: { dow: 2, L: 'D. MMMM YYYY' },\r\n  nn: { dow: 2, L: 'D. MMMM YYYY' },\r\n  // Polish\r\n  pl: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Portuguese\r\n  pt: { dow: 2, L: 'DD/MM/YYYY' },\r\n  // Romanian\r\n  ro: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Russian\r\n  ru: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Slovak\r\n  sk: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Spanish (Spain)\r\n  'es-ES': { dow: 2, L: 'DD/MM/YYYY' },\r\n  // Spanish (Mexico)\r\n  'es-MX': { dow: 2, L: 'DD/MM/YYYY' },\r\n  // Swedish\r\n  sv: { dow: 2, L: 'YYYY-MM-DD' },\r\n  // Thai\r\n  th: { dow: 1, L: 'DD/MM/YYYY' },\r\n  // Turkish\r\n  tr: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Ukrainian\r\n  uk: { dow: 2, L: 'DD.MM.YYYY' },\r\n  // Vietnam\r\n  vi: { dow: 2, L: 'DD/MM/YYYY' },\r\n};\r\nlocales.en = locales['en-US'];\r\nlocales.es = locales['es-ES'];\r\nlocales.no = locales.nb;\r\nlocales.zh = locales['zh-CN'];\r\n\r\n// Remap from abbr. to intuitive property names\r\nconst localeSettings = Object.entries(locales).reduce(\r\n  (res, [id, { dow, L }]) => {\r\n    res[id] = {\r\n      id,\r\n      firstDayOfWeek: dow,\r\n      masks: { L },\r\n    };\r\n    return res;\r\n  },\r\n  {} as Record<string, LocaleSetting>,\r\n);\r\n\r\nexport default localeSettings;\r\n","import { App, reactive, computed } from 'vue';\r\nimport type { DarkModeConfig } from 'vue-screen-utils';\r\nimport { defaultsDeep, mapValues, get, has } from '../helpers';\r\nimport touch from './touch.json';\r\nimport masks from './masks.json';\r\nimport locales from './locales';\r\n\r\ndeclare const window: any;\r\n\r\ninterface DatePickerPopoverDefaults {\r\n  visibility?: string;\r\n  placement?: string;\r\n  isInteractive?: boolean;\r\n}\r\n\r\ninterface DatePickerDefaults {\r\n  updateOnInput?: boolean;\r\n  inputDebounce?: number;\r\n  popover?: DatePickerPopoverDefaults;\r\n}\r\n\r\nexport interface Defaults {\r\n  componentPrefix?: string;\r\n  color?: string;\r\n  isDark?: DarkModeConfig;\r\n  navVisibility?: string;\r\n  titlePosition?: string;\r\n  transition?: string;\r\n  touch?: object;\r\n  masks?: object;\r\n  locales?: any;\r\n  datePicker?: DatePickerDefaults;\r\n}\r\n\r\nconst defaultConfig: Defaults = {\r\n  componentPrefix: 'V',\r\n  color: 'blue',\r\n  isDark: false,\r\n  navVisibility: 'click',\r\n  titlePosition: 'center',\r\n  transition: 'slide-h',\r\n  touch,\r\n  masks,\r\n  locales,\r\n  datePicker: {\r\n    updateOnInput: true,\r\n    inputDebounce: 1000,\r\n    popover: {\r\n      visibility: 'hover-focus',\r\n      placement: 'bottom-start',\r\n      isInteractive: true,\r\n    },\r\n  },\r\n};\r\n\r\nconst state = reactive(defaultConfig);\r\n\r\nconst defaultLocales = computed(() => {\r\n  return mapValues(state.locales, (l: any) => {\r\n    l.masks = defaultsDeep(l.masks, state.masks);\r\n    return l;\r\n  });\r\n});\r\n\r\nexport { defaultLocales };\r\n\r\nexport const getDefault = (path: string) => {\r\n  if (window && has(window.__vcalendar__, path)) {\r\n    return get(window.__vcalendar__, path);\r\n  }\r\n  return get(state, path);\r\n};\r\n\r\nexport const setupDefaults = (app: App, userDefaults: Defaults | undefined) => {\r\n  app.config.globalProperties.$VCalendar = state;\r\n  return Object.assign(state, defaultsDeep(userDefaults, state));\r\n};\r\n","import {\r\n  PageConfig,\r\n  CachedPage,\r\n  CalendarDay,\r\n  getPageKey,\r\n  getCachedPage,\r\n  getPage,\r\n} from './page';\r\nimport {\r\n  DateSource,\r\n  DateOptions,\r\n  DatePatchKeys,\r\n  DayOfWeek,\r\n  MonthParts,\r\n  MonthInYear,\r\n  SimpleDateParts,\r\n  TimeNames,\r\n  applyRulesForDateParts,\r\n  daysInWeek,\r\n  formatDate,\r\n  parseDate,\r\n  getDateParts,\r\n  getDateFromParts,\r\n  getDayNames,\r\n  getMonthNames,\r\n  getMonthParts,\r\n  getMonthPartsKey,\r\n  getHourDates,\r\n  getRelativeTimeNames,\r\n  isDateParts,\r\n} from './date/helpers';\r\nimport Cache from './cache';\r\nimport { DateRange, DateRangeSource } from './date/range';\r\nimport { defaultLocales } from './defaults';\r\nimport {\r\n  isString,\r\n  isNumber,\r\n  isDate,\r\n  isObject,\r\n  has,\r\n  pick,\r\n  clamp,\r\n  defaultsDeep,\r\n} from './helpers';\r\n\r\nexport interface LocaleConfig {\r\n  id: string;\r\n  firstDayOfWeek: number;\r\n  masks: any;\r\n  monthCacheSize: number;\r\n  pageCacheSize: number;\r\n}\r\n\r\nconst DEFAULT_MONTH_CACHE_SIZE = 12;\r\nconst DEFAULT_PAGE_CACHE_SIZE = 5;\r\n\r\nexport function resolveConfig(\r\n  config: string | Partial<LocaleConfig> | undefined,\r\n  locales: any,\r\n) {\r\n  // Get the detected locale string\r\n  const detLocale = new Intl.DateTimeFormat().resolvedOptions().locale;\r\n  // Resolve the locale id\r\n  let id;\r\n  if (isString(config)) {\r\n    id = config;\r\n  } else if (has(config, 'id')) {\r\n    id = config!.id;\r\n  }\r\n  id = (id || detLocale).toLowerCase();\r\n  const localeKeys = Object.keys(locales);\r\n  const validKey = (k: string) => localeKeys.find(lk => lk.toLowerCase() === k);\r\n  id = validKey(id) || validKey(id.substring(0, 2)) || detLocale;\r\n  // Add fallback and spread default locale to prevent repetitive update loops\r\n  const defLocale: LocaleConfig = {\r\n    ...locales['en-IE'],\r\n    ...locales[id],\r\n    id,\r\n    monthCacheSize: DEFAULT_MONTH_CACHE_SIZE,\r\n    pageCacheSize: DEFAULT_PAGE_CACHE_SIZE,\r\n  };\r\n  // Assign or merge defaults with provided config\r\n  const result: LocaleConfig = isObject(config)\r\n    ? defaultsDeep(config, defLocale)\r\n    : defLocale;\r\n  // Return resolved config\r\n  return result;\r\n}\r\n\r\nexport default class Locale {\r\n  id: any;\r\n  daysInWeek: number;\r\n  firstDayOfWeek: DayOfWeek;\r\n  masks: any;\r\n  timezone: string | undefined;\r\n  hourLabels: string[];\r\n  dayNames: string[];\r\n  dayNamesShort: string[];\r\n  dayNamesShorter: string[];\r\n  dayNamesNarrow: string[];\r\n  monthNames: string[];\r\n  monthNamesShort: string[];\r\n  relativeTimeNames: TimeNames;\r\n  amPm: [string, string] = ['am', 'pm'];\r\n  monthCache: Cache<MonthParts>;\r\n  pageCache: Cache<CachedPage>;\r\n\r\n  constructor(\r\n    config: Partial<LocaleConfig> | string | undefined = undefined,\r\n    timezone?: string,\r\n  ) {\r\n    const { id, firstDayOfWeek, masks, monthCacheSize, pageCacheSize } =\r\n      resolveConfig(config, defaultLocales.value);\r\n    this.monthCache = new Cache(\r\n      monthCacheSize,\r\n      getMonthPartsKey,\r\n      getMonthParts,\r\n    );\r\n    this.pageCache = new Cache(pageCacheSize, getPageKey, getCachedPage);\r\n    this.id = id;\r\n    this.daysInWeek = daysInWeek;\r\n    this.firstDayOfWeek = clamp(firstDayOfWeek, 1, daysInWeek) as DayOfWeek;\r\n    this.masks = masks;\r\n    this.timezone = timezone || undefined;\r\n    this.hourLabels = this.getHourLabels();\r\n    this.dayNames = getDayNames('long', this.id);\r\n    this.dayNamesShort = getDayNames('short', this.id);\r\n    this.dayNamesShorter = this.dayNamesShort.map(s => s.substring(0, 2));\r\n    this.dayNamesNarrow = getDayNames('narrow', this.id);\r\n    this.monthNames = getMonthNames('long', this.id);\r\n    this.monthNamesShort = getMonthNames('short', this.id);\r\n    this.relativeTimeNames = getRelativeTimeNames(this.id);\r\n  }\r\n\r\n  formatDate(date: Date, masks: string | string[]) {\r\n    return formatDate(date, masks, this);\r\n  }\r\n\r\n  parseDate(dateString: string, mask: string | string[]) {\r\n    return parseDate(dateString, mask, this);\r\n  }\r\n\r\n  toDate(\r\n    d: DateSource | Partial<SimpleDateParts>,\r\n    opts: Partial<DateOptions> = {},\r\n  ): Date {\r\n    const nullDate = new Date(NaN);\r\n    let result = nullDate;\r\n    const { fillDate, mask, patch, rules } = opts;\r\n    if (isNumber(d)) {\r\n      opts.type = 'number';\r\n      result = new Date(+d);\r\n    } else if (isString(d)) {\r\n      opts.type = 'string';\r\n      result = d ? parseDate(d, mask || 'iso', this) : nullDate;\r\n    } else if (isDate(d)) {\r\n      opts.type = 'date';\r\n      result = new Date(d.getTime());\r\n    } else if (isDateParts(d)) {\r\n      opts.type = 'object';\r\n      result = this.getDateFromParts(d);\r\n    }\r\n    // Patch parts or apply rules if needed\r\n    if (result && (patch || rules)) {\r\n      let parts = this.getDateParts(result);\r\n      // Patch date parts\r\n      if (patch && fillDate != null) {\r\n        const fillParts = this.getDateParts(this.toDate(fillDate));\r\n        parts = this.getDateParts(\r\n          this.toDate({ ...fillParts, ...pick(parts, DatePatchKeys[patch]) }),\r\n        );\r\n      }\r\n      // Apply date part rules\r\n      if (rules) {\r\n        parts = applyRulesForDateParts(parts, rules);\r\n      }\r\n      result = this.getDateFromParts(parts);\r\n    }\r\n    return result || nullDate;\r\n  }\r\n\r\n  fromDate(date: Date, { type, mask }: Partial<DateOptions> = {}) {\r\n    switch (type) {\r\n      case 'number':\r\n        return date ? date.getTime() : NaN;\r\n      case 'string':\r\n        return date ? this.formatDate(date, mask || 'iso') : '';\r\n      case 'object':\r\n        return date ? this.getDateParts(date) : null;\r\n      default:\r\n        return date ? new Date(date) : null;\r\n    }\r\n  }\r\n\r\n  range(source: DateRangeSource) {\r\n    return DateRange.from(source, this);\r\n  }\r\n\r\n  ranges(ranges: DateRangeSource | DateRangeSource[]) {\r\n    return DateRange.fromMany(ranges, this);\r\n  }\r\n\r\n  getDateParts(date: Date) {\r\n    return getDateParts(date, this);\r\n  }\r\n\r\n  getDateFromParts(parts: Partial<SimpleDateParts>) {\r\n    return getDateFromParts(parts, this.timezone);\r\n  }\r\n\r\n  getDateFromParams(\r\n    year: number,\r\n    month: number,\r\n    day: number,\r\n    hours: number,\r\n    minutes: number,\r\n    seconds: number,\r\n    milliseconds: number,\r\n  ) {\r\n    return this.getDateFromParts({\r\n      year,\r\n      month,\r\n      day,\r\n      hours,\r\n      minutes,\r\n      seconds,\r\n      milliseconds,\r\n    });\r\n  }\r\n\r\n  getPage(config: PageConfig) {\r\n    const cachedPage = this.pageCache.getOrSet(config, this);\r\n    return getPage(config, cachedPage);\r\n  }\r\n\r\n  getMonthParts(month: number, year: number) {\r\n    const { firstDayOfWeek } = this;\r\n    return this.monthCache.getOrSet(month, year, firstDayOfWeek);\r\n  }\r\n\r\n  getThisMonthParts() {\r\n    const date = new Date();\r\n    return this.getMonthParts(\r\n      <MonthInYear>(date.getMonth() + 1),\r\n      date.getFullYear(),\r\n    );\r\n  }\r\n\r\n  getPrevMonthParts(month: number, year: number) {\r\n    if (month === 1) return this.getMonthParts(12, year - 1);\r\n    return this.getMonthParts(month - 1, year);\r\n  }\r\n\r\n  getNextMonthParts(month: number, year: number) {\r\n    if (month === 12) return this.getMonthParts(1, year + 1);\r\n    return this.getMonthParts(month + 1, year);\r\n  }\r\n\r\n  getHourLabels() {\r\n    return getHourDates().map(d => {\r\n      return this.formatDate(d, this.masks.hours);\r\n    });\r\n  }\r\n\r\n  getWeekdayLabels(days: CalendarDay[]) {\r\n    return days.map(d => {\r\n      return this.formatDate(d.date, this.masks.weekdays);\r\n    });\r\n  }\r\n\r\n  getDayId(date: Date) {\r\n    return this.formatDate(date, 'YYYY-MM-DD');\r\n  }\r\n}\r\n","import {\r\n  pad,\r\n  isNumber,\r\n  isString,\r\n  isDate,\r\n  isArray,\r\n  arrayHasItems,\r\n  isFunction,\r\n  isObject,\r\n} from '../helpers';\r\nimport toFnsDate from 'date-fns-tz/toDate';\r\nimport getWeeksInMonth from 'date-fns/getWeeksInMonth';\r\nimport getWeek from 'date-fns/getWeek';\r\nimport getISOWeek from 'date-fns/getISOWeek';\r\nimport addDays from 'date-fns/addDays';\r\nimport addWeeks from 'date-fns/addWeeks';\r\nimport addMonths from 'date-fns/addMonths';\r\nimport addYears from 'date-fns/addYears';\r\nimport Locale, { LocaleConfig } from '../locale';\r\n\r\nexport { addDays, addWeeks, addMonths, addYears };\r\nexport { DateRepeat } from './repeat';\r\n\r\n// #region Types\r\n\r\ntype DayNameLength = 'narrow' | 'short' | 'long';\r\ntype MonthNameLength = 'short' | 'long';\r\n\r\nexport type DayInMonth =\r\n  | 1\r\n  | 2\r\n  | 3\r\n  | 4\r\n  | 5\r\n  | 6\r\n  | 7\r\n  | 8\r\n  | 9\r\n  | 10\r\n  | 11\r\n  | 12\r\n  | 13\r\n  | 14\r\n  | 15\r\n  | 16\r\n  | 17\r\n  | 18\r\n  | 18\r\n  | 20\r\n  | 21\r\n  | 22\r\n  | 23\r\n  | 24\r\n  | 25\r\n  | 26\r\n  | 27\r\n  | 28\r\n  | 29\r\n  | 30\r\n  | 31\r\n  | -1\r\n  | -2\r\n  | -3\r\n  | -4\r\n  | -5\r\n  | -6\r\n  | -7\r\n  | -8\r\n  | -9\r\n  | -10\r\n  | -11\r\n  | -12\r\n  | -13\r\n  | -14\r\n  | -15\r\n  | -16\r\n  | -17\r\n  | -18\r\n  | -18\r\n  | -20\r\n  | -21\r\n  | -22\r\n  | -23\r\n  | -24\r\n  | -25\r\n  | -26\r\n  | -27\r\n  | -28\r\n  | -29\r\n  | -30\r\n  | -31;\r\nexport type DayOfWeek = 1 | 2 | 3 | 4 | 5 | 6 | 7;\r\nexport type WeekInMonth = 1 | 2 | 3 | 4 | 5 | 6;\r\nexport type WeekInMonthFromEnd = -6 | -5 | -4 | -3 | -2 | -1;\r\nexport type OrdinalWeekInMonth = -5 | -4 | -3 | -2 | -1 | 1 | 2 | 3 | 4 | 5;\r\nexport type MonthInYear = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12;\r\nexport type StartOfWeek = 1 | 2 | 3 | 4 | 5 | 6 | 7;\r\n\r\nexport type WeekStartsOn = 0 | 1 | 2 | 3 | 4 | 5 | 6;\r\nexport type DateSource = Date | string | number;\r\nexport type TimeNames = Partial<Record<Intl.RelativeTimeFormatUnit, string>>;\r\n\r\n// #endregion Types\r\n\r\nexport function isDayInMonth(dayInMonth: unknown): dayInMonth is DayInMonth {\r\n  if (!isNumber(dayInMonth)) return false;\r\n  return dayInMonth >= 1 && dayInMonth <= 31;\r\n}\r\n\r\nexport function isDayOfWeek(dayOfWeek: unknown): dayOfWeek is DayOfWeek {\r\n  if (!isNumber(dayOfWeek)) return false;\r\n  return dayOfWeek >= 1 && dayOfWeek <= 7;\r\n}\r\n\r\nexport function isWeekInMonth(\r\n  weekInMonth: unknown,\r\n): weekInMonth is WeekInMonth {\r\n  if (!isNumber(weekInMonth)) return false;\r\n  return (\r\n    (weekInMonth >= -6 && weekInMonth <= -1) ||\r\n    (weekInMonth >= 1 && weekInMonth <= 6)\r\n  );\r\n}\r\n\r\nexport function isMonthInYear(\r\n  monthInYear: unknown,\r\n): monthInYear is MonthInYear {\r\n  if (!isNumber(monthInYear)) return false;\r\n  return monthInYear >= 1 && monthInYear <= 12;\r\n}\r\n\r\nexport function isOrdinalWeekInMonth(\r\n  weekInMonth: unknown,\r\n): weekInMonth is OrdinalWeekInMonth {\r\n  if (!isNumber(weekInMonth)) return false;\r\n  if (weekInMonth < -5 || weekInMonth > 5 || weekInMonth === 0) return false;\r\n  return true;\r\n}\r\n\r\ninterface NumberRuleConfig {\r\n  min?: number;\r\n  max?: number;\r\n  interval?: number;\r\n}\r\n\r\ntype DatePartsRuleFunction = (part: number, parts: TimeParts) => boolean;\r\n\r\ntype DatePartsRule =\r\n  | number\r\n  | Array<number>\r\n  | NumberRuleConfig\r\n  | DatePartsRuleFunction;\r\n\r\nexport interface DatePartsRules {\r\n  hours?: DatePartsRule;\r\n  minutes?: DatePartsRule;\r\n  seconds?: DatePartsRule;\r\n  milliseconds?: DatePartsRule;\r\n}\r\n\r\nexport interface DatePartOption {\r\n  value: number;\r\n  label: string;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport interface FormatParseOptions {\r\n  locale?: Locale | LocaleConfig | string;\r\n  timezone?: string;\r\n}\r\n\r\nexport interface DateOptions {\r\n  type: string;\r\n  fillDate: DateSource;\r\n  mask: string;\r\n  patch: DatePatch;\r\n  rules: DatePartsRules;\r\n}\r\n\r\nexport interface PageAddress {\r\n  day?: number;\r\n  week?: number;\r\n  month: number;\r\n  year: number;\r\n}\r\n\r\nexport interface TimeParts {\r\n  hours: number;\r\n  minutes: number;\r\n  seconds: number;\r\n  milliseconds: number;\r\n}\r\n\r\nexport interface SimpleDateParts {\r\n  year: number;\r\n  month: number;\r\n  day: number;\r\n  hours: number;\r\n  minutes: number;\r\n  seconds: number;\r\n  milliseconds: number;\r\n}\r\n\r\nexport interface DayParts {\r\n  dayIndex: number;\r\n  day: number;\r\n  dayFromEnd: number;\r\n  weekday: number;\r\n  weekdayOrdinal: number;\r\n  weekdayOrdinalFromEnd: number;\r\n  week: number;\r\n  weekFromEnd: number;\r\n  weeknumber: number;\r\n  month: number;\r\n  year: number;\r\n  date: Date;\r\n}\r\n\r\nexport interface DateParts extends DayParts {\r\n  milliseconds: number;\r\n  seconds: number;\r\n  minutes: number;\r\n  hours: number;\r\n  time: number;\r\n  dateTime: number;\r\n  isValid: boolean;\r\n  timezoneOffset: number;\r\n  isPm?: boolean;\r\n}\r\n\r\nexport interface MonthParts {\r\n  firstDayOfWeek: DayOfWeek;\r\n  firstDayOfMonth: Date;\r\n  inLeapYear: boolean;\r\n  firstWeekday: number;\r\n  numDays: number;\r\n  numWeeks: number;\r\n  month: number;\r\n  year: number;\r\n  weeknumbers: number[];\r\n  isoWeeknumbers: number[];\r\n}\r\n\r\nexport type DatePatch = 'dateTime' | 'date' | 'time';\r\n\r\nexport const DatePatchKeys: Record<DatePatch, (keyof SimpleDateParts)[]> = {\r\n  dateTime: [\r\n    'year',\r\n    'month',\r\n    'day',\r\n    'hours',\r\n    'minutes',\r\n    'seconds',\r\n    'milliseconds',\r\n  ],\r\n  date: ['year', 'month', 'day'],\r\n  time: ['hours', 'minutes', 'seconds', 'milliseconds'],\r\n};\r\n\r\nexport const daysInWeek = 7;\r\nexport const weeksInMonth = 6;\r\nexport const MS_PER_SECOND = 1000;\r\nexport const MS_PER_MINUTE = MS_PER_SECOND * 60;\r\nexport const MS_PER_HOUR = MS_PER_MINUTE * 60;\r\nexport const MS_PER_DAY = MS_PER_HOUR * 24;\r\n\r\nconst daysInMonths = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\nconst maskMacros = ['L', 'iso'];\r\n\r\ntype DatePartsRange = Readonly<[number, number, number]>;\r\ntype TimePartsKey = 'milliseconds' | 'seconds' | 'minutes' | 'hours';\r\nconst DATE_PART_RANGES: Record<TimePartsKey, DatePartsRange> = {\r\n  milliseconds: [0, 999, 3],\r\n  seconds: [0, 59, 2],\r\n  minutes: [0, 59, 2],\r\n  hours: [0, 23, 2],\r\n} as const;\r\n\r\n// #region Format constants\r\n\r\nconst token =\r\n  /d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\r\nconst literal = /\\[([^]*?)\\]/gm;\r\nconst formatFlags: any = {\r\n  D(d: DateParts) {\r\n    return d.day;\r\n  },\r\n  DD(d: DateParts) {\r\n    return pad(d.day, 2);\r\n  },\r\n  // Do(d: DateParts, l: Locale) {\r\n  //   return l.DoFn(d.day);\r\n  // },\r\n  d(d: DateParts) {\r\n    return d.weekday - 1;\r\n  },\r\n  dd(d: DateParts) {\r\n    return pad(d.weekday - 1, 2);\r\n  },\r\n  W(d: DateParts, l: Locale) {\r\n    return l.dayNamesNarrow[d.weekday - 1];\r\n  },\r\n  WW(d: DateParts, l: Locale) {\r\n    return l.dayNamesShorter[d.weekday - 1];\r\n  },\r\n  WWW(d: DateParts, l: Locale) {\r\n    return l.dayNamesShort[d.weekday - 1];\r\n  },\r\n  WWWW(d: DateParts, l: Locale) {\r\n    return l.dayNames[d.weekday - 1];\r\n  },\r\n  M(d: DateParts) {\r\n    return d.month;\r\n  },\r\n  MM(d: DateParts) {\r\n    return pad(d.month, 2);\r\n  },\r\n  MMM(d: DateParts, l: Locale) {\r\n    return l.monthNamesShort[d.month - 1];\r\n  },\r\n  MMMM(d: DateParts, l: Locale) {\r\n    return l.monthNames[d.month - 1];\r\n  },\r\n  YY(d: DateParts) {\r\n    return String(d.year).substr(2);\r\n  },\r\n  YYYY(d: DateParts) {\r\n    return pad(d.year, 4);\r\n  },\r\n  h(d: DateParts) {\r\n    return d.hours % 12 || 12;\r\n  },\r\n  hh(d: DateParts) {\r\n    return pad(d.hours % 12 || 12, 2);\r\n  },\r\n  H(d: DateParts) {\r\n    return d.hours;\r\n  },\r\n  HH(d: DateParts) {\r\n    return pad(d.hours, 2);\r\n  },\r\n  m(d: DateParts) {\r\n    return d.minutes;\r\n  },\r\n  mm(d: DateParts) {\r\n    return pad(d.minutes, 2);\r\n  },\r\n  s(d: DateParts) {\r\n    return d.seconds;\r\n  },\r\n  ss(d: DateParts) {\r\n    return pad(d.seconds, 2);\r\n  },\r\n  S(d: DateParts) {\r\n    return Math.round(d.milliseconds / 100);\r\n  },\r\n  SS(d: DateParts) {\r\n    return pad(Math.round(d.milliseconds / 10), 2);\r\n  },\r\n  SSS(d: DateParts) {\r\n    return pad(d.milliseconds, 3);\r\n  },\r\n  a(d: DateParts, l: Locale) {\r\n    return d.hours < 12 ? l.amPm[0] : l.amPm[1];\r\n  },\r\n  A(d: DateParts, l: Locale) {\r\n    return d.hours < 12 ? l.amPm[0].toUpperCase() : l.amPm[1].toUpperCase();\r\n  },\r\n  Z() {\r\n    return 'Z';\r\n  },\r\n  ZZ(d: DateParts) {\r\n    const o = d.timezoneOffset;\r\n    return `${o > 0 ? '-' : '+'}${pad(Math.floor(Math.abs(o) / 60), 2)}`;\r\n  },\r\n  ZZZ(d: DateParts) {\r\n    const o = d.timezoneOffset;\r\n    return `${o > 0 ? '-' : '+'}${pad(\r\n      Math.floor(Math.abs(o) / 60) * 100 + (Math.abs(o) % 60),\r\n      4,\r\n    )}`;\r\n  },\r\n  ZZZZ(d: DateParts) {\r\n    const o = d.timezoneOffset;\r\n    return `${o > 0 ? '-' : '+'}${pad(Math.floor(Math.abs(o) / 60), 2)}:${pad(\r\n      Math.abs(o) % 60,\r\n      2,\r\n    )}`;\r\n  },\r\n};\r\n\r\n// #endregion Format constants\r\n\r\n// #region Parse constants\r\n\r\nconst twoDigits = /\\d\\d?/;\r\nconst threeDigits = /\\d{3}/;\r\nconst fourDigits = /\\d{4}/;\r\nconst word =\r\n  /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\r\n// eslint-disable-next-line @typescript-eslint/no-empty-function\r\nconst noop = () => {};\r\nconst monthUpdate = (arrName: string) => (d: DateParts, v: string, l: any) => {\r\n  const index = l[arrName].indexOf(\r\n    v.charAt(0).toUpperCase() + v.substr(1).toLowerCase(),\r\n  );\r\n  if (~index) {\r\n    d.month = index;\r\n  }\r\n};\r\nconst parseFlags: any = {\r\n  D: [\r\n    twoDigits,\r\n    (d: DateParts, v: number) => {\r\n      d.day = v;\r\n    },\r\n  ],\r\n  Do: [\r\n    new RegExp(twoDigits.source + word.source),\r\n    (d: DateParts, v: string) => {\r\n      d.day = parseInt(v, 10);\r\n    },\r\n  ],\r\n  d: [twoDigits, noop],\r\n  W: [word, noop],\r\n  M: [\r\n    twoDigits,\r\n    (d: DateParts, v: number) => {\r\n      d.month = v - 1;\r\n    },\r\n  ],\r\n  MMM: [word, monthUpdate('monthNamesShort')],\r\n  MMMM: [word, monthUpdate('monthNames')],\r\n  YY: [\r\n    twoDigits,\r\n    (d: DateParts, v: number) => {\r\n      const da = new Date();\r\n      const cent = +da.getFullYear().toString().substr(0, 2);\r\n      d.year = +`${v > 68 ? cent - 1 : cent}${v}`;\r\n    },\r\n  ],\r\n  YYYY: [\r\n    fourDigits,\r\n    (d: DateParts, v: number) => {\r\n      d.year = v;\r\n    },\r\n  ],\r\n  S: [\r\n    /\\d/,\r\n    (d: DateParts, v: number) => {\r\n      d.milliseconds = v * 100;\r\n    },\r\n  ],\r\n  SS: [\r\n    /\\d{2}/,\r\n    (d: DateParts, v: number) => {\r\n      d.milliseconds = v * 10;\r\n    },\r\n  ],\r\n  SSS: [\r\n    threeDigits,\r\n    (d: DateParts, v: number) => {\r\n      d.milliseconds = v;\r\n    },\r\n  ],\r\n  h: [\r\n    twoDigits,\r\n    (d: DateParts, v: number) => {\r\n      d.hours = v;\r\n    },\r\n  ],\r\n  m: [\r\n    twoDigits,\r\n    (d: DateParts, v: number) => {\r\n      d.minutes = v;\r\n    },\r\n  ],\r\n  s: [\r\n    twoDigits,\r\n    (d: DateParts, v: number) => {\r\n      d.seconds = v;\r\n    },\r\n  ],\r\n  a: [\r\n    word,\r\n    (d: DateParts, v: string, l: Locale) => {\r\n      const val = v.toLowerCase();\r\n      if (val === l.amPm[0]) {\r\n        d.isPm = false;\r\n      } else if (val === l.amPm[1]) {\r\n        d.isPm = true;\r\n      }\r\n    },\r\n  ],\r\n  Z: [\r\n    /[^\\s]*?[+-]\\d\\d:?\\d\\d|[^\\s]*?Z?/,\r\n    (d: DateParts, v: string) => {\r\n      if (v === 'Z') v = '+00:00';\r\n      const parts = `${v}`.match(/([+-]|\\d\\d)/gi);\r\n      if (parts) {\r\n        const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\r\n        d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\r\n      }\r\n    },\r\n  ],\r\n};\r\nparseFlags.DD = parseFlags.D;\r\nparseFlags.dd = parseFlags.d;\r\nparseFlags.WWWW = parseFlags.WWW = parseFlags.WW = parseFlags.W;\r\nparseFlags.MM = parseFlags.M;\r\nparseFlags.mm = parseFlags.m;\r\nparseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\r\nparseFlags.ss = parseFlags.s;\r\nparseFlags.A = parseFlags.a;\r\nparseFlags.ZZZZ = parseFlags.ZZZ = parseFlags.ZZ = parseFlags.Z;\r\n\r\n// #endregion Parse constants\r\n\r\nfunction normalizeMasks(masks: string | string[], locale: Locale): string[] {\r\n  return (\r\n    ((arrayHasItems(masks) && masks) || [\r\n      (isString(masks) && masks) || 'YYYY-MM-DD',\r\n    ]) as string[]\r\n  ).map(m =>\r\n    maskMacros.reduce(\r\n      (prev, curr) => prev.replace(curr, locale.masks[curr] || ''),\r\n      m,\r\n    ),\r\n  );\r\n}\r\n\r\nexport function isDateParts(parts: unknown): parts is Partial<DateParts> {\r\n  return (\r\n    isObject(parts) && 'year' in parts && 'month' in parts && 'day' in parts\r\n  );\r\n}\r\n\r\nexport function isDateSource(date: unknown): date is DateSource {\r\n  if (date == null) return false;\r\n  return isString(date) || isNumber(date) || isDate(date);\r\n}\r\n\r\nexport function roundDate(dateMs: number, snapMs = 0) {\r\n  if (snapMs > 0) return new Date(Math.round(dateMs / snapMs) * snapMs);\r\n  return new Date(dateMs);\r\n}\r\n\r\nexport function startOfWeek(date: Date, firstDayOfWeek: DayOfWeek = 1) {\r\n  const day = date.getDay() + 1;\r\n  const daysToAdd =\r\n    day >= firstDayOfWeek\r\n      ? firstDayOfWeek - day\r\n      : -(7 - (firstDayOfWeek - day));\r\n  return addDays(date, daysToAdd);\r\n}\r\n\r\nexport function getStartOfWeek(date: Date, firstDayOfWeek: DayOfWeek = 1) {\r\n  const day = date.getDay() + 1;\r\n  const daysToAdd =\r\n    day >= firstDayOfWeek\r\n      ? firstDayOfWeek - day\r\n      : -(7 - (firstDayOfWeek - day));\r\n  return addDays(date, daysToAdd);\r\n}\r\n\r\nexport function getDayIndex(year: number, month: number, day: number) {\r\n  const utcDate = Date.UTC(year, month - 1, day);\r\n  return diffInDays(new Date(0), new Date(utcDate));\r\n}\r\n\r\nexport function diffInDays(d1: Date, d2: Date) {\r\n  return Math.round((d2.getTime() - d1.getTime()) / MS_PER_DAY);\r\n}\r\n\r\nexport function diffInWeeks(d1: Date, d2: Date) {\r\n  return Math.ceil(diffInDays(startOfWeek(d1), startOfWeek(d2)) / 7);\r\n}\r\n\r\nexport function diffInYears(d1: Date, d2: Date) {\r\n  return d2.getUTCFullYear() - d1.getUTCFullYear();\r\n}\r\n\r\nexport function diffInMonths(d1: Date, d2: Date) {\r\n  return diffInYears(d1, d2) * 12 + (d2.getMonth() - d1.getMonth());\r\n}\r\n\r\nexport function getDateFromParts(\r\n  parts: Partial<SimpleDateParts>,\r\n  timezone = '',\r\n) {\r\n  const d = new Date();\r\n  const {\r\n    year = d.getFullYear(),\r\n    month = d.getMonth() + 1,\r\n    day = d.getDate(),\r\n    hours: hrs = 0,\r\n    minutes: min = 0,\r\n    seconds: sec = 0,\r\n    milliseconds: ms = 0,\r\n  } = parts;\r\n\r\n  if (timezone) {\r\n    const dateString = `${pad(year, 4)}-${pad(month, 2)}-${pad(day, 2)}T${pad(\r\n      hrs,\r\n      2,\r\n    )}:${pad(min, 2)}:${pad(sec, 2)}.${pad(ms, 3)}`;\r\n    return toFnsDate(dateString, { timeZone: timezone });\r\n  }\r\n  return new Date(year, month - 1, day, hrs, min, sec, ms);\r\n}\r\n\r\nexport function getTimezoneOffset(\r\n  parts: Partial<SimpleDateParts>,\r\n  timezone = '',\r\n) {\r\n  const {\r\n    year: y = 0,\r\n    month: m = 0,\r\n    day: d = 0,\r\n    hours: hrs = 0,\r\n    minutes: min = 0,\r\n    seconds: sec = 0,\r\n    milliseconds: ms = 0,\r\n  } = parts;\r\n  let date;\r\n  const utcDate = new Date(Date.UTC(y, m - 1, d, hrs, min, sec, ms));\r\n  if (timezone) {\r\n    const dateString = `${pad(y, 4)}-${pad(m, 2)}-${pad(d, 2)}T${pad(\r\n      hrs,\r\n      2,\r\n    )}:${pad(min, 2)}:${pad(sec, 2)}.${pad(ms, 3)}`;\r\n    date = toFnsDate(dateString, { timeZone: timezone });\r\n  } else {\r\n    date = new Date(y, m - 1, d, hrs, min, sec, ms);\r\n  }\r\n  return (date.getTime() - utcDate.getTime()) / 60000;\r\n}\r\n\r\nexport function getDateParts(date: Date, locale: Locale): DateParts {\r\n  let tzDate = new Date(date.getTime());\r\n  if (locale.timezone) {\r\n    tzDate = new Date(\r\n      date.toLocaleString('en-US', { timeZone: locale.timezone }),\r\n    );\r\n    tzDate.setMilliseconds(date.getMilliseconds());\r\n  }\r\n  const milliseconds = tzDate.getMilliseconds();\r\n  const seconds = tzDate.getSeconds();\r\n  const minutes = tzDate.getMinutes();\r\n  const hours = tzDate.getHours();\r\n  const time =\r\n    milliseconds +\r\n    seconds * MS_PER_SECOND +\r\n    minutes * MS_PER_MINUTE +\r\n    hours * MS_PER_HOUR;\r\n  const month = <MonthInYear>(tzDate.getMonth() + 1);\r\n  const year = tzDate.getFullYear();\r\n  const monthParts = locale.getMonthParts(month, year);\r\n  const day = <DayInMonth>tzDate.getDate();\r\n  const dayFromEnd = monthParts.numDays - day + 1;\r\n  const weekday = tzDate.getDay() + 1;\r\n  const weekdayOrdinal = Math.floor((day - 1) / 7 + 1);\r\n  const weekdayOrdinalFromEnd = Math.floor((monthParts.numDays - day) / 7 + 1);\r\n  const week = Math.ceil(\r\n    (day + Math.abs(monthParts.firstWeekday - monthParts.firstDayOfWeek)) / 7,\r\n  );\r\n  const weekFromEnd = monthParts.numWeeks - week + 1;\r\n  const weeknumber = monthParts.weeknumbers[week];\r\n  const dayIndex = getDayIndex(year, month, day);\r\n  const parts: DateParts = {\r\n    milliseconds,\r\n    seconds,\r\n    minutes,\r\n    hours,\r\n    time,\r\n    day,\r\n    dayFromEnd,\r\n    weekday,\r\n    weekdayOrdinal,\r\n    weekdayOrdinalFromEnd,\r\n    week,\r\n    weekFromEnd,\r\n    weeknumber,\r\n    month,\r\n    year,\r\n    date: tzDate,\r\n    dateTime: tzDate.getTime(),\r\n    dayIndex,\r\n    timezoneOffset: 0,\r\n    isValid: true,\r\n  };\r\n  return parts;\r\n}\r\n\r\nexport function getMonthPartsKey(\r\n  month: number,\r\n  year: number,\r\n  firstDayOfWeek: DayOfWeek,\r\n) {\r\n  return `${year}-${month}-${firstDayOfWeek}`;\r\n}\r\n\r\nexport function getMonthParts(\r\n  month: number,\r\n  year: number,\r\n  firstDayOfWeek: DayOfWeek,\r\n) {\r\n  const inLeapYear = (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\r\n  const firstDayOfMonth = new Date(year, month - 1, 1);\r\n  const firstWeekday = firstDayOfMonth.getDay() + 1;\r\n  const numDays = month === 2 && inLeapYear ? 29 : daysInMonths[month - 1];\r\n  const weekStartsOn: WeekStartsOn = (firstDayOfWeek - 1) as WeekStartsOn;\r\n  const numWeeks = getWeeksInMonth(firstDayOfMonth, {\r\n    weekStartsOn,\r\n  });\r\n  const weeknumbers = [];\r\n  const isoWeeknumbers = [];\r\n  for (let i = 0; i < numWeeks; i++) {\r\n    const date = addDays(firstDayOfMonth, i * 7);\r\n    weeknumbers.push(getWeek(date, { weekStartsOn }));\r\n    isoWeeknumbers.push(getISOWeek(date));\r\n  }\r\n  return {\r\n    firstDayOfWeek,\r\n    firstDayOfMonth,\r\n    inLeapYear,\r\n    firstWeekday,\r\n    numDays,\r\n    numWeeks,\r\n    month,\r\n    year,\r\n    weeknumbers,\r\n    isoWeeknumbers,\r\n  };\r\n}\r\n\r\nexport function getWeekdayDates() {\r\n  const dates = [];\r\n  const year = 2020;\r\n  const month = 1;\r\n  const day = 5;\r\n  for (let i = 0; i < daysInWeek; i++) {\r\n    dates.push(\r\n      getDateFromParts({\r\n        year,\r\n        month,\r\n        day: day + i,\r\n        hours: 12,\r\n      }),\r\n    );\r\n  }\r\n  return dates;\r\n}\r\n\r\nexport function getDayNames(\r\n  length: DayNameLength,\r\n  localeId: string | undefined = undefined,\r\n) {\r\n  const dtf = new Intl.DateTimeFormat(localeId, {\r\n    weekday: length,\r\n  });\r\n  return getWeekdayDates().map(d => dtf.format(d));\r\n}\r\n\r\nexport function getHourDates() {\r\n  const dates = [];\r\n  for (let i = 0; i <= 24; i++) {\r\n    dates.push(new Date(2000, 0, 1, i));\r\n  }\r\n  return dates;\r\n}\r\n\r\nexport function getRelativeTimeNames(localeId = undefined): TimeNames {\r\n  const units: Intl.RelativeTimeFormatUnit[] = [\r\n    'second',\r\n    'minute',\r\n    'hour',\r\n    'day',\r\n    'week',\r\n    'month',\r\n    'quarter',\r\n    'year',\r\n  ];\r\n  const rtf = new Intl.RelativeTimeFormat(localeId);\r\n  return units.reduce<TimeNames>((names, unit) => {\r\n    const parts = rtf.formatToParts(100, unit);\r\n    // @ts-ignore\r\n    names[unit] = parts[1].unit;\r\n    return names;\r\n  }, {});\r\n}\r\n\r\nexport function getMonthDates() {\r\n  const dates = [];\r\n  for (let i = 0; i < 12; i++) {\r\n    dates.push(new Date(2000, i, 15));\r\n  }\r\n  return dates;\r\n}\r\n\r\nexport function getMonthNames(length: MonthNameLength, localeId = undefined) {\r\n  const dtf = new Intl.DateTimeFormat(localeId, {\r\n    month: length,\r\n    timeZone: 'UTC',\r\n  });\r\n  return getMonthDates().map(d => dtf.format(d));\r\n}\r\n\r\nexport function datePartIsValid(\r\n  part: number,\r\n  rule: DatePartsRule,\r\n  parts: DateParts,\r\n): boolean {\r\n  if (isNumber(rule)) return rule === part;\r\n  if (isArray(rule)) return (rule as number[]).includes(part);\r\n  if (isFunction(rule)) return rule(part, parts);\r\n  if (rule.min != null && rule.min > part) return false;\r\n  if (rule.max != null && rule.max < part) return false;\r\n  if (rule.interval != null && part % rule.interval !== 0) return false;\r\n  return true;\r\n}\r\n\r\nexport function getDatePartOptions(\r\n  parts: DateParts,\r\n  range: DatePartsRange,\r\n  rule: DatePartsRule | undefined,\r\n) {\r\n  const options: DatePartOption[] = [];\r\n  const [min, max, padding] = range;\r\n  for (let i = min; i <= max; i++) {\r\n    if (rule == null || datePartIsValid(i, rule, parts)) {\r\n      options.push({\r\n        value: i,\r\n        label: pad(i, padding),\r\n      });\r\n    }\r\n  }\r\n  return options;\r\n}\r\n\r\nexport function getDatePartsOptions(parts: DateParts, rules: DatePartsRules) {\r\n  return {\r\n    milliseconds: getDatePartOptions(\r\n      parts,\r\n      DATE_PART_RANGES.milliseconds,\r\n      rules.milliseconds,\r\n    ),\r\n    seconds: getDatePartOptions(parts, DATE_PART_RANGES.seconds, rules.seconds),\r\n    minutes: getDatePartOptions(parts, DATE_PART_RANGES.minutes, rules.minutes),\r\n    hours: getDatePartOptions(parts, DATE_PART_RANGES.hours, rules.hours),\r\n  };\r\n}\r\n\r\nexport function getNearestDatePart(\r\n  parts: DateParts,\r\n  range: DatePartsRange,\r\n  value: number,\r\n  rule: DatePartsRule,\r\n) {\r\n  const options = getDatePartOptions(parts, range, rule);\r\n  const result = options.reduce((prev, opt) => {\r\n    if (opt.disabled) return prev;\r\n    if (isNaN(prev)) return opt.value;\r\n    const diffPrev = Math.abs(prev - value);\r\n    const diffCurr = Math.abs(opt.value - value);\r\n    return diffCurr < diffPrev ? opt.value : prev;\r\n  }, NaN);\r\n  return isNaN(result) ? value : result;\r\n}\r\n\r\nexport function applyRulesForDateParts(\r\n  dateParts: DateParts,\r\n  rules: DatePartsRules,\r\n) {\r\n  const result = <DateParts>{ ...dateParts };\r\n  Object.entries(rules).forEach(([key, rule]) => {\r\n    const range = DATE_PART_RANGES[key as TimePartsKey];\r\n    const value = dateParts[key as TimePartsKey];\r\n    result[key as TimePartsKey] = getNearestDatePart(\r\n      dateParts,\r\n      range,\r\n      value,\r\n      rule,\r\n    );\r\n  });\r\n  return result;\r\n}\r\n\r\nexport function parseDate(\r\n  dateString: string,\r\n  mask: string | string[],\r\n  locale: Locale,\r\n) {\r\n  const masks = normalizeMasks(mask, locale);\r\n  return (\r\n    masks\r\n      .map(m => {\r\n        if (typeof m !== 'string') {\r\n          throw new Error('Invalid mask');\r\n        }\r\n        // Reset string value\r\n        let str = dateString;\r\n        // Avoid regular expression denial of service, fail early for really long strings\r\n        // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\r\n        if (str.length > 1000) {\r\n          return false;\r\n        }\r\n\r\n        let isValid = true;\r\n        const dp: Partial<DateParts> = {};\r\n        m.replace(token, $0 => {\r\n          if (parseFlags[$0]) {\r\n            const info = parseFlags[$0];\r\n            const index = str.search(info[0]);\r\n            if (!~index) {\r\n              isValid = false;\r\n            } else {\r\n              str.replace(info[0], result => {\r\n                info[1](dp, result, locale);\r\n                str = str.substr(index + result.length);\r\n                return result;\r\n              });\r\n            }\r\n          }\r\n\r\n          return parseFlags[$0] ? '' : $0.slice(1, $0.length - 1);\r\n        });\r\n\r\n        if (!isValid) {\r\n          return false;\r\n        }\r\n\r\n        const today = new Date();\r\n        if (dp.hours != null) {\r\n          if (dp.isPm === true && +dp.hours !== 12) {\r\n            dp.hours = +dp.hours + 12;\r\n          } else if (dp.isPm === false && +dp.hours === 12) {\r\n            dp.hours = 0;\r\n          }\r\n        }\r\n\r\n        let date;\r\n        if (dp.timezoneOffset != null) {\r\n          dp.minutes = +(dp.minutes || 0) - +dp.timezoneOffset;\r\n          date = new Date(\r\n            Date.UTC(\r\n              dp.year || today.getFullYear(),\r\n              dp.month || 0,\r\n              dp.day || 1,\r\n              dp.hours || 0,\r\n              dp.minutes || 0,\r\n              dp.seconds || 0,\r\n              dp.milliseconds || 0,\r\n            ),\r\n          );\r\n        } else {\r\n          date = locale.getDateFromParts({\r\n            year: dp.year || today.getFullYear(),\r\n            month: (dp.month || 0) + 1,\r\n            day: dp.day || 1,\r\n            hours: dp.hours || 0,\r\n            minutes: dp.minutes || 0,\r\n            seconds: dp.seconds || 0,\r\n            milliseconds: dp.milliseconds || 0,\r\n          });\r\n        }\r\n        return date;\r\n      })\r\n      .find(d => d) || new Date(dateString)\r\n  );\r\n}\r\n\r\nexport function formatDate(\r\n  date: Date,\r\n  masks: string | string[],\r\n  locale: Locale,\r\n) {\r\n  if (date == null) return '';\r\n  let mask = normalizeMasks(masks, locale)[0];\r\n  // Convert timezone to utc if needed\r\n  if (/Z$/.test(mask)) locale.timezone = 'utc';\r\n  const literals: string[] = [];\r\n  // Make literals inactive by replacing them with ??\r\n  mask = mask.replace(literal, ($0, $1: string) => {\r\n    literals.push($1);\r\n    return '??';\r\n  });\r\n  const dateParts = locale.getDateParts(date);\r\n  // Apply formatting rules\r\n  mask = mask.replace(token, $0 =>\r\n    $0 in formatFlags\r\n      ? formatFlags[$0](dateParts, locale)\r\n      : $0.slice(1, $0.length - 1),\r\n  );\r\n  // Inline literal values back into the formatted value\r\n  return mask.replace(/\\?\\?/g, () => literals.shift()!);\r\n}\r\n","import {\r\n  DayOfWeek,\r\n  OrdinalWeekInMonth,\r\n  DayParts,\r\n  diffInDays,\r\n  diffInWeeks,\r\n  diffInMonths,\r\n  diffInYears,\r\n  isDayInMonth,\r\n  isDayOfWeek,\r\n  isWeekInMonth,\r\n  isMonthInYear,\r\n  isOrdinalWeekInMonth,\r\n} from './helpers';\r\nimport { isArray, isNumber, isFunction } from '../helpers';\r\n\r\nexport type SingleOrArray<T> = T | T[];\r\n\r\nexport enum GroupRuleType {\r\n  Any = 'any',\r\n  All = 'all',\r\n}\r\n\r\nexport enum IntervalRuleType {\r\n  Days = 'days',\r\n  Weeks = 'weeks',\r\n  Months = 'months',\r\n  Years = 'years',\r\n}\r\n\r\nexport enum ComponentRuleType {\r\n  Days = 'days',\r\n  Weekdays = 'weekdays',\r\n  Weeks = 'weeks',\r\n  Months = 'months',\r\n  Years = 'years',\r\n}\r\n\r\nexport enum OrdinalComponentRuleType {\r\n  OrdinalWeekdays = 'ordinalWeekdays',\r\n}\r\n\r\nexport enum FunctionRuleType {\r\n  Function = 'function',\r\n}\r\n\r\nexport type RuleType =\r\n  | GroupRuleType\r\n  | IntervalRuleType\r\n  | ComponentRuleType\r\n  | OrdinalComponentRuleType\r\n  | FunctionRuleType;\r\n\r\nexport type OrdinalArrayConfig = SingleOrArray<\r\n  [OrdinalWeekInMonth, ...DayOfWeek[]]\r\n>;\r\n\r\nexport interface Rule<T> {\r\n  type: T;\r\n  passes(dayParts: DayParts): boolean;\r\n}\r\n\r\nexport class IntervalRule implements Rule<IntervalRuleType> {\r\n  private validated = true;\r\n\r\n  constructor(\r\n    public type: IntervalRuleType,\r\n    public interval: number,\r\n    public from: DayParts,\r\n  ) {\r\n    // Start date needed for interval rules\r\n    if (!this.from) {\r\n      console.error(\r\n        `A valid \"from\" date is required for date interval rule. This rule will be skipped.`,\r\n      );\r\n      this.validated = false;\r\n    }\r\n  }\r\n\r\n  passes(dateParts: DayParts) {\r\n    if (!this.validated) return true;\r\n\r\n    const { date } = dateParts;\r\n    switch (this.type) {\r\n      case 'days': {\r\n        return diffInDays(this.from.date, date) % this.interval === 0;\r\n      }\r\n      case 'weeks': {\r\n        return diffInWeeks(this.from.date, date) % this.interval === 0;\r\n      }\r\n      case 'months': {\r\n        return diffInMonths(this.from.date, date) % this.interval === 0;\r\n      }\r\n      case 'years': {\r\n        return diffInYears(this.from.date, date) % this.interval === 0;\r\n      }\r\n      default: {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport class ComponentRule implements Rule<ComponentRuleType> {\r\n  components: number[] = [];\r\n\r\n  static create(type: ComponentRuleType, config: unknown) {\r\n    switch (type) {\r\n      case ComponentRuleType.Days:\r\n        return new DaysRule(config);\r\n      case ComponentRuleType.Weekdays:\r\n        return new WeekdaysRule(config);\r\n      case ComponentRuleType.Weeks:\r\n        return new WeeksRule(config);\r\n      case ComponentRuleType.Months:\r\n        return new MonthsRule(config);\r\n      case ComponentRuleType.Years:\r\n        return new YearsRule(config);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    public type: ComponentRuleType,\r\n    components: unknown,\r\n    public validator: (component: unknown) => component is number,\r\n    public getter: (dayParts: DayParts) => number[],\r\n  ) {\r\n    this.components = this.normalizeComponents(components);\r\n  }\r\n\r\n  normalizeComponents(components: unknown) {\r\n    if (this.validator(components)) return [components];\r\n    if (!isArray(components)) return [];\r\n    const result: number[] = [];\r\n    components.forEach(component => {\r\n      if (!this.validator(component)) {\r\n        console.error(\r\n          `Component value ${component} in invalid for \"${this.type}\" rule. This rule will be skipped.`,\r\n        );\r\n        return;\r\n      }\r\n      result.push(component);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  passes(dayParts: DayParts) {\r\n    const comps = this.getter(dayParts);\r\n    const result = comps.some(comp => this.components.includes(comp));\r\n    return result;\r\n  }\r\n}\r\n\r\nexport class DaysRule extends ComponentRule {\r\n  constructor(components: unknown) {\r\n    super(\r\n      ComponentRuleType.Days,\r\n      components,\r\n      isDayInMonth,\r\n      ({ day, dayFromEnd }) => [day, -dayFromEnd],\r\n    );\r\n  }\r\n}\r\n\r\nexport class WeekdaysRule extends ComponentRule {\r\n  constructor(components: unknown) {\r\n    super(\r\n      ComponentRuleType.Weekdays,\r\n      components,\r\n      isDayOfWeek,\r\n      ({ weekday }) => [weekday],\r\n    );\r\n  }\r\n}\r\n\r\nexport class WeeksRule extends ComponentRule {\r\n  constructor(components: unknown) {\r\n    super(\r\n      ComponentRuleType.Weeks,\r\n      components,\r\n      isWeekInMonth,\r\n      ({ week, weekFromEnd }) => [week, -weekFromEnd],\r\n    );\r\n  }\r\n}\r\n\r\nexport class MonthsRule extends ComponentRule {\r\n  constructor(components: unknown) {\r\n    super(ComponentRuleType.Months, components, isMonthInYear, ({ month }) => [\r\n      month,\r\n    ]);\r\n  }\r\n}\r\n\r\nexport class YearsRule extends ComponentRule {\r\n  constructor(components: unknown) {\r\n    super(ComponentRuleType.Years, components, isNumber, ({ year }) => [year]);\r\n  }\r\n}\r\n\r\nexport class OrdinalComponentRule implements Rule<OrdinalComponentRuleType> {\r\n  components: [OrdinalWeekInMonth, DayOfWeek][];\r\n\r\n  constructor(\r\n    public type: OrdinalComponentRuleType,\r\n    components: OrdinalArrayConfig,\r\n  ) {\r\n    this.components = this.normalizeComponents(components);\r\n  }\r\n\r\n  normalizeArrayConfig(config: OrdinalArrayConfig) {\r\n    const result: [OrdinalWeekInMonth, DayOfWeek][] = [];\r\n    config.forEach((numOrArray, i) => {\r\n      if (isNumber(numOrArray)) {\r\n        if (i === 0) return;\r\n        if (!isOrdinalWeekInMonth(config[0])) {\r\n          console.error(\r\n            `Ordinal range for \"${this.type}\" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`,\r\n          );\r\n          return;\r\n        }\r\n        if (!isDayOfWeek(numOrArray)) {\r\n          console.error(\r\n            `Acceptable range for \"${this.type}\" rule is from 1 to 5. This rule will be skipped`,\r\n          );\r\n          return;\r\n        }\r\n        result.push([config[0], numOrArray]);\r\n      } else if (isArray(numOrArray)) {\r\n        result.push(...this.normalizeArrayConfig(numOrArray));\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  normalizeComponents(config: OrdinalArrayConfig) {\r\n    const result: [OrdinalWeekInMonth, DayOfWeek][] = [];\r\n    config.forEach((numOrArray, i) => {\r\n      if (isNumber(numOrArray)) {\r\n        if (i === 0) return;\r\n        if (!isOrdinalWeekInMonth(config[0])) {\r\n          console.error(\r\n            `Ordinal range for \"${this.type}\" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`,\r\n          );\r\n          return;\r\n        }\r\n        if (!isDayOfWeek(numOrArray)) {\r\n          console.error(\r\n            `Acceptable range for \"${this.type}\" rule is from 1 to 5. This rule will be skipped`,\r\n          );\r\n          return;\r\n        }\r\n        result.push([config[0], numOrArray]);\r\n      } else if (isArray(numOrArray)) {\r\n        result.push(...this.normalizeArrayConfig(numOrArray));\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  passes(dayParts: DayParts) {\r\n    const { weekday, weekdayOrdinal, weekdayOrdinalFromEnd } = dayParts;\r\n    return this.components.some(\r\n      ([ordinalWeek, ordinalWeekday]) =>\r\n        (ordinalWeek === weekdayOrdinal ||\r\n          ordinalWeek === -weekdayOrdinalFromEnd) &&\r\n        weekday === ordinalWeekday,\r\n    );\r\n  }\r\n}\r\n\r\nexport class FunctionRule implements Rule<FunctionRuleType> {\r\n  type = FunctionRuleType.Function;\r\n  private validated = true;\r\n\r\n  constructor(public fn: Function) {\r\n    if (!isFunction(fn)) {\r\n      console.error(\r\n        `The function rule requires a valid function. This rule will be skipped.`,\r\n      );\r\n      this.validated = false;\r\n    }\r\n  }\r\n\r\n  passes(dayParts: DayParts) {\r\n    if (!this.validated) return true;\r\n\r\n    return this.fn(dayParts);\r\n  }\r\n}\r\n","import { isArray, isObject, isString, isFunction } from '../helpers';\r\nimport Locale from '../locale';\r\nimport {\r\n  DayOfWeek,\r\n  DayInMonth,\r\n  WeekInMonth,\r\n  MonthInYear,\r\n  DayParts,\r\n  DateParts,\r\n} from './helpers';\r\nimport {\r\n  Rule,\r\n  RuleType,\r\n  GroupRuleType,\r\n  IntervalRuleType,\r\n  IntervalRule,\r\n  ComponentRuleType,\r\n  ComponentRule,\r\n  OrdinalComponentRuleType,\r\n  OrdinalComponentRule,\r\n  FunctionRule,\r\n  SingleOrArray,\r\n} from './rules';\r\n\r\nexport type RepeatIntervalShort = 'day' | 'week' | 'month' | 'year';\r\n\r\nexport type RepeatInterval = 'days' | 'weeks' | 'months' | 'years';\r\nexport interface DateRepeatConfig {\r\n  every: RepeatIntervalShort | [number, RepeatInterval];\r\n  from: Date;\r\n  until: Date;\r\n  weekdays: SingleOrArray<DayOfWeek>;\r\n  days: SingleOrArray<DayInMonth>;\r\n  weeks: SingleOrArray<WeekInMonth>;\r\n  months: SingleOrArray<MonthInYear>;\r\n  years: SingleOrArray<number>;\r\n  ordinalWeekdays: SingleOrArray<number[]>;\r\n  on: SingleOrArray<DateRepeatFn | Partial<DateRepeatConfig>>;\r\n}\r\n\r\nexport type DateRepeatFn = (dayParts: DayParts) => boolean;\r\n\r\nexport interface DateRepeatOptions {\r\n  locale: Locale;\r\n}\r\n\r\nexport class DateRepeat implements Rule<GroupRuleType> {\r\n  validated = true;\r\n\r\n  config: Partial<DateRepeatConfig> | DateRepeatFn;\r\n  type = GroupRuleType.Any;\r\n  from: DateParts | undefined;\r\n  until: DateParts | undefined;\r\n  rules: Rule<RuleType>[] = [];\r\n  locale = new Locale();\r\n\r\n  constructor(\r\n    config: Partial<DateRepeatConfig> | DateRepeatFn,\r\n    options: Partial<DateRepeatOptions> = {},\r\n    private parent?: DateRepeat,\r\n  ) {\r\n    if (options.locale) this.locale = options.locale;\r\n\r\n    this.config = config;\r\n    if (isFunction(config)) {\r\n      this.type = GroupRuleType.All;\r\n      this.rules = [new FunctionRule(config)];\r\n    } else if (isArray(config)) {\r\n      this.type = GroupRuleType.Any;\r\n      this.rules = config.map(c => new DateRepeat(c, options, this));\r\n    } else if (isObject(config)) {\r\n      this.type = GroupRuleType.All;\r\n      // Assign bounding dates\r\n      this.from = config.from\r\n        ? this.locale.getDateParts(config.from)\r\n        : parent?.from;\r\n      this.until = config.until\r\n        ? this.locale.getDateParts(config.until)\r\n        : parent?.until;\r\n      this.rules = this.getObjectRules(config);\r\n    } else {\r\n      console.error('Rule group configuration must be an object or an array.');\r\n      this.validated = false;\r\n    }\r\n  }\r\n\r\n  getObjectRules(config: any) {\r\n    const rules: Rule<RuleType>[] = [];\r\n\r\n    // Add interval rule\r\n    if (config.every) {\r\n      if (isString(config.every)) {\r\n        config.every = [1, `${config.every}s`];\r\n      }\r\n      if (isArray(config.every)) {\r\n        const [interval = 1, type = IntervalRuleType.Days] = config.every;\r\n        rules.push(new IntervalRule(type, interval, this.from!));\r\n      }\r\n    }\r\n\r\n    // Add component rules\r\n    Object.values(ComponentRuleType).forEach(type => {\r\n      if (!(type in config)) return;\r\n      rules.push(ComponentRule.create(type, config[type]));\r\n    });\r\n\r\n    // Add ordinal component rules\r\n    Object.values(OrdinalComponentRuleType).forEach(type => {\r\n      if (!(type in config)) return;\r\n      rules.push(new OrdinalComponentRule(type, config[type]));\r\n    });\r\n\r\n    // Add group rules\r\n    if (config.on != null) {\r\n      if (!isArray(config.on)) config.on = [config.on];\r\n      rules.push(\r\n        new DateRepeat(config.on, { locale: this.locale }, this.parent),\r\n      );\r\n    }\r\n\r\n    return rules;\r\n  }\r\n\r\n  passes(dayParts: DayParts) {\r\n    if (!this.validated) return true;\r\n\r\n    if (this.from && dayParts.dayIndex <= this.from.dayIndex) return false;\r\n    if (this.until && dayParts.dayIndex >= this.until.dayIndex) return false;\r\n\r\n    if (this.type === GroupRuleType.Any) {\r\n      return this.rules.some(r => r.passes(dayParts));\r\n    }\r\n    return this.rules.every(r => r.passes(dayParts));\r\n  }\r\n}\r\n","import differenceInCalendarWeeks from \"../differenceInCalendarWeeks/index.js\";\nimport lastDayOfMonth from \"../lastDayOfMonth/index.js\";\nimport startOfMonth from \"../startOfMonth/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n\n/**\n * @name getWeeksInMonth\n * @category Week Helpers\n * @summary Get the number of calendar weeks a month spans.\n *\n * @description\n * Get the number of calendar weeks the month in the given date spans.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the given date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Number} the number of calendar weeks\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // How many calendar weeks does February 2015 span?\n * const result = getWeeksInMonth(new Date(2015, 1, 8))\n * //=> 4\n *\n * @example\n * // If the week starts on Monday,\n * // how many calendar weeks does July 2017 span?\n * const result = getWeeksInMonth(new Date(2017, 6, 5), { weekStartsOn: 1 })\n * //=> 6\n */\nexport default function getWeeksInMonth(date, options) {\n  requiredArgs(1, arguments);\n  return differenceInCalendarWeeks(lastDayOfMonth(date), startOfMonth(date), options) + 1;\n}","import { Placement } from '@popperjs/core';\r\nimport { DateRange, DateRangeSource } from './date/range';\r\nimport { arrayHasItems, createGuid } from './helpers';\r\nimport { addDays } from './date/helpers';\r\nimport { PopoverVisibility } from './popovers';\r\nimport { Theme } from './theme';\r\nimport Locale from './locale';\r\n\r\nimport {\r\n  ContentConfig,\r\n  HighlightConfig,\r\n  DotConfig,\r\n  BarConfig,\r\n  Profile,\r\n  Content,\r\n  Highlight,\r\n  Dot,\r\n  Bar,\r\n} from './glyph';\r\n\r\nexport type PopoverConfig = Partial<{\r\n  label: string;\r\n  visibility: PopoverVisibility;\r\n  placement: Placement;\r\n  hideIndicator: boolean;\r\n  isInteractive: boolean;\r\n}>;\r\n\r\nexport type EventConfig = Partial<{\r\n  label: string;\r\n}>;\r\n\r\nexport interface AttributeConfig {\r\n  key: string | number;\r\n  hashcode: string;\r\n  content: ContentConfig;\r\n  highlight: HighlightConfig;\r\n  dot: DotConfig;\r\n  bar: BarConfig;\r\n  popover: PopoverConfig;\r\n  event: EventConfig;\r\n  dates: DateRangeSource[];\r\n  customData: any;\r\n  order: number;\r\n  pinPage: boolean;\r\n}\r\n\r\nexport class Attribute {\r\n  key: string | number = '';\r\n  hashcode = '';\r\n  highlight: Profile<Highlight> | null = null;\r\n  content: Profile<Content> | null = null;\r\n  dot: Profile<Dot> | null = null;\r\n  bar: Profile<Bar> | null = null;\r\n  event: EventConfig | null = null;\r\n  popover: PopoverConfig | null = null;\r\n  customData: any = null;\r\n  ranges: DateRange[];\r\n  hasRanges = false;\r\n  order = 0;\r\n  pinPage = false;\r\n  maxRepeatSpan = 0;\r\n  locale: Locale;\r\n\r\n  constructor(config: Partial<AttributeConfig>, theme: Theme, locale: Locale) {\r\n    const { dates } = Object.assign(\r\n      this,\r\n      { hashcode: '', order: 0, pinPage: false },\r\n      config,\r\n    );\r\n    if (!this.key) this.key = createGuid();\r\n    this.locale = locale;\r\n    // Normalize attribute\r\n    theme.normalizeGlyphs(this);\r\n    // Assign dates\r\n    this.ranges = locale.ranges(dates ?? []);\r\n    this.hasRanges = !!arrayHasItems(this.ranges);\r\n    this.maxRepeatSpan = this.ranges\r\n      .filter(r => r.hasRepeat)\r\n      .map(r => r.daySpan)\r\n      .reduce((res, curr) => Math.max(res, curr), 0);\r\n  }\r\n\r\n  intersectsRange({ start, end }: DateRange) {\r\n    if (start == null || end == null) return false;\r\n    const simpleRanges = this.ranges.filter(r => !r.hasRepeat);\r\n    for (const range of simpleRanges) {\r\n      if (range.intersectsDayRange(start.dayIndex, end.dayIndex)) {\r\n        return true;\r\n      }\r\n    }\r\n    const repeatRanges = this.ranges.filter(r => r.hasRepeat);\r\n    if (!repeatRanges.length) return false;\r\n    let day = start;\r\n    if (this.maxRepeatSpan > 1) {\r\n      day = this.locale.getDateParts(addDays(day.date, -this.maxRepeatSpan));\r\n    }\r\n    while (day.dayIndex <= end.dayIndex) {\r\n      for (const range of repeatRanges) {\r\n        if (range.startsOnDay(day)) return true;\r\n      }\r\n      day = this.locale.getDateParts(addDays(day.date, 1));\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import { on, off, isFunction } from './helpers';\r\nimport type { CustomElement } from './helpers';\r\n\r\ninterface SwipeHandlerOptions {\r\n  maxSwipeTime: number;\r\n  minHorizontalSwipeDistance: number;\r\n  maxVerticalSwipeDistance: number;\r\n}\r\n\r\nexport const addHorizontalSwipeHandler = (\r\n  element: CustomElement,\r\n  handler: Function,\r\n  {\r\n    maxSwipeTime,\r\n    minHorizontalSwipeDistance,\r\n    maxVerticalSwipeDistance,\r\n  }: SwipeHandlerOptions,\r\n) => {\r\n  if (!element || !element.addEventListener || !isFunction(handler)) {\r\n    return null;\r\n  }\r\n  // State variables\r\n  let startX = 0;\r\n  let startY = 0;\r\n  let startTime: number | null = null;\r\n  let isSwiping = false;\r\n  // Touch start handler\r\n  function touchStart(e: TouchEvent) {\r\n    const t = e.changedTouches[0];\r\n    startX = t.screenX;\r\n    startY = t.screenY;\r\n    startTime = new Date().getTime();\r\n    isSwiping = true;\r\n  }\r\n  // Touch end handler\r\n  function touchEnd(e: TouchEvent) {\r\n    if (!isSwiping || !startTime) return;\r\n    isSwiping = false;\r\n    const t = e.changedTouches[0];\r\n    const deltaX = t.screenX - startX;\r\n    const deltaY = t.screenY - startY;\r\n    const deltaTime = new Date().getTime() - startTime;\r\n    if (deltaTime < maxSwipeTime) {\r\n      if (\r\n        Math.abs(deltaX) >= minHorizontalSwipeDistance &&\r\n        Math.abs(deltaY) <= maxVerticalSwipeDistance\r\n      ) {\r\n        const arg = { toLeft: false, toRight: false };\r\n        if (deltaX < 0) {\r\n          // Swipe to the left\r\n          arg.toLeft = true;\r\n        } else {\r\n          // Swipe to the right\r\n          arg.toRight = true;\r\n        }\r\n        handler(arg);\r\n      }\r\n    }\r\n  }\r\n  // Add event handlers\r\n  on(element, 'touchstart', touchStart, { passive: true });\r\n  // on(element, 'touchmove', touchmove);\r\n  on(element, 'touchend', touchEnd, { passive: true });\r\n  // Return function that removes event handlers\r\n  return () => {\r\n    off(element, 'touchstart', touchStart);\r\n    // off(element, 'touchmove', touchmove);\r\n    off(element, 'touchend', touchEnd);\r\n  };\r\n};\r\n","const watchSkippers: Partial<Record<string, number>> = {};\r\n\r\nexport const skipWatcher = (watcher: string, durationMs = 10) => {\r\n  watchSkippers[watcher] = Date.now() + durationMs;\r\n};\r\n\r\nexport const unskipWatcher = (watcher: string) => {\r\n  delete watchSkippers[watcher];\r\n};\r\n\r\nexport const handleWatcher = (watcher: string, handler: Function) => {\r\n  if (watcher in watchSkippers) {\r\n    const dateTime = watchSkippers[watcher] as number;\r\n    if (Date.now() < dateTime) return;\r\n    delete watchSkippers[watcher];\r\n  }\r\n  handler();\r\n};\r\n","import { ref, onMounted, onUnmounted, watch, computed, reactive, provide } from 'vue';\n\nfunction useMediaQuery(query, callback) {\n    let mediaQuery;\n    const matches = ref(false);\n    function listener(ev) {\n        if (callback)\n            callback(ev);\n        matches.value = ev.matches;\n    }\n    function cleanup() {\n        if (mediaQuery) {\n            mediaQuery.removeEventListener('change', listener);\n            mediaQuery = undefined;\n        }\n    }\n    function setup(newQuery = query) {\n        cleanup();\n        if (window && 'matchMedia' in window && newQuery) {\n            mediaQuery = window.matchMedia(newQuery);\n            mediaQuery.addEventListener('change', listener);\n            matches.value = mediaQuery.matches;\n        }\n    }\n    onMounted(() => setup());\n    onUnmounted(() => cleanup());\n    return { matches, setup, cleanup };\n}\n\nfunction useResizeObserver(target, callback, options = {}) {\n    let observer;\n    const rect = ref();\n    const listener = (...args) => {\n        if (callback)\n            callback(...args);\n        const entry = args[0][0];\n        rect.value = entry.contentRect;\n    };\n    const stopObserver = () => {\n        if (observer) {\n            observer.disconnect();\n            observer = undefined;\n        }\n    };\n    const stopWatch = watch(() => target.value, (elOrComp) => {\n        stopObserver();\n        if (window && 'ResizeObserver' in window && elOrComp) {\n            observer = new ResizeObserver(listener);\n            observer.observe(elOrComp.$el ?? elOrComp, options);\n        }\n    }, { immediate: true, flush: 'post' });\n    const cleanup = () => {\n        stopObserver();\n        stopWatch();\n    };\n    onUnmounted(() => cleanup());\n    return { rect, cleanup };\n}\n\nfunction useDarkMode(config) {\n    const isDark = ref(false);\n    const displayMode = computed(() => (isDark.value ? 'dark' : 'light'));\n    let mediaQuery;\n    let mutationObserver;\n    function mqListener(ev) {\n        isDark.value = ev.matches;\n    }\n    function setupSystem() {\n        if (window && 'matchMedia' in window) {\n            mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n            mediaQuery.addEventListener('change', mqListener);\n            isDark.value = mediaQuery.matches;\n        }\n    }\n    function moListener() {\n        const { selector = ':root', darkClass = 'dark' } = config.value;\n        const el = document.querySelector(selector);\n        isDark.value = el.classList.contains(darkClass);\n    }\n    function setupClass(config) {\n        const { selector = ':root', darkClass = 'dark' } = config;\n        if (document && selector && darkClass) {\n            const el = document.querySelector(selector);\n            if (el) {\n                mutationObserver = new MutationObserver(moListener);\n                mutationObserver.observe(el, {\n                    attributes: true,\n                    attributeFilter: ['class'],\n                });\n                isDark.value = el.classList.contains(darkClass);\n            }\n        }\n    }\n    function setup() {\n        stopObservers();\n        const type = typeof config.value;\n        if (type === 'string' && config.value.toLowerCase() === 'system') {\n            setupSystem();\n        }\n        else if (type === 'object') {\n            setupClass(config.value);\n        }\n        else {\n            isDark.value = !!config.value;\n        }\n    }\n    const stopWatch = watch(() => config.value, () => setup(), {\n        immediate: true,\n    });\n    function stopObservers() {\n        if (mediaQuery) {\n            mediaQuery.removeEventListener('change', mqListener);\n            mediaQuery = undefined;\n        }\n        if (mutationObserver) {\n            mutationObserver.disconnect();\n            mutationObserver = undefined;\n        }\n    }\n    function cleanup() {\n        stopObservers();\n        stopWatch();\n    }\n    onUnmounted(() => cleanup());\n    return {\n        isDark,\n        displayMode,\n        cleanup,\n    };\n}\n\nfunction resolveValue({ 'min-width': _minWidth, min = _minWidth, max, raw } = {}) {\n    return { min, max, raw };\n}\n/**\n * A function that normalizes the various forms that the screens object can be\n * provided in.\n *\n * Input(s):\n *   - ['100px', '200px'] // Raw strings\n *   - { sm: '100px', md: '200px' } // Object with string values\n *   - { sm: { min: '100px' }, md: { max: '100px' } } // Object with object values\n *   - { sm: [{ min: '100px' }, { max: '200px' }] } // Object with object array (multiple values)\n *\n * Output(s):\n *   - [{ name: 'sm', values: [{ min: '100px', max: '200px' }] }] // List of objects, that contains multiple values\n */\nfunction normalizeScreens(screens, root = true) {\n    if (Array.isArray(screens)) {\n        return screens.map((screen) => {\n            if (root && Array.isArray(screen)) {\n                throw new Error('The tuple syntax is not supported for `screens`.');\n            }\n            if (typeof screen === 'string') {\n                return { name: screen.toString(), values: [{ min: screen, max: undefined }] };\n            }\n            let [name, options] = screen;\n            name = name.toString();\n            if (typeof options === 'string') {\n                return { name, values: [{ min: options, max: undefined }] };\n            }\n            if (Array.isArray(options)) {\n                return { name, values: options.map((option) => resolveValue(option)) };\n            }\n            return { name, values: [resolveValue(options)] };\n        });\n    }\n    return normalizeScreens(Object.entries(screens ?? {}), false);\n}\n\n// This function gratuitously borrowed from TailwindCSS\n// https://github.com/tailwindcss/tailwindcss/blob/master/src/util/buildMediaQuery.js\nfunction buildMediaQuery(screenValues) {\n    return screenValues\n        .map((sv) => {\n        if (sv.raw !== undefined)\n            return sv.raw;\n        return [sv.min && `(min-width: ${sv.min})`, sv.max && `(max-width: ${sv.max})`].filter(Boolean).join(' and ');\n    })\n        .join(', ');\n}\n\nvar defaultScreens = {\n    xs: '0px',\n    sm: '640px',\n    md: '768px',\n    lg: '1024px',\n    xl: '1280px',\n};\n\nconst defaultInjectKey = '$screens';\nfunction initScreens(screens) {\n    const state = reactive({\n        screens: normalizeScreens(screens || defaultScreens),\n        queries: {},\n        matches: {},\n        hasSetup: false,\n    });\n    function refreshMatches() {\n        Object.entries(state.queries).forEach(([key, query]) => {\n            state.matches[key] = query.matches;\n        });\n    }\n    function mapList(config) {\n        return computed(() => Object.keys(state.matches)\n            .filter((key) => state.matches[key] === true && config.hasOwnProperty(key))\n            .map((key) => config[key]));\n    }\n    const list = computed(() => Object.keys(state.matches).filter((k) => state.matches[k]));\n    function mapCurrent(config, def) {\n        return computed(() => {\n            const curr = current.value;\n            if (curr && config.hasOwnProperty(curr))\n                return config[curr];\n            return def;\n        });\n    }\n    const current = computed(() => {\n        const arr = list.value;\n        if (arr.length)\n            return arr[arr.length - 1];\n        return '';\n    });\n    function cleanup() {\n        Object.values(state.queries).forEach((query) => query.removeEventListener('change', refreshMatches));\n        state.queries = {};\n        state.matches = {};\n    }\n    if (state.hasSetup || !window || !('matchMedia' in window))\n        return;\n    cleanup();\n    state.queries = state.screens.reduce((result, { name, values }) => {\n        const mediaQuery = window.matchMedia(buildMediaQuery(values));\n        mediaQuery.addEventListener('change', refreshMatches);\n        result[name] = mediaQuery;\n        return result;\n    }, {});\n    state.hasSetup = true;\n    refreshMatches();\n    return { matches: state.matches, list, mapList, current, mapCurrent, cleanup };\n}\n\nfunction useScreens(screens, opts) {\n    const s = initScreens(screens);\n    provide(opts?.injectKey || defaultInjectKey, s);\n    onUnmounted(() => s.cleanup());\n    return s;\n}\n\nconst plugin = {\n    install: (app, screens, opts) => {\n        const s = initScreens(screens);\n        const key = opts?.injectKey || defaultInjectKey;\n        // Inject a globally available screens object method\n        app.config.globalProperties[key] = s;\n        // Provide screens object\n        app.provide(key, s);\n    },\n};\n\nexport { buildMediaQuery, normalizeScreens, plugin as screens, useDarkMode, useMediaQuery, useResizeObserver, useScreens };\n//# sourceMappingURL=index.mjs.map\n","import { Attribute } from './attribute';\r\nimport { DateRangeCell } from './date/range';\r\nimport { isObject, isString, hasAny, defaultsDeep } from './helpers';\r\n\r\ntype GlyphTarget = 'base' | 'start' | 'end' | 'startEnd';\r\ntype ThemeProp =\r\n  | 'class'\r\n  | 'wrapperClass'\r\n  | 'contentClass'\r\n  | 'style'\r\n  | 'contentStyle'\r\n  | 'color'\r\n  | 'fillMode';\r\n\r\nconst targetProps: GlyphTarget[] = ['base', 'start', 'end', 'startEnd'];\r\nconst displayProps: ThemeProp[] = [\r\n  'class',\r\n  'wrapperClass',\r\n  'contentClass',\r\n  'style',\r\n  'contentStyle',\r\n  'color',\r\n  'fillMode',\r\n];\r\n\r\nexport interface Glyph {\r\n  key: string | number;\r\n  color: string;\r\n  class: string | any[];\r\n  style: Record<string, any>;\r\n}\r\n\r\nexport interface Profile<T> {\r\n  start: T;\r\n  base: T;\r\n  end: T;\r\n  startEnd?: T;\r\n}\r\n\r\n// Highlights\r\nexport type HighlightFillMode = 'solid' | 'light' | 'outline';\r\nexport interface Highlight extends Glyph {\r\n  fillMode: HighlightFillMode;\r\n  wrapperClass: string | any[];\r\n  contentClass: string | any[];\r\n  contentStyle: Record<string, any>;\r\n}\r\nexport type HighlightConfig =\r\n  | boolean\r\n  | string\r\n  | Partial<Highlight | Profile<Partial<Highlight>>>;\r\n\r\n// Dots\r\nexport type Dot = Glyph;\r\nexport type DotConfig = boolean | string | Partial<Dot | Profile<Partial<Dot>>>;\r\n\r\n// Bars\r\nexport type Bar = Glyph;\r\nexport type BarConfig = boolean | string | Partial<Bar | Profile<Partial<Bar>>>;\r\n\r\n// Content\r\nexport type Content = Glyph;\r\nexport type ContentConfig =\r\n  | string\r\n  | Partial<Content | Profile<Partial<Content>>>;\r\n\r\nconst _defaultProfile = { base: {}, start: {}, end: {} };\r\n\r\nfunction normalizeConfig(\r\n  color: string,\r\n  config: any,\r\n  defaultProfile: any = _defaultProfile,\r\n): Profile<Glyph> {\r\n  let rootColor = color;\r\n  let root: any = {};\r\n  // Get the normalized root config\r\n  if (config === true || isString(config)) {\r\n    // Assign default color for booleans or strings\r\n    rootColor = isString(config) ? config : rootColor;\r\n    // Set the default root\r\n    root = { ...defaultProfile };\r\n  } else if (isObject(config)) {\r\n    if (hasAny(config as Record<string, any>, targetProps)) {\r\n      // Mixin target configs\r\n      root = { ...config };\r\n    } else {\r\n      // Mixin display configs\r\n      root = {\r\n        base: { ...(config as Record<string, any>) },\r\n        start: { ...(config as Record<string, any>) },\r\n        end: { ...(config as Record<string, any>) },\r\n      };\r\n    }\r\n  }\r\n  // Fill in missing targets\r\n  const result = defaultsDeep(\r\n    root,\r\n    { start: root.startEnd, end: root.startEnd },\r\n    defaultProfile,\r\n  ) as Profile<any>;\r\n  // Normalize each target\r\n  Object.entries(result).forEach(([targetType, targetConfig]) => {\r\n    let targetColor = rootColor;\r\n    if (targetConfig === true || isString(targetConfig)) {\r\n      targetColor = isString(targetConfig) ? targetConfig : targetColor;\r\n      // @ts-ignore\r\n      result[targetType] = { color: targetColor };\r\n    } else if (isObject(targetConfig)) {\r\n      if (hasAny(targetConfig, displayProps)) {\r\n        // @ts-ignore\r\n        result[targetType] = { ...targetConfig };\r\n      } else {\r\n        // @ts-ignore\r\n        result[targetType] = {};\r\n      }\r\n    }\r\n    // Set the theme color if it is missing\r\n    // @ts-ignore\r\n    defaultsDeep(result[targetType], { color: targetColor });\r\n  });\r\n  return result;\r\n}\r\n\r\nexport interface GlyphRenderer<P extends Partial<Glyph>> {\r\n  type: string;\r\n  normalizeConfig(color: string, config: any): Profile<P>;\r\n  prepareRender(glyphs: Record<string, P[]>): void;\r\n  render(attr: DateRangeCell<Attribute>, glyphs: Record<string, P[]>): void;\r\n}\r\n\r\nexport class HighlightRenderer implements GlyphRenderer<Highlight> {\r\n  type = 'highlight';\r\n\r\n  normalizeConfig(color: string, config: any) {\r\n    return normalizeConfig(color, config, {\r\n      base: { fillMode: 'light' },\r\n      start: { fillMode: 'solid' },\r\n      end: { fillMode: 'solid' },\r\n    }) as Profile<Highlight>;\r\n  }\r\n\r\n  prepareRender(glyphs: Record<string, Glyph[]>) {\r\n    glyphs.highlights = [];\r\n    if (!glyphs.content) glyphs.content = [];\r\n  }\r\n\r\n  render(\r\n    { data, onStart, onEnd }: DateRangeCell<Attribute>,\r\n    glyphs: Record<string, Highlight[]>,\r\n  ) {\r\n    const { key, highlight } = data;\r\n    if (!highlight) return;\r\n    const { highlights } = glyphs;\r\n    const { base, start, end } = highlight;\r\n    if (onStart && onEnd) {\r\n      highlights.push({\r\n        ...start,\r\n        key,\r\n        wrapperClass: `vc-day-layer vc-day-box-center-center vc-attr vc-${start.color}`,\r\n        class: [`vc-highlight vc-highlight-bg-${start.fillMode}`, start.class],\r\n        contentClass: [\r\n          `vc-attr vc-highlight-content-${start.fillMode} vc-${start.color}`,\r\n          start.contentClass,\r\n        ],\r\n      });\r\n    } else if (onStart) {\r\n      highlights.push({\r\n        ...base,\r\n        key: `${key}-base`,\r\n        wrapperClass: `vc-day-layer vc-day-box-right-center vc-attr vc-${base.color}`,\r\n        class: [\r\n          `vc-highlight vc-highlight-base-start vc-highlight-bg-${base.fillMode}`,\r\n          base.class,\r\n        ],\r\n      });\r\n      highlights.push({\r\n        ...start,\r\n        key,\r\n        wrapperClass: `vc-day-layer vc-day-box-center-center vc-attr vc-${start.color}`,\r\n        class: [`vc-highlight vc-highlight-bg-${start.fillMode}`, start.class],\r\n        contentClass: [\r\n          `vc-attr vc-highlight-content-${start.fillMode} vc-${start.color}`,\r\n          start.contentClass,\r\n        ],\r\n      });\r\n    } else if (onEnd) {\r\n      highlights.push({\r\n        ...base,\r\n        key: `${key}-base`,\r\n        wrapperClass: `vc-day-layer vc-day-box-left-center vc-attr vc-${base.color}`,\r\n        class: [\r\n          `vc-highlight vc-highlight-base-end vc-highlight-bg-${base.fillMode}`,\r\n          base.class,\r\n        ],\r\n      });\r\n      highlights.push({\r\n        ...end,\r\n        key,\r\n        wrapperClass: `vc-day-layer vc-day-box-center-center vc-attr vc-${end.color}`,\r\n        class: [`vc-highlight vc-highlight-bg-${end.fillMode}`, end.class],\r\n        contentClass: [\r\n          `vc-attr vc-highlight-content-${end.fillMode} vc-${end.color}`,\r\n          end.contentClass,\r\n        ],\r\n      });\r\n    } else {\r\n      highlights.push({\r\n        ...base,\r\n        key: `${key}-middle`,\r\n        wrapperClass: `vc-day-layer vc-day-box-center-center vc-attr vc-${base.color}`,\r\n        class: [\r\n          `vc-highlight vc-highlight-base-middle vc-highlight-bg-${base.fillMode}`,\r\n          base.class,\r\n        ],\r\n        contentClass: [\r\n          `vc-attr vc-highlight-content-${base.fillMode} vc-${base.color}`,\r\n          base.contentClass,\r\n        ],\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport class BaseRenderer<T extends Partial<Glyph>>\r\n  implements GlyphRenderer<T>\r\n{\r\n  type = '';\r\n  collectionType = '';\r\n\r\n  constructor(type: string, collectionType: string) {\r\n    this.type = type;\r\n    this.collectionType = collectionType;\r\n  }\r\n\r\n  normalizeConfig(color: string, config: any) {\r\n    return normalizeConfig(color, config) as Profile<T>;\r\n  }\r\n\r\n  prepareRender(glyphs: Record<string, T[]>) {\r\n    glyphs[this.collectionType] = [];\r\n  }\r\n\r\n  render(\r\n    { data, onStart, onEnd }: DateRangeCell<Attribute>,\r\n    glyphs: Record<string, T[]>,\r\n  ) {\r\n    const { key } = data;\r\n    const item = data[this.type as keyof Attribute];\r\n    if (!key || !item) return;\r\n    const collection = glyphs[this.collectionType];\r\n    const { base, start, end } = item;\r\n    if (onStart) {\r\n      collection.push({\r\n        ...start,\r\n        key,\r\n        class: [\r\n          `vc-${this.type} vc-${this.type}-start vc-${start.color} vc-attr`,\r\n          start.class,\r\n        ],\r\n      });\r\n    } else if (onEnd) {\r\n      collection.push({\r\n        ...end,\r\n        key,\r\n        class: [\r\n          `vc-${this.type} vc-${this.type}-end vc-${end.color} vc-attr`,\r\n          end.class,\r\n        ],\r\n      });\r\n    } else {\r\n      collection.push({\r\n        ...base,\r\n        key,\r\n        class: [\r\n          `vc-${this.type} vc-${this.type}-base vc-${base.color} vc-attr`,\r\n          base.class,\r\n        ],\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport class ContentRenderer extends BaseRenderer<Content> {\r\n  constructor() {\r\n    super('content', 'content');\r\n  }\r\n\r\n  normalizeConfig(_: string, config: any) {\r\n    return normalizeConfig('base', config) as Profile<Content>;\r\n  }\r\n}\r\n\r\nexport class DotRenderer extends BaseRenderer<Dot> {\r\n  constructor() {\r\n    super('dot', 'dots');\r\n  }\r\n}\r\n\r\nexport class BarRenderer extends BaseRenderer<Dot> {\r\n  constructor() {\r\n    super('bar', 'bars');\r\n  }\r\n}\r\n","import { Attribute } from './attribute';\r\nimport { DateRangeCell } from '@/utils/date/range';\r\nimport {\r\n  GlyphRenderer,\r\n  Glyph,\r\n  ContentRenderer,\r\n  HighlightRenderer,\r\n  DotRenderer,\r\n  BarRenderer,\r\n  Highlight,\r\n  Dot,\r\n  Bar,\r\n  Content,\r\n} from './glyph';\r\n\r\nexport interface Glyphs {\r\n  highlights: Highlight[];\r\n  dots: Dot[];\r\n  bars: Bar[];\r\n  content: Content[];\r\n}\r\n\r\nexport class Theme {\r\n  color: string;\r\n  renderers: GlyphRenderer<Glyph>[] = [\r\n    new ContentRenderer(),\r\n    new HighlightRenderer(),\r\n    new DotRenderer(),\r\n    new BarRenderer(),\r\n  ];\r\n\r\n  constructor(color: string) {\r\n    this.color = color;\r\n  }\r\n\r\n  normalizeGlyphs(attr: Attribute) {\r\n    this.renderers.forEach(renderer => {\r\n      const type = renderer.type as keyof Attribute;\r\n      if (attr[type] != null) {\r\n        // @ts-ignore\r\n        attr[type] = renderer.normalizeConfig(this.color, attr[type]);\r\n      }\r\n    });\r\n  }\r\n\r\n  prepareRender(glyphs: Partial<Glyphs> = {}) {\r\n    this.renderers.forEach(renderer => {\r\n      renderer.prepareRender(glyphs);\r\n    });\r\n    return glyphs;\r\n  }\r\n\r\n  render(cell: DateRangeCell<Attribute>, glyphs: Partial<Glyphs>) {\r\n    this.renderers.forEach(renderer => {\r\n      renderer.render(cell, glyphs);\r\n    });\r\n  }\r\n}\r\n","import { PropType, ExtractPropTypes, computed, provide, inject } from 'vue';\r\nimport { DarkModeClassConfig } from 'vue-screen-utils';\r\nimport { useDarkMode } from 'vue-screen-utils';\r\nimport { Theme } from '../utils/theme';\r\nimport { getDefault } from '../utils/defaults';\r\nimport { default as Locale, LocaleConfig } from '../utils/locale';\r\nimport { Attribute } from '../utils/attribute';\r\nimport { isObject } from '../utils/helpers';\r\nimport { DayOfWeek, addDays } from '../utils/date/helpers';\r\n\r\nconst contextKey = '__vc_base_context__';\r\n\r\nexport const propsDef = {\r\n  color: {\r\n    type: String,\r\n    default: () => getDefault('color'),\r\n  },\r\n  isDark: {\r\n    type: [Boolean, String, Object] as PropType<\r\n      boolean | 'system' | DarkModeClassConfig\r\n    >,\r\n    default: () => getDefault('isDark'),\r\n  },\r\n  firstDayOfWeek: Number as PropType<DayOfWeek>,\r\n  masks: Object,\r\n  locale: [String, Object] as PropType<string | Record<string, any> | Locale>,\r\n  timezone: String,\r\n  minDate: null,\r\n  maxDate: null,\r\n  disabledDates: null,\r\n};\r\n\r\nexport type BaseProps = Readonly<ExtractPropTypes<typeof propsDef>>;\r\n\r\nexport type BaseContext = ReturnType<typeof createBase>;\r\n\r\nexport function createBase(props: BaseProps) {\r\n  // #region Computed\r\n\r\n  const color = computed(() => props.color ?? '');\r\n  const isDark = computed(() => props.isDark ?? false);\r\n  const { displayMode } = useDarkMode(isDark);\r\n  const theme = computed(() => new Theme(color.value));\r\n\r\n  const locale = computed(() => {\r\n    // Return the locale prop if it is an instance of the Locale class\r\n    if (props.locale instanceof Locale) return props.locale;\r\n    // Build up a base config from component props\r\n    const config = (\r\n      isObject(props.locale)\r\n        ? props.locale\r\n        : {\r\n            id: props.locale,\r\n            firstDayOfWeek: props.firstDayOfWeek,\r\n            masks: props.masks,\r\n          }\r\n    ) as Partial<LocaleConfig>;\r\n    // Return new locale\r\n    return new Locale(config, props.timezone);\r\n  });\r\n\r\n  const masks = computed(() => locale.value.masks);\r\n\r\n  const disabledDates = computed(() => {\r\n    const dates: any[] = props.disabledDates ?? [];\r\n    // Add disabled range for min date\r\n    if (props.minDate != null) {\r\n      dates.push({\r\n        start: null,\r\n        end: addDays(locale.value.toDate(props.minDate), -1),\r\n      });\r\n    }\r\n    // Add disabled range for max date\r\n    if (props.maxDate != null) {\r\n      dates.push({\r\n        start: addDays(locale.value.toDate(props.maxDate), 1),\r\n        end: null,\r\n      });\r\n    }\r\n    return locale.value.ranges(dates);\r\n  });\r\n\r\n  const disabledAttribute = computed(() => {\r\n    return new Attribute(\r\n      {\r\n        key: 'disabled',\r\n        dates: disabledDates.value,\r\n        order: 100,\r\n      },\r\n      theme.value,\r\n      locale.value,\r\n    );\r\n  });\r\n\r\n  // #endregion Computed\r\n\r\n  const context = {\r\n    color,\r\n    isDark,\r\n    displayMode,\r\n    theme,\r\n    locale,\r\n    masks,\r\n    disabledDates,\r\n    disabledAttribute,\r\n  };\r\n  provide(contextKey, context);\r\n  return context;\r\n}\r\n\r\nexport function useBase() {\r\n  const context = inject<BaseContext>(contextKey);\r\n  if (context) return context;\r\n  throw new Error(\r\n    'Base context missing. Please verify this component is nested within a valid context provider.',\r\n  );\r\n}\r\n\r\nexport function useOrCreateBase(props: BaseProps) {\r\n  return inject<BaseContext>(contextKey, createBase(props));\r\n}\r\n","import {\r\n  PropType,\r\n  ExtractPropTypes,\r\n  computed,\r\n  reactive,\r\n  toRefs,\r\n  provide,\r\n  onMounted,\r\n  onUnmounted,\r\n  watch,\r\n  inject,\r\n  watchEffect,\r\n} from 'vue';\r\nimport Popover from '../Popover/Popover.vue';\r\nimport { Attribute, AttributeConfig } from '../utils/attribute';\r\nimport {\r\n  DateSource,\r\n  addDays,\r\n  addMonths,\r\n  addYears,\r\n} from '../utils/date/helpers';\r\nimport { DateRangeContext } from '../utils/date/range';\r\nimport {\r\n  createGuid,\r\n  isBoolean,\r\n  has,\r\n  head,\r\n  last,\r\n  arrayHasItems,\r\n} from '../utils/helpers';\r\nimport type { CustomElement } from '../utils/helpers';\r\nimport { getDefault } from '../utils/defaults';\r\nimport { addHorizontalSwipeHandler } from '../utils/touch';\r\nimport { skipWatcher, handleWatcher } from '../utils/watchers';\r\nimport { PopoverVisibility } from '../utils/popovers';\r\nimport {\r\n  Page,\r\n  PageAddress,\r\n  CalendarDay,\r\n  CalendarWeek,\r\n  TitlePosition,\r\n  pageRangeToArray,\r\n  pageIsValid,\r\n  pageIsEqualToPage,\r\n  pageIsBeforePage,\r\n  pageIsAfterPage,\r\n  pageIsBetweenPages,\r\n  getPageAddressForDate,\r\n  addPages as _addPages,\r\n} from '../utils/page';\r\nimport { propsDef as basePropsDef, useOrCreateBase } from './base';\r\n\r\nexport type CalendarView = 'daily' | 'weekly' | 'monthly';\r\n\r\nexport type MoveTarget = DateSource | PageAddress;\r\n\r\nexport type MoveTransition = 'none' | 'fade' | 'slide-v' | 'slide-h';\r\n\r\nexport interface MoveOptions {\r\n  position: number;\r\n  view: CalendarView;\r\n  transition: MoveTransition;\r\n  force: boolean;\r\n  fromPage: PageAddress;\r\n  toPage: PageAddress;\r\n}\r\n\r\nexport interface RefreshOptions {\r\n  page: PageAddress;\r\n  position: number;\r\n  force: boolean;\r\n  transition: MoveTransition;\r\n}\r\n\r\nexport type CalendarProps = Readonly<ExtractPropTypes<typeof propsDef>>;\r\n\r\ntype IContainer = Pick<Element, 'querySelector'> & CustomElement;\r\n\r\ninterface CalendarState {\r\n  containerRef: IContainer | null;\r\n  navPopoverRef: typeof Popover | null;\r\n  lastFocusedDay: CalendarDay | null;\r\n  focusableDay: number;\r\n  inTransition: boolean;\r\n  navPopoverId: string;\r\n  dayPopoverId: string;\r\n  view: CalendarView;\r\n  pages: Page[];\r\n  transitionName: string;\r\n  refreshing: boolean;\r\n}\r\n\r\nexport type CalendarContext = ReturnType<typeof createCalendar>;\r\n\r\nexport const propsDef = {\r\n  ...basePropsDef,\r\n  view: {\r\n    type: String as PropType<CalendarView>,\r\n    default: 'monthly',\r\n    validator(value: string) {\r\n      return ['daily', 'weekly', 'monthly'].includes(value);\r\n    },\r\n  },\r\n  rows: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  columns: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  step: Number,\r\n  titlePosition: {\r\n    type: String as PropType<TitlePosition>,\r\n    default: () => getDefault('titlePosition') as TitlePosition,\r\n  },\r\n  navVisibility: {\r\n    type: String as PropType<PopoverVisibility>,\r\n    default: () => getDefault('navVisibility') as PopoverVisibility,\r\n  },\r\n  showWeeknumbers: [Boolean, String],\r\n  showIsoWeeknumbers: [Boolean, String],\r\n  isExpanded: Boolean,\r\n  initialPage: Object as PropType<PageAddress>,\r\n  initialPagePosition: { type: Number, default: 1 },\r\n  minPage: Object as PropType<PageAddress>,\r\n  maxPage: Object as PropType<PageAddress>,\r\n  transition: String as PropType<MoveTransition>,\r\n  attributes: Array as PropType<Array<AttributeConfig>>,\r\n  trimWeeks: Boolean,\r\n  disablePageSwipe: Boolean,\r\n};\r\n\r\nexport const emitsDef = [\r\n  'dayclick',\r\n  'daymouseenter',\r\n  'daymouseleave',\r\n  'dayfocusin',\r\n  'dayfocusout',\r\n  'daykeydown',\r\n  'weeknumberclick',\r\n  'transition-start',\r\n  'transition-end',\r\n  'did-move',\r\n  'update:view',\r\n  'update:pages',\r\n];\r\n\r\nconst contextKey = '__vc_calendar_context__';\r\n\r\nexport function createCalendar(props: CalendarProps, { emit, slots }: any) {\r\n  const state: CalendarState = reactive({\r\n    containerRef: null,\r\n    navPopoverRef: null,\r\n    lastFocusedDay: null,\r\n    focusableDay: new Date().getDate(),\r\n    inTransition: false,\r\n    navPopoverId: createGuid(),\r\n    dayPopoverId: createGuid(),\r\n    view: props.view,\r\n    pages: [],\r\n    transitionName: '',\r\n    refreshing: false,\r\n  });\r\n\r\n  // Non-reactive util vars\r\n  let transitionPromise: any = null;\r\n  let removeHandlers: any = null;\r\n\r\n  // #region Computed\r\n\r\n  const {\r\n    theme,\r\n    color,\r\n    displayMode,\r\n    locale,\r\n    masks,\r\n    disabledAttribute,\r\n    disabledDates,\r\n  } = useOrCreateBase(props);\r\n\r\n  const count = computed(() => props.rows * props.columns);\r\n\r\n  const step = computed(() => props.step || count.value);\r\n\r\n  const firstPage = computed(() => head(state.pages) ?? null);\r\n\r\n  const lastPage = computed(() => last(state.pages) ?? null);\r\n\r\n  const minPage = computed(\r\n    () =>\r\n      props.minPage || (props.minDate ? getDateAddress(props.minDate) : null),\r\n  );\r\n\r\n  const maxPage = computed(\r\n    () =>\r\n      props.maxPage || (props.maxDate ? getDateAddress(props.maxDate) : null),\r\n  );\r\n\r\n  const navVisibility = computed(() => props.navVisibility);\r\n\r\n  const showWeeknumbers = computed(() => !!props.showWeeknumbers);\r\n\r\n  const showIsoWeeknumbers = computed(() => !!props.showIsoWeeknumbers);\r\n\r\n  const isMonthly = computed(() => state.view === 'monthly');\r\n  const isWeekly = computed(() => state.view === 'weekly');\r\n  const isDaily = computed(() => state.view === 'daily');\r\n\r\n  // #endregion Computed\r\n\r\n  // #region Methods\r\n\r\n  const onTransitionBeforeEnter = () => {\r\n    state.inTransition = true;\r\n    emit('transition-start');\r\n  };\r\n\r\n  const onTransitionAfterEnter = () => {\r\n    state.inTransition = false;\r\n    emit('transition-end');\r\n    if (transitionPromise) {\r\n      transitionPromise.resolve(true);\r\n      transitionPromise = null;\r\n    }\r\n  };\r\n\r\n  const addPages = (address: PageAddress, count: number, view = state.view) => {\r\n    return _addPages(address, count, view, locale.value);\r\n  };\r\n\r\n  const getDateAddress = (date: DateSource) => {\r\n    return getPageAddressForDate(date, state.view, locale.value);\r\n  };\r\n\r\n  const refreshDisabledDay = (day: CalendarDay) => {\r\n    if (!disabledAttribute.value || !attributeContext.value) return;\r\n    day.isDisabled = attributeContext.value.cellExists(\r\n      disabledAttribute.value.key,\r\n      day.dayIndex,\r\n    );\r\n  };\r\n\r\n  const refreshFocusableDay = (day: CalendarDay) => {\r\n    day.isFocusable = day.inMonth && day.day === state.focusableDay;\r\n  };\r\n\r\n  const forDays = (pages: Page[], fn: (day: CalendarDay) => boolean | void) => {\r\n    for (const page of pages) {\r\n      for (const day of page.days) {\r\n        if (fn(day) === false) return;\r\n      }\r\n    }\r\n  };\r\n\r\n  const allDays = computed(() =>\r\n    state.pages.reduce((result: CalendarDay[], page: Page) => {\r\n      result.push(...page.days);\r\n      return result;\r\n    }, <CalendarDay[]>[]),\r\n  );\r\n\r\n  const attributes = computed(() => {\r\n    const result: Attribute[] = [];\r\n    (props.attributes || []).forEach((attr, i) => {\r\n      if (!attr || !attr.dates) return;\r\n      const key = has(attr, 'key') ? attr.key : i;\r\n      const order = attr.order || 0;\r\n      result.push(\r\n        new Attribute(\r\n          {\r\n            ...attr,\r\n            key,\r\n            order,\r\n          },\r\n          theme.value,\r\n          locale.value,\r\n        ),\r\n      );\r\n    });\r\n    if (disabledAttribute.value) {\r\n      result.push(disabledAttribute.value);\r\n    }\r\n    return result;\r\n  });\r\n\r\n  const hasAttributes = computed(() => arrayHasItems(attributes.value));\r\n\r\n  const attributeContext = computed(() => {\r\n    if (!allDays.value.length) return null;\r\n    const ctx = new DateRangeContext();\r\n    attributes.value.forEach(attr => {\r\n      attr.ranges.forEach(range => {\r\n        ctx.render(attr, range, allDays.value);\r\n      });\r\n    });\r\n    return ctx;\r\n  });\r\n\r\n  const getWeeknumberPosition = (column: number, columnFromEnd: number) => {\r\n    const showWeeknumbers = props.showWeeknumbers || props.showIsoWeeknumbers;\r\n    if (showWeeknumbers == null) return '';\r\n    if (isBoolean(showWeeknumbers)) {\r\n      return showWeeknumbers ? 'left' : '';\r\n    }\r\n    if (showWeeknumbers.startsWith('right')) {\r\n      return columnFromEnd > 1 ? 'right' : showWeeknumbers;\r\n    }\r\n    return column > 1 ? 'left' : showWeeknumbers;\r\n  };\r\n\r\n  const getPageForAttributes = () => {\r\n    if (!hasAttributes.value) return null;\r\n    const attr =\r\n      attributes.value.find(attr => attr.pinPage) || attributes.value[0];\r\n    if (!attr || !attr.hasRanges) return null;\r\n    const [range] = attr.ranges;\r\n    const date = range.start?.date || range.end?.date;\r\n    return date ? getDateAddress(date) : null;\r\n  };\r\n\r\n  const getDefaultInitialPage = () => {\r\n    // 1. Try existing first page\r\n    if (pageIsValid(firstPage.value)) return firstPage.value as PageAddress;\r\n    // 2. Try the first attribute\r\n    const page = getPageForAttributes();\r\n    if (pageIsValid(page)) return page as PageAddress;\r\n    // 3. Use today's page\r\n    return getDateAddress(new Date());\r\n  };\r\n\r\n  const getTargetPageRange = (\r\n    page: PageAddress,\r\n    opts: Partial<MoveOptions> = {},\r\n  ) => {\r\n    const { view = state.view, position = 1, force } = opts;\r\n    const pagesToAdd = position > 0 ? 1 - position : -(count.value + position);\r\n    let fromPage = addPages(page, pagesToAdd, view);\r\n    let toPage = addPages(fromPage!, count.value - 1, view);\r\n\r\n    // Adjust range for min/max if not forced\r\n    if (!force) {\r\n      if (pageIsBeforePage(fromPage, minPage.value)) {\r\n        fromPage = minPage.value!;\r\n      } else if (pageIsAfterPage(toPage, maxPage.value)) {\r\n        fromPage = addPages(maxPage.value!, 1 - count.value);\r\n      }\r\n      toPage = addPages(fromPage!, count.value - 1);\r\n    }\r\n    return { fromPage, toPage };\r\n  };\r\n\r\n  const getPageTransition = (\r\n    oldPage: Page,\r\n    newPage: Page,\r\n    defaultTransition = '',\r\n  ) => {\r\n    if (defaultTransition === 'none' || defaultTransition === 'fade')\r\n      return defaultTransition;\r\n    // Moving to a different view\r\n    if (oldPage?.view !== newPage?.view) return 'fade';\r\n    // Moving to a previous page\r\n    const moveNext = pageIsAfterPage(newPage, oldPage);\r\n    const movePrev = pageIsBeforePage(newPage, oldPage);\r\n    if (!moveNext && !movePrev) {\r\n      return 'fade';\r\n    }\r\n    // Vertical slide\r\n    if (defaultTransition === 'slide-v') {\r\n      return movePrev ? 'slide-down' : 'slide-up';\r\n    }\r\n    // Horizontal slide\r\n    return movePrev ? 'slide-right' : 'slide-left';\r\n  };\r\n\r\n  const refreshPages = (opts: Partial<RefreshOptions> = {}) => {\r\n    return new Promise((resolve, reject) => {\r\n      const { position = 1, force = false, transition } = opts;\r\n      const page = pageIsValid(opts.page)\r\n        ? opts.page!\r\n        : getDefaultInitialPage();\r\n      const { fromPage } = getTargetPageRange(page, {\r\n        position,\r\n        force,\r\n      });\r\n      // Create the new pages\r\n      const pages: Page[] = [];\r\n      for (let i = 0; i < count.value; i++) {\r\n        const newPage = addPages(fromPage!, i);\r\n        const position = i + 1;\r\n        const row = Math.ceil(position / props.columns);\r\n        const rowFromEnd = props.rows - row + 1;\r\n        const column = position % props.columns || props.columns;\r\n        const columnFromEnd = props.columns - column + 1;\r\n        const weeknumberPosition = getWeeknumberPosition(column, columnFromEnd);\r\n        pages.push(\r\n          locale.value.getPage({\r\n            ...newPage,\r\n            view: state.view,\r\n            titlePosition: props.titlePosition,\r\n            trimWeeks: props.trimWeeks,\r\n            position,\r\n            row,\r\n            rowFromEnd,\r\n            column,\r\n            columnFromEnd,\r\n            showWeeknumbers: showWeeknumbers.value,\r\n            showIsoWeeknumbers: showIsoWeeknumbers.value,\r\n            weeknumberPosition,\r\n          }),\r\n        );\r\n      }\r\n      // Assign the transition\r\n      state.transitionName = getPageTransition(\r\n        state.pages[0],\r\n        pages[0],\r\n        transition,\r\n      );\r\n      // Assign the new pages\r\n      state.pages = pages;\r\n      // Cache or resolve transition promise\r\n      if (state.transitionName && state.transitionName !== 'none') {\r\n        transitionPromise = {\r\n          resolve,\r\n          reject,\r\n        };\r\n      } else {\r\n        resolve(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const targetBy = (pages: number) => {\r\n    const fromPage = firstPage.value ?? getDateAddress(new Date());\r\n    return addPages(fromPage, pages);\r\n  };\r\n\r\n  const canMove = (target: MoveTarget, opts: Partial<MoveOptions> = {}) => {\r\n    const page = pageIsValid(target as PageAddress)\r\n      ? (target as Page)\r\n      : getDateAddress(target as DateSource);\r\n    // Calculate new page range without adjusting to min/max\r\n    Object.assign(\r\n      opts,\r\n      getTargetPageRange(page, {\r\n        ...opts,\r\n        force: true,\r\n      }),\r\n    );\r\n    // Verify we can move to any pages in the target range\r\n    const pagesInRange = pageRangeToArray(\r\n      opts.fromPage!,\r\n      opts.toPage!,\r\n      state.view,\r\n      locale.value,\r\n    ).map(p => pageIsBetweenPages(p, minPage.value, maxPage.value));\r\n    return pagesInRange.every(val => val);\r\n  };\r\n\r\n  const canMoveBy = (pages: number, opts: Partial<MoveOptions> = {}) => {\r\n    return canMove(targetBy(pages), opts);\r\n  };\r\n\r\n  const canMovePrev = computed(() => canMoveBy(-step.value));\r\n\r\n  const canMoveNext = computed(() => canMoveBy(step.value));\r\n\r\n  const move = async (target: MoveTarget, opts: Partial<MoveOptions> = {}) => {\r\n    // Return if we can't move to this page\r\n    if (!opts.force && !canMove(target, opts)) return false;\r\n    // Move to new `fromPage` if it's different from the current one\r\n    if (opts.fromPage && !pageIsEqualToPage(opts.fromPage, firstPage.value)) {\r\n      // Hide nav popover for good measure\r\n      if (state.navPopoverRef) {\r\n        state.navPopoverRef.hide({ hideDelay: 0 });\r\n      }\r\n      // Quietly change view if needed\r\n      if (opts.view) {\r\n        skipWatcher('view', 10);\r\n        state.view = opts.view;\r\n      }\r\n      await refreshPages({\r\n        ...opts,\r\n        page: opts.fromPage,\r\n        position: 1,\r\n        force: true,\r\n      });\r\n      emit('did-move', state.pages);\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const moveBy = (pages: number, opts: Partial<MoveOptions> = {}) => {\r\n    return move(targetBy(pages), opts);\r\n  };\r\n\r\n  const movePrev = () => {\r\n    return moveBy(-step.value);\r\n  };\r\n\r\n  const moveNext = () => {\r\n    return moveBy(step.value);\r\n  };\r\n\r\n  const tryFocusDate = (date: Date) => {\r\n    const inMonth = isMonthly.value ? '.in-month' : '';\r\n    const daySelector = `.id-${locale.value.getDayId(date)}${inMonth}`;\r\n    const selector = `${daySelector}.vc-focusable, ${daySelector} .vc-focusable`;\r\n    const el = state.containerRef;\r\n    if (el) {\r\n      const focusableEl = el.querySelector(selector) as HTMLElement;\r\n      if (focusableEl) {\r\n        focusableEl.focus();\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const focusDate = async (date: Date, opts: Partial<MoveOptions> = {}) => {\r\n    if (tryFocusDate(date)) return true;\r\n    // Move to the given date\r\n    await move(date, opts);\r\n    return tryFocusDate(date);\r\n  };\r\n\r\n  const onDayClick = (day: CalendarDay, event: MouseEvent) => {\r\n    state.focusableDay = day.day;\r\n    emit('dayclick', day, event);\r\n  };\r\n\r\n  const onDayMouseenter = (day: CalendarDay, event: MouseEvent) => {\r\n    emit('daymouseenter', day, event);\r\n  };\r\n\r\n  const onDayMouseleave = (day: CalendarDay, event: MouseEvent) => {\r\n    emit('daymouseleave', day, event);\r\n  };\r\n\r\n  const onDayFocusin = (day: CalendarDay, event: FocusEvent | null) => {\r\n    state.focusableDay = day.day;\r\n    state.lastFocusedDay = day;\r\n    emit('dayfocusin', day, event);\r\n  };\r\n\r\n  const onDayFocusout = (day: CalendarDay, event: FocusEvent) => {\r\n    state.lastFocusedDay = null;\r\n    emit('dayfocusout', day, event);\r\n  };\r\n\r\n  const onDayKeydown = (day: CalendarDay, event: KeyboardEvent) => {\r\n    emit('daykeydown', day, event);\r\n    const date = day.noonDate;\r\n    let newDate = null;\r\n    switch (event.key) {\r\n      case 'ArrowLeft': {\r\n        // Move to previous day\r\n        newDate = addDays(date, -1);\r\n        break;\r\n      }\r\n      case 'ArrowRight': {\r\n        // Move to next day\r\n        newDate = addDays(date, 1);\r\n        break;\r\n      }\r\n      case 'ArrowUp': {\r\n        // Move to previous week\r\n        newDate = addDays(date, -7);\r\n        break;\r\n      }\r\n      case 'ArrowDown': {\r\n        // Move to next week\r\n        newDate = addDays(date, 7);\r\n        break;\r\n      }\r\n      case 'Home': {\r\n        // Move to first weekday position\r\n        newDate = addDays(date, -day.weekdayPosition + 1);\r\n        break;\r\n      }\r\n      case 'End': {\r\n        // Move to last weekday position\r\n        newDate = addDays(date, day.weekdayPositionFromEnd);\r\n        break;\r\n      }\r\n      case 'PageUp': {\r\n        if (event.altKey) {\r\n          // Move to previous year w/ Alt/Option key\r\n          newDate = addYears(date, -1);\r\n        } else {\r\n          // Move to previous month\r\n          newDate = addMonths(date, -1);\r\n        }\r\n        break;\r\n      }\r\n      case 'PageDown': {\r\n        if (event.altKey) {\r\n          // Move to next year w/ Alt/Option key\r\n          newDate = addYears(date, 1);\r\n        } else {\r\n          // Move to next month\r\n          newDate = addMonths(date, 1);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    if (newDate) {\r\n      event.preventDefault();\r\n      focusDate(newDate).catch();\r\n    }\r\n  };\r\n\r\n  const onKeydown = (event: KeyboardEvent) => {\r\n    const day = state.lastFocusedDay;\r\n    if (day != null) {\r\n      onDayKeydown(day, event);\r\n    }\r\n  };\r\n\r\n  const onWeeknumberClick = (week: CalendarWeek, event: MouseEvent) => {\r\n    emit('weeknumberclick', week, event);\r\n  };\r\n\r\n  // #endregion Methods\r\n\r\n  // #region Lifecycle methods\r\n\r\n  // Created\r\n  refreshPages({\r\n    page: props.initialPage,\r\n    position: props.initialPagePosition,\r\n  });\r\n\r\n  // Mounted\r\n  onMounted(() => {\r\n    if (!props.disablePageSwipe && state.containerRef) {\r\n      // Add swipe handler to move to next and previous pages\r\n      removeHandlers = addHorizontalSwipeHandler(\r\n        state.containerRef,\r\n        ({ toLeft = false, toRight = false }) => {\r\n          if (toLeft) {\r\n            moveNext();\r\n          } else if (toRight) {\r\n            movePrev();\r\n          }\r\n        },\r\n        getDefault('touch'),\r\n      );\r\n    }\r\n  });\r\n\r\n  // Unmounted\r\n  onUnmounted(() => {\r\n    state.pages = [];\r\n    if (removeHandlers) removeHandlers();\r\n  });\r\n\r\n  // #endregion Lifecycle methods\r\n\r\n  // #region Watch\r\n\r\n  watch(\r\n    () => locale.value,\r\n    () => {\r\n      refreshPages();\r\n    },\r\n  );\r\n\r\n  watch(\r\n    () => count.value,\r\n    () => refreshPages(),\r\n  );\r\n\r\n  watch(\r\n    () => props.view,\r\n    () => (state.view = props.view),\r\n  );\r\n\r\n  watch(\r\n    () => state.view,\r\n    () => {\r\n      handleWatcher('view', () => {\r\n        refreshPages();\r\n      });\r\n      emit('update:view', state.view);\r\n    },\r\n  );\r\n\r\n  watch(\r\n    () => state.focusableDay,\r\n    () => {\r\n      forDays(state.pages, day => refreshFocusableDay(day));\r\n    },\r\n  );\r\n\r\n  watchEffect(() => {\r\n    emit('update:pages', state.pages);\r\n    // Refresh state for days\r\n    forDays(state.pages, day => {\r\n      // Refresh disabled state\r\n      refreshDisabledDay(day);\r\n      // Refresh focusable state\r\n      refreshFocusableDay(day);\r\n    });\r\n  });\r\n\r\n  // #endregion Watch\r\n\r\n  const context = {\r\n    emit,\r\n    slots,\r\n    ...toRefs(state),\r\n    theme,\r\n    color,\r\n    displayMode,\r\n    locale,\r\n    masks,\r\n    attributes,\r\n    disabledAttribute,\r\n    disabledDates,\r\n    attributeContext,\r\n    count,\r\n    step,\r\n    firstPage,\r\n    lastPage,\r\n    canMovePrev,\r\n    canMoveNext,\r\n    minPage,\r\n    maxPage,\r\n    isMonthly,\r\n    isWeekly,\r\n    isDaily,\r\n    navVisibility,\r\n    showWeeknumbers,\r\n    showIsoWeeknumbers,\r\n    getDateAddress,\r\n    canMove,\r\n    canMoveBy,\r\n    move,\r\n    moveBy,\r\n    movePrev,\r\n    moveNext,\r\n    onTransitionBeforeEnter,\r\n    onTransitionAfterEnter,\r\n    tryFocusDate,\r\n    focusDate,\r\n    onKeydown,\r\n    onDayKeydown,\r\n    onDayClick,\r\n    onDayMouseenter,\r\n    onDayMouseleave,\r\n    onDayFocusin,\r\n    onDayFocusout,\r\n    onWeeknumberClick,\r\n  };\r\n  provide(contextKey, context);\r\n  return context;\r\n}\r\n\r\nexport function useCalendar(): CalendarContext {\r\n  const context = inject<CalendarContext>(contextKey);\r\n  if (context) return context;\r\n  throw new Error(\r\n    'Calendar context missing. Please verify this component is nested within a valid context provider.',\r\n  );\r\n}\r\n","import { ComponentPublicInstance, Directive, DirectiveBinding } from 'vue';\r\nimport { Placement } from '@popperjs/core';\r\nimport { elementContains, on, resolveEl } from './helpers';\r\n\r\nexport type PopoverVisibility = 'click' | 'hover' | 'hover-focus' | 'focus';\r\n\r\nexport interface PopoverOptions {\r\n  id: string;\r\n  visibility: PopoverVisibility;\r\n  isInteractive: boolean;\r\n  autoHide: boolean;\r\n  force: boolean;\r\n  target: unknown;\r\n  placement: Placement;\r\n  modifiers: any;\r\n  data: any;\r\n  renderFn: boolean;\r\n  showDelay: number;\r\n  hideDelay: number;\r\n}\r\n\r\nexport interface PopoverState {\r\n  isVisible: boolean;\r\n  target: unknown;\r\n  data: any;\r\n  transition: string;\r\n  placement: Placement;\r\n  direction: string;\r\n  positionFixed: false;\r\n  modifiers: any[];\r\n  isInteractive: boolean;\r\n  visibility: PopoverVisibility;\r\n  isHovered: boolean;\r\n  isFocused: boolean;\r\n  autoHide: boolean;\r\n  force: boolean;\r\n}\r\n\r\nexport interface PopoverEvent {\r\n  detail: Partial<PopoverOptions>;\r\n}\r\n\r\nexport interface PopoverEventHandlers {\r\n  click: (e: MouseEvent) => void;\r\n  mousemove: (e: MouseEvent) => void;\r\n  mouseleave: (e: MouseEvent) => void;\r\n  focusin: (e: MouseEvent) => void;\r\n  focusout: (e: MouseEvent) => void;\r\n}\r\n\r\nexport function showPopover(opts: Partial<PopoverOptions>) {\r\n  if (document) {\r\n    document.dispatchEvent(\r\n      new CustomEvent('show-popover', {\r\n        detail: opts,\r\n      }),\r\n    );\r\n  }\r\n}\r\n\r\nexport function hidePopover(opts: Partial<PopoverOptions>) {\r\n  if (document) {\r\n    document.dispatchEvent(\r\n      new CustomEvent('hide-popover', {\r\n        detail: opts,\r\n      }),\r\n    );\r\n  }\r\n}\r\n\r\nexport function togglePopover(opts: Partial<PopoverOptions>) {\r\n  if (document) {\r\n    document.dispatchEvent(\r\n      new CustomEvent('toggle-popover', {\r\n        detail: opts,\r\n      }),\r\n    );\r\n  }\r\n}\r\n\r\nexport function getPopoverEventHandlers(\r\n  opts: Partial<PopoverOptions>,\r\n): Partial<PopoverEventHandlers> {\r\n  const { visibility } = opts;\r\n  const click = visibility === 'click';\r\n  const hover = visibility === 'hover';\r\n  const hoverFocus = visibility === 'hover-focus';\r\n  const focus = visibility === 'focus';\r\n  opts.autoHide = !click;\r\n  let hovered = false;\r\n  let focused = false;\r\n\r\n  const clickHandler = (e: MouseEvent) => {\r\n    if (click) {\r\n      togglePopover({\r\n        ...opts,\r\n        target: opts.target || (e.currentTarget as HTMLElement),\r\n      });\r\n      e.stopPropagation();\r\n    }\r\n  };\r\n  const mouseMoveHandler = (e: MouseEvent) => {\r\n    if (!hovered) {\r\n      hovered = true;\r\n      if (hover || hoverFocus) {\r\n        showPopover({\r\n          ...opts,\r\n          target: opts.target || (e.currentTarget as HTMLElement),\r\n        });\r\n      }\r\n    }\r\n  };\r\n  const mouseLeaveHandler = () => {\r\n    if (hovered) {\r\n      hovered = false;\r\n      if (hover || (hoverFocus && !focused)) {\r\n        hidePopover(opts);\r\n      }\r\n    }\r\n  };\r\n  const focusInHandler = (e: FocusEvent) => {\r\n    if (!focused) {\r\n      focused = true;\r\n      if (focus || hoverFocus) {\r\n        showPopover({\r\n          ...opts,\r\n          target: opts.target || (e.currentTarget as HTMLElement),\r\n        });\r\n      }\r\n    }\r\n  };\r\n  const focusOutHandler = (e: FocusEvent) => {\r\n    if (\r\n      focused &&\r\n      !elementContains(e.currentTarget as Node, e.relatedTarget as Element)\r\n    ) {\r\n      focused = false;\r\n      if (focus || (hoverFocus && !hovered)) {\r\n        hidePopover(opts);\r\n      }\r\n    }\r\n  };\r\n  const renderFn = opts.renderFn;\r\n  const handlers: Record<string, Function> = {};\r\n  switch (opts.visibility) {\r\n    case 'click':\r\n      handlers[renderFn ? 'onClick' : 'click'] = clickHandler;\r\n      break;\r\n    case 'hover':\r\n      handlers[renderFn ? 'onMousemove' : 'mousemove'] = mouseMoveHandler;\r\n      handlers[renderFn ? 'onMouseleave' : 'mouseleave'] = mouseLeaveHandler;\r\n      break;\r\n    case 'focus':\r\n      handlers[renderFn ? 'onFocusin' : 'focusin'] = focusInHandler;\r\n      handlers[renderFn ? 'onFocusout' : 'focusout'] = focusOutHandler;\r\n      break;\r\n    case 'hover-focus':\r\n      handlers[renderFn ? 'onMousemove' : 'mousemove'] = mouseMoveHandler;\r\n      handlers[renderFn ? 'onMouseleave' : 'mouseleave'] = mouseLeaveHandler;\r\n      handlers[renderFn ? 'onFocusin' : 'focusin'] = focusInHandler;\r\n      handlers[renderFn ? 'onFocusout' : 'focusout'] = focusOutHandler;\r\n      break;\r\n  }\r\n  return handlers;\r\n}\r\n\r\nconst removeHandlers = (target: Element | ComponentPublicInstance | string) => {\r\n  const el = resolveEl(target);\r\n  if (el == null) return;\r\n  const handlers = (el as any).popoverHandlers;\r\n  if (!handlers || !handlers.length) return;\r\n  handlers.forEach((handler: Function) => handler());\r\n  delete (el as any).popoverHandlers;\r\n};\r\n\r\nconst addHandlers = (\r\n  target: Element | ComponentPublicInstance | string,\r\n  opts: Partial<PopoverOptions>,\r\n) => {\r\n  const el = resolveEl(target);\r\n  if (el == null) return;\r\n  const remove: Function[] = [];\r\n  const handlers = getPopoverEventHandlers(opts);\r\n  Object.entries(handlers).forEach(([event, handler]) => {\r\n    remove.push(on(el, event, handler as EventListener));\r\n  });\r\n  (el as any).popoverHandlers = remove;\r\n};\r\n\r\nexport const popoverDirective: Directive = {\r\n  mounted(el: any, binding: DirectiveBinding<PopoverOptions>) {\r\n    const { value } = binding;\r\n    if (!value) return;\r\n    addHandlers(el, value);\r\n  },\r\n  updated(el: any, binding: DirectiveBinding<PopoverOptions>) {\r\n    const { oldValue, value } = binding;\r\n    const oldVisibility = oldValue?.visibility;\r\n    const newVisibility = value?.visibility;\r\n    if (oldVisibility !== newVisibility) {\r\n      if (oldVisibility) {\r\n        removeHandlers(el);\r\n        if (!newVisibility) hidePopover(oldValue);\r\n      }\r\n      if (newVisibility) {\r\n        addHandlers(el, value);\r\n      }\r\n    }\r\n  },\r\n  unmounted(el: Element) {\r\n    removeHandlers(el);\r\n  },\r\n};\r\n","<template>\r\n  <div\r\n    class=\"vc-header\"\r\n    :class=\"{ 'is-lg': isLg, 'is-xl': isXl, 'is-2xl': is2xl }\"\r\n    :style=\"gridStyle\"\r\n  >\r\n    <slot name=\"header-left-button\" :move=\"movePrev\">\r\n      <button\r\n        v-if=\"show.prev\"\r\n        :class=\"['vc-arrow vc-prev vc-focus', { 'vc-disabled': !canMovePrev }]\"\r\n        role=\"button\"\r\n        @click=\"movePrev\"\r\n        @keydown.space.enter=\"movePrev\"\r\n      >\r\n        <BaseIcon name=\"ChevronLeft\" size=\"24\" />\r\n      </button>\r\n    </slot>\r\n    <div v-if=\"show.title\" class=\"vc-title\" v-popover=\"navPopoverOptions\">\r\n      <slot name=\"header-title\">{{ page.title }}</slot>\r\n    </div>\r\n    <slot name=\"header-right-button\" :move=\"moveNext\">\r\n      <button\r\n        v-if=\"show.next\"\r\n        :class=\"['vc-arrow vc-next vc-focus', { 'vc-disabled': !canMoveNext }]\"\r\n        role=\"button\"\r\n        @click=\"moveNext\"\r\n        @keydown.space.enter=\"moveNext\"\r\n      >\r\n        <BaseIcon name=\"ChevronRight\" size=\"24\" />\r\n      </button>\r\n    </slot>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { PropType, computed, watch } from 'vue';\r\nimport BaseIcon from '../BaseIcon/BaseIcon.vue';\r\nimport { useCalendar } from '../../use/calendar';\r\nimport { popoverDirective as vPopover } from '../../utils/popovers';\r\nimport { Page } from '../../utils/page';\r\n\r\nconst props = defineProps({\r\n  page: { type: Object as PropType<Page>, required: true },\r\n  layout: String,\r\n  isLg: Boolean,\r\n  isXl: Boolean,\r\n  is2xl: Boolean,\r\n  hideTitle: Boolean,\r\n  hideArrows: Boolean,\r\n});\r\n\r\nconst {\r\n  navPopoverId,\r\n  navVisibility,\r\n  canMovePrev,\r\n  movePrev,\r\n  canMoveNext,\r\n  moveNext,\r\n} = useCalendar();\r\nconst navPlacement = computed(() => {\r\n  switch (props.page.titlePosition) {\r\n    case 'left':\r\n      return 'bottom-start';\r\n    case 'right':\r\n      return 'bottom-end';\r\n    default:\r\n      return 'bottom';\r\n  }\r\n});\r\nconst navPopoverOptions = computed(() => {\r\n  const { page } = props;\r\n  return {\r\n    id: navPopoverId.value,\r\n    visibility: navVisibility.value,\r\n    placement: navPlacement.value,\r\n    modifiers: [{ name: 'flip', options: { fallbackPlacements: ['bottom'] } }],\r\n    data: { page },\r\n    isInteractive: true,\r\n  };\r\n});\r\nconst titleLeft = computed(() => props.page.titlePosition.includes('left'));\r\nconst titleRight = computed(() => props.page.titlePosition.includes('right'));\r\nconst layout_ = computed(() => {\r\n  if (props.layout) return props.layout;\r\n  if (titleLeft.value) return 'tu-pn';\r\n  if (titleRight.value) return 'pn-tu';\r\n  return 'p-tu-n;';\r\n});\r\nconst show = computed(() => {\r\n  return {\r\n    prev: layout_.value.includes('p') && !props.hideArrows,\r\n    title: layout_.value.includes('t') && !props.hideTitle,\r\n    next: layout_.value.includes('n') && !props.hideArrows,\r\n  };\r\n});\r\nconst gridStyle = computed(() => {\r\n  const gridTemplateColumns = layout_.value\r\n    .split('')\r\n    .map(l => {\r\n      switch (l) {\r\n        case 'p':\r\n          return '[prev] auto';\r\n        case 'n':\r\n          return '[next] auto';\r\n        case 't':\r\n          return '[title] auto';\r\n        case '-':\r\n          return '1fr';\r\n        default:\r\n          return '';\r\n      }\r\n    })\r\n    .join(' ');\r\n  return { gridTemplateColumns };\r\n});\r\n</script>\r\n\r\n<style lang=\"css\">\r\n@import './calendar-header.css';\r\n</style>\r\n","<template>\r\n  <div :class=\"dayClasses\">\r\n    <!--Highlights-->\r\n    <div v-if=\"hasHighlights\" class=\"vc-highlights vc-day-layer\">\r\n      <div\r\n        v-for=\"{ key, wrapperClass, class: bgClass, style } in highlights\"\r\n        :key=\"key\"\r\n        :class=\"wrapperClass\"\r\n      >\r\n        <div :class=\"bgClass\" :style=\"style\" />\r\n      </div>\r\n    </div>\r\n    <!--Content-->\r\n    <slot\r\n      name=\"day-content\"\r\n      :day=\"day\"\r\n      :attributes=\"attributes\"\r\n      :attribute-cells=\"attributeCells\"\r\n      :dayProps=\"dayContentProps\"\r\n      :dayEvents=\"dayContentEvents\"\r\n      :locale=\"locale\"\r\n    >\r\n      <div\r\n        v-bind=\"dayContentProps\"\r\n        v-on=\"dayContentEvents\"\r\n        v-popover=\"dayPopover\"\r\n      >\r\n        {{ day.label }}\r\n      </div>\r\n    </slot>\r\n    <!--Dots-->\r\n    <div v-if=\"hasDots\" class=\"vc-day-layer vc-day-box-center-bottom\">\r\n      <div class=\"vc-dots\">\r\n        <span\r\n          v-for=\"{ key, class: bgClass, style } in dots\"\r\n          :key=\"key\"\r\n          :class=\"bgClass\"\r\n          :style=\"style\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <!--Bars-->\r\n    <div v-if=\"hasBars\" class=\"vc-day-layer vc-day-box-center-bottom\">\r\n      <div class=\"vc-bars\">\r\n        <span\r\n          v-for=\"{ key, class: bgClass, style } in bars\"\r\n          :key=\"key\"\r\n          :class=\"bgClass\"\r\n          :style=\"style\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { PropType, defineComponent, computed } from 'vue';\r\nimport { useCalendar } from '../../use/calendar';\r\nimport { CalendarDay } from '../../utils/page';\r\nimport { Attribute, PopoverConfig } from '../../utils/attribute';\r\nimport { arrayHasItems, last, get, defaults } from '../../utils/helpers';\r\nimport { popoverDirective } from '../../utils/popovers';\r\nimport { DateRangeCell } from '../../utils/date/range';\r\n\r\nexport default defineComponent({\r\n  directives: { popover: popoverDirective },\r\n  props: {\r\n    day: { type: Object as PropType<CalendarDay>, required: true },\r\n  },\r\n  setup(props, { slots }) {\r\n    const {\r\n      locale,\r\n      theme,\r\n      attributeContext,\r\n      dayPopoverId,\r\n      onDayClick,\r\n      onDayMouseenter,\r\n      onDayMouseleave,\r\n      onDayFocusin,\r\n      onDayFocusout,\r\n      onDayKeydown,\r\n    } = useCalendar();\r\n\r\n    const day = computed(() => props.day);\r\n    const attributeCells = computed(() => {\r\n      if (!attributeContext.value) return [];\r\n      return attributeContext.value.getCells(day.value.dayIndex);\r\n    });\r\n    const attributes = computed(() =>\r\n      attributeCells.value.map(cell => cell.data),\r\n    );\r\n\r\n    function processPopover(\r\n      { data: attribute }: DateRangeCell<Attribute>,\r\n      { popovers }: { popovers: PopoverConfig[] },\r\n    ) {\r\n      const { key, customData, popover } = attribute;\r\n      if (!popover) return;\r\n      const resolvedPopover = defaults(\r\n        {\r\n          key,\r\n          customData,\r\n          attribute,\r\n        },\r\n        { ...popover },\r\n        {\r\n          visibility: popover.label ? 'hover' : 'click',\r\n          placement: 'bottom',\r\n          isInteractive: !popover.label,\r\n        },\r\n      );\r\n      popovers.splice(0, 0, resolvedPopover);\r\n    }\r\n\r\n    const glyphs = computed(() => {\r\n      const result = {\r\n        ...theme.value.prepareRender({}),\r\n        popovers: [],\r\n      };\r\n      attributeCells.value.forEach(cell => {\r\n        theme.value.render(cell, result);\r\n        processPopover(cell, result);\r\n      });\r\n      return result;\r\n    });\r\n\r\n    const highlights = computed(() => glyphs.value.highlights);\r\n    const hasHighlights = computed(() => !!arrayHasItems(highlights.value));\r\n\r\n    const content = computed(() => glyphs.value.content);\r\n\r\n    const dots = computed(() => glyphs.value.dots);\r\n    const hasDots = computed(() => !!arrayHasItems(dots.value));\r\n\r\n    const bars = computed(() => glyphs.value.bars);\r\n    const hasBars = computed(() => !!arrayHasItems(bars.value));\r\n\r\n    const popovers = computed(() => glyphs.value.popovers);\r\n    const popoverAttrs = computed(() =>\r\n      popovers.value.map((p: any) => p.attribute),\r\n    );\r\n\r\n    const dayClasses = computed(() => {\r\n      return [\r\n        'vc-day',\r\n        ...day.value.classes,\r\n        { 'vc-day-box-center-center': !slots['day-content'] },\r\n        { 'is-not-in-month': !props.day.inMonth },\r\n      ];\r\n    });\r\n\r\n    const dayContentProps = computed(() => {\r\n      let tabindex;\r\n      if (day.value.isFocusable) {\r\n        tabindex = '0';\r\n      } else {\r\n        tabindex = '-1';\r\n      }\r\n      const classes = [\r\n        'vc-day-content vc-focusable vc-focus vc-attr',\r\n        { 'vc-disabled': day.value.isDisabled },\r\n        get(last(highlights.value), 'contentClass'),\r\n        get(last(content.value), 'class') || '',\r\n      ];\r\n      const style = {\r\n        ...get(last(highlights.value), 'contentStyle'),\r\n        ...get(last(content.value), 'style'),\r\n      };\r\n      return {\r\n        class: classes,\r\n        style,\r\n        tabindex,\r\n        'aria-label': day.value.ariaLabel,\r\n        'aria-disabled': day.value.isDisabled ? true : false,\r\n        role: 'button',\r\n      };\r\n    });\r\n\r\n    const dayContentEvents = computed(() => {\r\n      return {\r\n        click(event: MouseEvent) {\r\n          onDayClick(day.value, event);\r\n        },\r\n        mouseenter(event: MouseEvent) {\r\n          onDayMouseenter(day.value, event);\r\n        },\r\n        mouseleave(event: MouseEvent) {\r\n          onDayMouseleave(day.value, event);\r\n        },\r\n        focusin(event: FocusEvent) {\r\n          onDayFocusin(day.value, event);\r\n        },\r\n        focusout(event: FocusEvent) {\r\n          onDayFocusout(day.value, event);\r\n        },\r\n        keydown(event: KeyboardEvent) {\r\n          onDayKeydown(day.value, event);\r\n        },\r\n      };\r\n    });\r\n\r\n    const dayPopover = computed(() => {\r\n      if (!arrayHasItems(popovers.value)) return null;\r\n      return defaults(\r\n        {\r\n          id: dayPopoverId.value,\r\n          data: { day, attributes: popoverAttrs.value },\r\n        },\r\n        ...popovers.value,\r\n      );\r\n    });\r\n\r\n    return {\r\n      attributes,\r\n      attributeCells,\r\n      bars,\r\n      dayClasses,\r\n      dayContentProps,\r\n      dayContentEvents,\r\n      dayPopover,\r\n      glyphs,\r\n      dots,\r\n      hasDots,\r\n      hasBars,\r\n      highlights,\r\n      hasHighlights,\r\n      locale,\r\n      popovers,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n.vc-day {\r\n  position: relative;\r\n  min-height: 32px;\r\n  z-index: 1;\r\n  /* &.is-not-in-month * {\r\n    opacity: 0;\r\n    pointer-events: none;\r\n  } */\r\n}\r\n\r\n.vc-monthly .is-not-in-month * {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.vc-day-layer {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.vc-day-box-center-center {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transform-origin: 50% 50%;\r\n}\r\n\r\n.vc-day-box-left-center {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  transform-origin: 0% 50%;\r\n}\r\n\r\n.vc-day-box-right-center {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  transform-origin: 100% 50%;\r\n}\r\n\r\n.vc-day-box-center-bottom {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n}\r\n\r\n.vc-day-content {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: var(--vc-text-sm);\r\n  font-weight: var(--vc-font-medium);\r\n  width: 28px;\r\n  height: 28px;\r\n  line-height: 28px;\r\n  border-radius: var(--vc-rounded-full);\r\n  user-select: none;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color: var(--vc-day-content-hover-bg);\r\n  }\r\n  &.vc-disabled {\r\n    color: var(--vc-day-content-disabled-color);\r\n  }\r\n}\r\n\r\n/* ----Content---- */\r\n\r\n.vc-content:not(.vc-base) {\r\n  font-weight: var(--vc-font-bold);\r\n  color: var(--vc-content-color);\r\n}\r\n\r\n/* ----Highlights---- */\r\n\r\n.vc-highlights {\r\n  overflow: hidden;\r\n  pointer-events: none;\r\n  z-index: -1;\r\n}\r\n\r\n.vc-highlight {\r\n  width: 28px;\r\n  height: 28px;\r\n  &.vc-highlight-base-start {\r\n    width: 50% !important;\r\n    border-radius: 0 !important;\r\n    border-right-width: 0 !important;\r\n  }\r\n  &.vc-highlight-base-end {\r\n    width: 50% !important;\r\n    border-radius: 0 !important;\r\n    border-left-width: 0 !important;\r\n  }\r\n  &.vc-highlight-base-middle {\r\n    width: 100%;\r\n    border-radius: 0 !important;\r\n    border-left-width: 0 !important;\r\n    border-right-width: 0 !important;\r\n    margin: 0 -1px;\r\n  }\r\n}\r\n\r\n.vc-highlight-bg-outline,\r\n.vc-highlight-bg-none {\r\n  background-color: var(--vc-highlight-outline-bg);\r\n  border: 2px solid;\r\n  border-color: var(--vc-highlight-outline-border);\r\n  border-radius: var(--vc-rounded-full);\r\n}\r\n.vc-highlight-bg-light {\r\n  background-color: var(--vc-highlight-light-bg);\r\n  border-radius: var(--vc-rounded-full);\r\n}\r\n.vc-highlight-bg-solid {\r\n  background-color: var(--vc-highlight-solid-bg);\r\n  border-radius: var(--vc-rounded-full);\r\n}\r\n\r\n.vc-highlight-content-outline,\r\n.vc-highlight-content-none {\r\n  font-weight: var(--vc-font-bold);\r\n  color: var(--vc-highlight-outline-content-color);\r\n}\r\n.vc-highlight-content-light {\r\n  font-weight: var(--vc-font-bold);\r\n  color: var(--vc-highlight-light-content-color);\r\n}\r\n.vc-highlight-content-solid {\r\n  font-weight: var(--vc-font-bold);\r\n  color: var(--vc-highlight-solid-content-color);\r\n}\r\n\r\n/* ----Dots---- */\r\n\r\n.vc-dots {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.vc-dot {\r\n  width: 5px;\r\n  height: 5px;\r\n  border-radius: 9999px;\r\n  transition: var(--vc-day-content-transition);\r\n  &:not(:last-child) {\r\n    margin-right: 3px;\r\n  }\r\n}\r\n\r\n/* ----Bars---- */\r\n\r\n.vc-bars {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  width: 75%;\r\n}\r\n\r\n.vc-bar {\r\n  flex-grow: 1;\r\n  height: 3px;\r\n  transition: var(--vc-day-content-transition);\r\n}\r\n\r\n.vc-dot {\r\n  background-color: var(--vc-dot-bg);\r\n}\r\n.vc-bar {\r\n  background-color: var(--vc-bar-bg);\r\n}\r\n</style>\r\n","<template>\r\n  <div :class=\"dayClasses\">\r\n    <!--Highlights-->\r\n    <div v-if=\"hasHighlights\" class=\"vc-highlights vc-day-layer\">\r\n      <div\r\n        v-for=\"{ key, wrapperClass, class: bgClass, style } in highlights\"\r\n        :key=\"key\"\r\n        :class=\"wrapperClass\"\r\n      >\r\n        <div :class=\"bgClass\" :style=\"style\" />\r\n      </div>\r\n    </div>\r\n    <!--Content-->\r\n    <slot\r\n      name=\"day-content\"\r\n      :day=\"day\"\r\n      :attributes=\"attributes\"\r\n      :attribute-cells=\"attributeCells\"\r\n      :dayProps=\"dayContentProps\"\r\n      :dayEvents=\"dayContentEvents\"\r\n      :locale=\"locale\"\r\n    >\r\n      <div\r\n        v-bind=\"dayContentProps\"\r\n        v-on=\"dayContentEvents\"\r\n        v-popover=\"dayPopover\"\r\n      >\r\n        {{ day.label }}\r\n      </div>\r\n    </slot>\r\n    <!--Dots-->\r\n    <div v-if=\"hasDots\" class=\"vc-day-layer vc-day-box-center-bottom\">\r\n      <div class=\"vc-dots\">\r\n        <span\r\n          v-for=\"{ key, class: bgClass, style } in dots\"\r\n          :key=\"key\"\r\n          :class=\"bgClass\"\r\n          :style=\"style\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <!--Bars-->\r\n    <div v-if=\"hasBars\" class=\"vc-day-layer vc-day-box-center-bottom\">\r\n      <div class=\"vc-bars\">\r\n        <span\r\n          v-for=\"{ key, class: bgClass, style } in bars\"\r\n          :key=\"key\"\r\n          :class=\"bgClass\"\r\n          :style=\"style\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { PropType, defineComponent, computed } from 'vue';\r\nimport { useCalendar } from '../../use/calendar';\r\nimport { CalendarDay } from '../../utils/page';\r\nimport { Attribute, PopoverConfig } from '../../utils/attribute';\r\nimport { arrayHasItems, last, get, defaults } from '../../utils/helpers';\r\nimport { popoverDirective } from '../../utils/popovers';\r\nimport { DateRangeCell } from '../../utils/date/range';\r\n\r\nexport default defineComponent({\r\n  directives: { popover: popoverDirective },\r\n  props: {\r\n    day: { type: Object as PropType<CalendarDay>, required: true },\r\n  },\r\n  setup(props, { slots }) {\r\n    const {\r\n      locale,\r\n      theme,\r\n      attributeContext,\r\n      dayPopoverId,\r\n      onDayClick,\r\n      onDayMouseenter,\r\n      onDayMouseleave,\r\n      onDayFocusin,\r\n      onDayFocusout,\r\n      onDayKeydown,\r\n    } = useCalendar();\r\n\r\n    const day = computed(() => props.day);\r\n    const attributeCells = computed(() => {\r\n      if (!attributeContext.value) return [];\r\n      return attributeContext.value.getCells(day.value.dayIndex);\r\n    });\r\n    const attributes = computed(() =>\r\n      attributeCells.value.map(cell => cell.data),\r\n    );\r\n\r\n    function processPopover(\r\n      { data: attribute }: DateRangeCell<Attribute>,\r\n      { popovers }: { popovers: PopoverConfig[] },\r\n    ) {\r\n      const { key, customData, popover } = attribute;\r\n      if (!popover) return;\r\n      const resolvedPopover = defaults(\r\n        {\r\n          key,\r\n          customData,\r\n          attribute,\r\n        },\r\n        { ...popover },\r\n        {\r\n          visibility: popover.label ? 'hover' : 'click',\r\n          placement: 'bottom',\r\n          isInteractive: !popover.label,\r\n        },\r\n      );\r\n      popovers.splice(0, 0, resolvedPopover);\r\n    }\r\n\r\n    const glyphs = computed(() => {\r\n      const result = {\r\n        ...theme.value.prepareRender({}),\r\n        popovers: [],\r\n      };\r\n      attributeCells.value.forEach(cell => {\r\n        theme.value.render(cell, result);\r\n        processPopover(cell, result);\r\n      });\r\n      return result;\r\n    });\r\n\r\n    const highlights = computed(() => glyphs.value.highlights);\r\n    const hasHighlights = computed(() => !!arrayHasItems(highlights.value));\r\n\r\n    const content = computed(() => glyphs.value.content);\r\n\r\n    const dots = computed(() => glyphs.value.dots);\r\n    const hasDots = computed(() => !!arrayHasItems(dots.value));\r\n\r\n    const bars = computed(() => glyphs.value.bars);\r\n    const hasBars = computed(() => !!arrayHasItems(bars.value));\r\n\r\n    const popovers = computed(() => glyphs.value.popovers);\r\n    const popoverAttrs = computed(() =>\r\n      popovers.value.map((p: any) => p.attribute),\r\n    );\r\n\r\n    const dayClasses = computed(() => {\r\n      return [\r\n        'vc-day',\r\n        ...day.value.classes,\r\n        { 'vc-day-box-center-center': !slots['day-content'] },\r\n        { 'is-not-in-month': !props.day.inMonth },\r\n      ];\r\n    });\r\n\r\n    const dayContentProps = computed(() => {\r\n      let tabindex;\r\n      if (day.value.isFocusable) {\r\n        tabindex = '0';\r\n      } else {\r\n        tabindex = '-1';\r\n      }\r\n      const classes = [\r\n        'vc-day-content vc-focusable vc-focus vc-attr',\r\n        { 'vc-disabled': day.value.isDisabled },\r\n        get(last(highlights.value), 'contentClass'),\r\n        get(last(content.value), 'class') || '',\r\n      ];\r\n      const style = {\r\n        ...get(last(highlights.value), 'contentStyle'),\r\n        ...get(last(content.value), 'style'),\r\n      };\r\n      return {\r\n        class: classes,\r\n        style,\r\n        tabindex,\r\n        'aria-label': day.value.ariaLabel,\r\n        'aria-disabled': day.value.isDisabled ? true : false,\r\n        role: 'button',\r\n      };\r\n    });\r\n\r\n    const dayContentEvents = computed(() => {\r\n      return {\r\n        click(event: MouseEvent) {\r\n          onDayClick(day.value, event);\r\n        },\r\n        mouseenter(event: MouseEvent) {\r\n          onDayMouseenter(day.value, event);\r\n        },\r\n        mouseleave(event: MouseEvent) {\r\n          onDayMouseleave(day.value, event);\r\n        },\r\n        focusin(event: FocusEvent) {\r\n          onDayFocusin(day.value, event);\r\n        },\r\n        focusout(event: FocusEvent) {\r\n          onDayFocusout(day.value, event);\r\n        },\r\n        keydown(event: KeyboardEvent) {\r\n          onDayKeydown(day.value, event);\r\n        },\r\n      };\r\n    });\r\n\r\n    const dayPopover = computed(() => {\r\n      if (!arrayHasItems(popovers.value)) return null;\r\n      return defaults(\r\n        {\r\n          id: dayPopoverId.value,\r\n          data: { day, attributes: popoverAttrs.value },\r\n        },\r\n        ...popovers.value,\r\n      );\r\n    });\r\n\r\n    return {\r\n      attributes,\r\n      attributeCells,\r\n      bars,\r\n      dayClasses,\r\n      dayContentProps,\r\n      dayContentEvents,\r\n      dayPopover,\r\n      glyphs,\r\n      dots,\r\n      hasDots,\r\n      hasBars,\r\n      highlights,\r\n      hasHighlights,\r\n      locale,\r\n      popovers,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n.vc-day {\r\n  position: relative;\r\n  min-height: 32px;\r\n  z-index: 1;\r\n  /* &.is-not-in-month * {\r\n    opacity: 0;\r\n    pointer-events: none;\r\n  } */\r\n}\r\n\r\n.vc-monthly .is-not-in-month * {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.vc-day-layer {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.vc-day-box-center-center {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transform-origin: 50% 50%;\r\n}\r\n\r\n.vc-day-box-left-center {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  transform-origin: 0% 50%;\r\n}\r\n\r\n.vc-day-box-right-center {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  transform-origin: 100% 50%;\r\n}\r\n\r\n.vc-day-box-center-bottom {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n}\r\n\r\n.vc-day-content {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: var(--vc-text-sm);\r\n  font-weight: var(--vc-font-medium);\r\n  width: 28px;\r\n  height: 28px;\r\n  line-height: 28px;\r\n  border-radius: var(--vc-rounded-full);\r\n  user-select: none;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color: var(--vc-day-content-hover-bg);\r\n  }\r\n  &.vc-disabled {\r\n    color: var(--vc-day-content-disabled-color);\r\n  }\r\n}\r\n\r\n/* ----Content---- */\r\n\r\n.vc-content:not(.vc-base) {\r\n  font-weight: var(--vc-font-bold);\r\n  color: var(--vc-content-color);\r\n}\r\n\r\n/* ----Highlights---- */\r\n\r\n.vc-highlights {\r\n  overflow: hidden;\r\n  pointer-events: none;\r\n  z-index: -1;\r\n}\r\n\r\n.vc-highlight {\r\n  width: 28px;\r\n  height: 28px;\r\n  &.vc-highlight-base-start {\r\n    width: 50% !important;\r\n    border-radius: 0 !important;\r\n    border-right-width: 0 !important;\r\n  }\r\n  &.vc-highlight-base-end {\r\n    width: 50% !important;\r\n    border-radius: 0 !important;\r\n    border-left-width: 0 !important;\r\n  }\r\n  &.vc-highlight-base-middle {\r\n    width: 100%;\r\n    border-radius: 0 !important;\r\n    border-left-width: 0 !important;\r\n    border-right-width: 0 !important;\r\n    margin: 0 -1px;\r\n  }\r\n}\r\n\r\n.vc-highlight-bg-outline,\r\n.vc-highlight-bg-none {\r\n  background-color: var(--vc-highlight-outline-bg);\r\n  border: 2px solid;\r\n  border-color: var(--vc-highlight-outline-border);\r\n  border-radius: var(--vc-rounded-full);\r\n}\r\n.vc-highlight-bg-light {\r\n  background-color: var(--vc-highlight-light-bg);\r\n  border-radius: var(--vc-rounded-full);\r\n}\r\n.vc-highlight-bg-solid {\r\n  background-color: var(--vc-highlight-solid-bg);\r\n  border-radius: var(--vc-rounded-full);\r\n}\r\n\r\n.vc-highlight-content-outline,\r\n.vc-highlight-content-none {\r\n  font-weight: var(--vc-font-bold);\r\n  color: var(--vc-highlight-outline-content-color);\r\n}\r\n.vc-highlight-content-light {\r\n  font-weight: var(--vc-font-bold);\r\n  color: var(--vc-highlight-light-content-color);\r\n}\r\n.vc-highlight-content-solid {\r\n  font-weight: var(--vc-font-bold);\r\n  color: var(--vc-highlight-solid-content-color);\r\n}\r\n\r\n/* ----Dots---- */\r\n\r\n.vc-dots {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.vc-dot {\r\n  width: 5px;\r\n  height: 5px;\r\n  border-radius: 9999px;\r\n  transition: var(--vc-day-content-transition);\r\n  &:not(:last-child) {\r\n    margin-right: 3px;\r\n  }\r\n}\r\n\r\n/* ----Bars---- */\r\n\r\n.vc-bars {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  width: 75%;\r\n}\r\n\r\n.vc-bar {\r\n  flex-grow: 1;\r\n  height: 3px;\r\n  transition: var(--vc-day-content-transition);\r\n}\r\n\r\n.vc-dot {\r\n  background-color: var(--vc-dot-bg);\r\n}\r\n.vc-bar {\r\n  background-color: var(--vc-bar-bg);\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    :class=\"[\r\n      'vc-pane',\r\n      `row-${page.row}`,\r\n      `row-from-end-${page.rowFromEnd}`,\r\n      `column-${page.column}`,\r\n      `column-from-end-${page.columnFromEnd}`,\r\n    ]\"\r\n    ref=\"pane\"\r\n  >\r\n    <CalendarHeader :page=\"page\" is-lg hide-arrows />\r\n    <div\r\n      class=\"vc-weeks\"\r\n      :class=\"{\r\n        [`vc-show-weeknumbers-${page.weeknumberPosition}`]:\r\n          page.weeknumberPosition,\r\n      }\"\r\n    >\r\n      <div class=\"vc-weekdays\">\r\n        <!--Weekday labels-->\r\n        <div v-for=\"(wl, i) in page.weekdayLabels\" :key=\"i\" class=\"vc-weekday\">\r\n          {{ wl }}\r\n        </div>\r\n      </div>\r\n      <!--Weeks-->\r\n      <div\r\n        v-for=\"week in page.viewWeeks\"\r\n        :key=\"`weeknumber-${week.weeknumber}`\"\r\n        class=\"vc-week\"\r\n      >\r\n        <!--Weeknumber-->\r\n        <div\r\n          v-if=\"page.weeknumberPosition\"\r\n          :class=\"['vc-weeknumber', `is-${page.weeknumberPosition}`]\"\r\n        >\r\n          <span\r\n            :class=\"['vc-weeknumber-content']\"\r\n            @click=\"onWeeknumberClick(week, $event)\"\r\n            >{{ week.weeknumberDisplay }}</span\r\n          >\r\n        </div>\r\n        <!--Week days-->\r\n        <CalendarDay v-for=\"day in week.days\" :key=\"day.id\" :day=\"day\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { PropType } from 'vue';\r\nimport CalendarDay from '../CalendarDay/CalendarDay.vue';\r\nimport CalendarHeader from '../CalendarHeader/CalendarHeader.vue';\r\nimport { useCalendar } from '../../use/calendar';\r\nimport { Page } from '../../utils/page';\r\n\r\nexport default {\r\n  name: 'CalendarPane',\r\n  inheritAttrs: false,\r\n  components: { CalendarHeader, CalendarDay },\r\n  props: {\r\n    page: { type: Object as PropType<Page>, required: true },\r\n  },\r\n  setup() {\r\n    const { onWeeknumberClick } = useCalendar();\r\n    return {\r\n      onWeeknumberClick,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vc-pane {\r\n  min-width: 250px;\r\n}\r\n\r\n.vc-weeknumber {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  &.is-left {\r\n    left: calc(var(--vc-weeknumber-offset-inside) * -1);\r\n  }\r\n  &.is-right {\r\n    right: calc(var(--vc-weeknumber-offset-inside) * -1);\r\n  }\r\n  &.is-left-outside {\r\n    left: calc(var(--vc-weeknumber-offset-outside) * -1);\r\n  }\r\n  &.is-right-outside {\r\n    right: calc(var(--vc-weeknumber-offset-outside) * -1);\r\n  }\r\n}\r\n\r\n.vc-weeknumber-content {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: var(--vc-text-xs);\r\n  font-weight: var(--vc-font-medium);\r\n  font-style: italic;\r\n  width: 28px;\r\n  height: 28px;\r\n  margin-top: 2px;\r\n  color: var(--vc-weeknumber-color);\r\n  user-select: none;\r\n}\r\n\r\n.vc-weeks {\r\n  position: relative;\r\n  /* overflow: auto; */\r\n  -webkit-overflow-scrolling: touch;\r\n  padding: 6px;\r\n  min-width: 232px;\r\n  &.vc-show-weeknumbers-left {\r\n    margin-left: var(--vc-weeknumber-offset-inside);\r\n  }\r\n  &.vc-show-weeknumbers-right {\r\n    margin-right: var(--vc-weeknumber-offset-inside);\r\n  }\r\n}\r\n\r\n.vc-weekday {\r\n  text-align: center;\r\n  color: var(--vc-weekday-color);\r\n  font-size: var(--vc-text-sm);\r\n  font-weight: var(--vc-font-bold);\r\n  line-height: 14px;\r\n  padding-top: 4px;\r\n  padding-bottom: 8px;\r\n  cursor: default;\r\n  user-select: none;\r\n}\r\n\r\n.vc-week,\r\n.vc-weekdays {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  position: relative;\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    :class=\"[\r\n      'vc-pane',\r\n      `row-${page.row}`,\r\n      `row-from-end-${page.rowFromEnd}`,\r\n      `column-${page.column}`,\r\n      `column-from-end-${page.columnFromEnd}`,\r\n    ]\"\r\n    ref=\"pane\"\r\n  >\r\n    <CalendarHeader :page=\"page\" is-lg hide-arrows />\r\n    <div\r\n      class=\"vc-weeks\"\r\n      :class=\"{\r\n        [`vc-show-weeknumbers-${page.weeknumberPosition}`]:\r\n          page.weeknumberPosition,\r\n      }\"\r\n    >\r\n      <div class=\"vc-weekdays\">\r\n        <!--Weekday labels-->\r\n        <div v-for=\"(wl, i) in page.weekdayLabels\" :key=\"i\" class=\"vc-weekday\">\r\n          {{ wl }}\r\n        </div>\r\n      </div>\r\n      <!--Weeks-->\r\n      <div\r\n        v-for=\"week in page.viewWeeks\"\r\n        :key=\"`weeknumber-${week.weeknumber}`\"\r\n        class=\"vc-week\"\r\n      >\r\n        <!--Weeknumber-->\r\n        <div\r\n          v-if=\"page.weeknumberPosition\"\r\n          :class=\"['vc-weeknumber', `is-${page.weeknumberPosition}`]\"\r\n        >\r\n          <span\r\n            :class=\"['vc-weeknumber-content']\"\r\n            @click=\"onWeeknumberClick(week, $event)\"\r\n            >{{ week.weeknumberDisplay }}</span\r\n          >\r\n        </div>\r\n        <!--Week days-->\r\n        <CalendarDay v-for=\"day in week.days\" :key=\"day.id\" :day=\"day\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { PropType } from 'vue';\r\nimport CalendarDay from '../CalendarDay/CalendarDay.vue';\r\nimport CalendarHeader from '../CalendarHeader/CalendarHeader.vue';\r\nimport { useCalendar } from '../../use/calendar';\r\nimport { Page } from '../../utils/page';\r\n\r\nexport default {\r\n  name: 'CalendarPane',\r\n  inheritAttrs: false,\r\n  components: { CalendarHeader, CalendarDay },\r\n  props: {\r\n    page: { type: Object as PropType<Page>, required: true },\r\n  },\r\n  setup() {\r\n    const { onWeeknumberClick } = useCalendar();\r\n    return {\r\n      onWeeknumberClick,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vc-pane {\r\n  min-width: 250px;\r\n}\r\n\r\n.vc-weeknumber {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  &.is-left {\r\n    left: calc(var(--vc-weeknumber-offset-inside) * -1);\r\n  }\r\n  &.is-right {\r\n    right: calc(var(--vc-weeknumber-offset-inside) * -1);\r\n  }\r\n  &.is-left-outside {\r\n    left: calc(var(--vc-weeknumber-offset-outside) * -1);\r\n  }\r\n  &.is-right-outside {\r\n    right: calc(var(--vc-weeknumber-offset-outside) * -1);\r\n  }\r\n}\r\n\r\n.vc-weeknumber-content {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: var(--vc-text-xs);\r\n  font-weight: var(--vc-font-medium);\r\n  font-style: italic;\r\n  width: 28px;\r\n  height: 28px;\r\n  margin-top: 2px;\r\n  color: var(--vc-weeknumber-color);\r\n  user-select: none;\r\n}\r\n\r\n.vc-weeks {\r\n  position: relative;\r\n  /* overflow: auto; */\r\n  -webkit-overflow-scrolling: touch;\r\n  padding: 6px;\r\n  min-width: 232px;\r\n  &.vc-show-weeknumbers-left {\r\n    margin-left: var(--vc-weeknumber-offset-inside);\r\n  }\r\n  &.vc-show-weeknumbers-right {\r\n    margin-right: var(--vc-weeknumber-offset-inside);\r\n  }\r\n}\r\n\r\n.vc-weekday {\r\n  text-align: center;\r\n  color: var(--vc-weekday-color);\r\n  font-size: var(--vc-text-sm);\r\n  font-weight: var(--vc-font-bold);\r\n  line-height: 14px;\r\n  padding-top: 4px;\r\n  padding-bottom: 8px;\r\n  cursor: default;\r\n  user-select: none;\r\n}\r\n\r\n.vc-week,\r\n.vc-weekdays {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  position: relative;\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    class=\"vc-popover-content-wrapper\"\r\n    :class=\"{ 'is-interactive': isInteractive }\"\r\n    ref=\"popoverRef\"\r\n    @click=\"onClick\"\r\n    @mouseover=\"onMouseOver\"\r\n    @mouseleave=\"onMouseLeave\"\r\n    @focusin=\"onFocusIn\"\r\n    @focusout=\"onFocusOut\"\r\n  >\r\n    <Transition\r\n      :name=\"`vc-${transition}`\"\r\n      appear\r\n      @before-enter=\"beforeEnter\"\r\n      @after-enter=\"afterEnter\"\r\n      @before-leave=\"beforeLeave\"\r\n      @after-leave=\"afterLeave\"\r\n    >\r\n      <div\r\n        v-if=\"isVisible\"\r\n        tabindex=\"-1\"\r\n        :class=\"`vc-popover-content direction-${direction}`\"\r\n        v-bind=\"$attrs\"\r\n      >\r\n        <slot\r\n          :direction=\"direction\"\r\n          :alignment=\"alignment\"\r\n          :data=\"data\"\r\n          :hide=\"hide\"\r\n        >\r\n          {{ data }}\r\n        </slot>\r\n        <span\r\n          :class=\"[\r\n            'vc-popover-caret',\r\n            `direction-${direction}`,\r\n            `align-${alignment}`,\r\n          ]\"\r\n        />\r\n      </div>\r\n    </Transition>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  ref,\r\n  toRefs,\r\n  reactive,\r\n  computed,\r\n  watch,\r\n  onMounted,\r\n  onUnmounted,\r\n  defineComponent,\r\n  nextTick,\r\n} from 'vue';\r\nimport {\r\n  State as PopperState,\r\n  Instance,\r\n  OptionsGeneric,\r\n  PositioningStrategy,\r\n  createPopper,\r\n} from '@popperjs/core';\r\nimport { on, off, elementContains, resolveEl, omit } from '../../utils/helpers';\r\nimport {\r\n  PopoverOptions,\r\n  PopoverState,\r\n  PopoverEvent,\r\n} from '../../utils/popovers';\r\n\r\nexport default defineComponent({\r\n  name: 'Popover',\r\n  inheritAttrs: false,\r\n  emits: ['before-show', 'after-show', 'before-hide', 'after-hide'],\r\n  props: {\r\n    id: { type: String, required: true },\r\n    showDelay: { type: Number, default: 0 },\r\n    hideDelay: { type: Number, default: 110 },\r\n    boundarySelector: { type: String },\r\n  },\r\n  setup(props, { emit }) {\r\n    let timeout: number | undefined = undefined;\r\n    const popoverRef = ref<HTMLElement>();\r\n    let resizeObserver: ResizeObserver | null = null;\r\n    let popper: Instance | null = null;\r\n\r\n    const state: PopoverState = reactive({\r\n      isVisible: false,\r\n      target: null,\r\n      data: null,\r\n      transition: 'slide-fade',\r\n      placement: 'bottom',\r\n      direction: '',\r\n      positionFixed: false,\r\n      modifiers: [],\r\n      isInteractive: true,\r\n      visibility: 'click',\r\n      isHovered: false,\r\n      isFocused: false,\r\n      autoHide: false,\r\n      force: false,\r\n    });\r\n\r\n    function updateDirection(placement?: string) {\r\n      if (placement) state.direction = placement.split('-')[0];\r\n    }\r\n\r\n    function onPopperUpdate({ placement, options }: Partial<PopperState>) {\r\n      updateDirection(placement || options?.placement);\r\n    }\r\n\r\n    const popperOptions = computed<Partial<OptionsGeneric<any>>>(() => {\r\n      return {\r\n        placement: state.placement,\r\n        strategy: (state.positionFixed\r\n          ? 'fixed'\r\n          : 'absolute') as PositioningStrategy,\r\n        boundary: '',\r\n        modifiers: [\r\n          {\r\n            name: 'onUpdate',\r\n            enabled: true,\r\n            phase: 'afterWrite',\r\n            fn: onPopperUpdate,\r\n          },\r\n          ...(state.modifiers || []),\r\n        ],\r\n        onFirstUpdate: onPopperUpdate,\r\n      };\r\n      // if (props.boundarySelector) {\r\n      //   const boundary = document.querySelector(props.boundarySelector);\r\n      //   modifiers.push({\r\n      //     name: 'boundary',\r\n      //     enabled: true,\r\n      //     phase: 'main',\r\n      //     requiresIfExists: ['offset'],\r\n      //     fn({ state }) {\r\n      //       console.log(\r\n      //         detectOverflow(state, {\r\n      //           boundary,\r\n      //           altBoundary: true,\r\n      //         }),\r\n      //       );\r\n      //     },\r\n      //   });\r\n      // }\r\n    });\r\n\r\n    const alignment = computed(() => {\r\n      const isLeftRight =\r\n        state.direction === 'left' || state.direction === 'right';\r\n      let alignment = '';\r\n      if (state.placement) {\r\n        const parts = state.placement.split('-');\r\n        if (parts.length > 1) alignment = parts[1];\r\n      }\r\n      if (['start', 'top', 'left'].includes(alignment)) {\r\n        return isLeftRight ? 'top' : 'left';\r\n      }\r\n      if (['end', 'bottom', 'right'].includes(alignment)) {\r\n        return isLeftRight ? 'bottom' : 'right';\r\n      }\r\n      return isLeftRight ? 'middle' : 'center';\r\n    });\r\n\r\n    function destroyPopper() {\r\n      if (popper) {\r\n        popper.destroy();\r\n        popper = null;\r\n      }\r\n    }\r\n\r\n    function setupPopper() {\r\n      nextTick(() => {\r\n        const el = resolveEl(state.target);\r\n        if (!el || !popoverRef.value) return;\r\n        if (popper && popper.state.elements.reference !== el) {\r\n          destroyPopper();\r\n        }\r\n        if (!popper) {\r\n          popper = createPopper(\r\n            el as Element,\r\n            popoverRef.value,\r\n            popperOptions.value,\r\n          );\r\n        } else {\r\n          popper.update();\r\n        }\r\n      });\r\n    }\r\n\r\n    function updateState(newState: Partial<PopoverState>) {\r\n      Object.assign(state, omit(newState, 'force'));\r\n    }\r\n\r\n    function setTimer(delay: number, fn: Function) {\r\n      clearTimeout(timeout);\r\n      if (delay > 0) {\r\n        timeout = setTimeout(fn, delay);\r\n      } else {\r\n        fn();\r\n      }\r\n    }\r\n\r\n    function isCurrentTarget(target: unknown) {\r\n      if (!target || !popper) return false;\r\n      const el = resolveEl(target);\r\n      return el === popper.state.elements.reference;\r\n    }\r\n\r\n    async function show(opts: Partial<PopoverOptions> = {}) {\r\n      if (state.force) return;\r\n      if (opts.force) state.force = true;\r\n\r\n      setTimer(opts.showDelay ?? props.showDelay, () => {\r\n        if (state.isVisible) {\r\n          state.force = false;\r\n          emit('after-show');\r\n        }\r\n        updateState({\r\n          ...opts,\r\n          isVisible: true,\r\n        });\r\n        setupPopper();\r\n      });\r\n    }\r\n\r\n    function hide(opts: Partial<PopoverOptions> = {}) {\r\n      if (!popper) return;\r\n      if (opts.target && !isCurrentTarget(opts.target)) return;\r\n\r\n      if (state.force) return;\r\n      if (opts.force) state.force = true;\r\n\r\n      setTimer(opts.hideDelay ?? props.hideDelay, () => {\r\n        if (!state.isVisible) state.force = false;\r\n        state.isVisible = false;\r\n      });\r\n    }\r\n\r\n    function toggle(opts: Partial<PopoverOptions> = {}) {\r\n      if (opts.target == null) return;\r\n      if (state.isVisible && isCurrentTarget(opts.target)) {\r\n        hide(opts);\r\n      } else {\r\n        show(opts);\r\n      }\r\n    }\r\n\r\n    function update(opts: Partial<PopoverOptions> = {}) {\r\n      if (!isCurrentTarget(opts.target)) return;\r\n      updateState(opts);\r\n      setupPopper();\r\n    }\r\n\r\n    function onDocumentClick(e: CustomEvent) {\r\n      if (!popper) return;\r\n      const popperRef = popper.state.elements.reference;\r\n      if (!popoverRef.value || !popperRef) {\r\n        return;\r\n      }\r\n      // Don't hide if target element is contained within popover ref or content\r\n      const target = e.target as Node;\r\n      if (\r\n        elementContains(popoverRef.value, target) ||\r\n        elementContains(popperRef as Node, target)\r\n      ) {\r\n        return;\r\n      }\r\n      // Hide the popover\r\n      hide({ force: true });\r\n    }\r\n\r\n    function onDocumentKeydown(e: KeyboardEvent) {\r\n      if (e.key === 'Esc' || e.key === 'Escape') {\r\n        hide();\r\n      }\r\n    }\r\n\r\n    function onDocumentShowPopover({ detail }: PopoverEvent) {\r\n      if (!detail.id || detail.id !== props.id) return;\r\n      show(detail);\r\n    }\r\n\r\n    function onDocumentHidePopover({ detail }: PopoverEvent) {\r\n      if (!detail.id || detail.id !== props.id) return;\r\n      hide(detail);\r\n    }\r\n\r\n    function onDocumentTogglePopover({ detail }: PopoverEvent) {\r\n      if (!detail.id || detail.id !== props.id) return;\r\n      toggle(detail);\r\n    }\r\n\r\n    function addEvents() {\r\n      on(document, 'keydown', onDocumentKeydown);\r\n      on(document, 'click', onDocumentClick);\r\n      on(document, 'show-popover', onDocumentShowPopover);\r\n      on(document, 'hide-popover', onDocumentHidePopover);\r\n      on(document, 'toggle-popover', onDocumentTogglePopover);\r\n    }\r\n\r\n    function removeEvents() {\r\n      off(document, 'keydown', onDocumentKeydown);\r\n      off(document, 'click', onDocumentClick);\r\n      off(document, 'show-popover', onDocumentShowPopover);\r\n      off(document, 'hide-popover', onDocumentHidePopover);\r\n      off(document, 'toggle-popover', onDocumentTogglePopover);\r\n    }\r\n\r\n    function beforeEnter(el: HTMLElement) {\r\n      emit('before-show', el);\r\n    }\r\n\r\n    function afterEnter(el: HTMLElement) {\r\n      state.force = false;\r\n      emit('after-show', el);\r\n    }\r\n\r\n    function beforeLeave(el: HTMLElement) {\r\n      emit('before-hide', el);\r\n    }\r\n\r\n    function afterLeave(el: HTMLElement) {\r\n      state.force = false;\r\n      destroyPopper();\r\n      emit('after-hide', el);\r\n    }\r\n\r\n    function onClick(e: MouseEvent) {\r\n      e.stopPropagation();\r\n    }\r\n\r\n    function onMouseOver() {\r\n      state.isHovered = true;\r\n      if (\r\n        state.isInteractive &&\r\n        ['hover', 'hover-focus'].includes(state.visibility)\r\n      ) {\r\n        show();\r\n      }\r\n    }\r\n\r\n    function onMouseLeave() {\r\n      state.isHovered = false;\r\n      if (!popper) return;\r\n      const popperRef = popper.state.elements.reference;\r\n      if (\r\n        state.autoHide &&\r\n        !state.isFocused &&\r\n        (!popperRef || popperRef !== document.activeElement) &&\r\n        ['hover', 'hover-focus'].includes(state.visibility)\r\n      ) {\r\n        hide();\r\n      }\r\n    }\r\n\r\n    function onFocusIn() {\r\n      state.isFocused = true;\r\n      if (\r\n        state.isInteractive &&\r\n        ['focus', 'hover-focus'].includes(state.visibility)\r\n      ) {\r\n        show();\r\n      }\r\n    }\r\n\r\n    function onFocusOut(e: FocusEvent) {\r\n      if (\r\n        ['focus', 'hover-focus'].includes(state.visibility) &&\r\n        (!e.relatedTarget ||\r\n          !elementContains(popoverRef.value!, e.relatedTarget as Node))\r\n      ) {\r\n        state.isFocused = false;\r\n        if (!state.isHovered && state.autoHide) hide();\r\n      }\r\n    }\r\n\r\n    function cleanupRO() {\r\n      if (resizeObserver != null) {\r\n        resizeObserver.disconnect();\r\n        resizeObserver = null;\r\n      }\r\n    }\r\n\r\n    watch(\r\n      () => popoverRef.value,\r\n      val => {\r\n        cleanupRO();\r\n        if (!val) return;\r\n        resizeObserver = new ResizeObserver(() => {\r\n          if (popper) popper.update();\r\n        });\r\n        resizeObserver.observe(val);\r\n      },\r\n    );\r\n\r\n    watch(() => state.placement, updateDirection, {\r\n      immediate: true,\r\n    });\r\n\r\n    onMounted(() => {\r\n      addEvents();\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      destroyPopper();\r\n      cleanupRO();\r\n      removeEvents();\r\n    });\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      popoverRef,\r\n      alignment,\r\n      hide,\r\n      setupPopper,\r\n      beforeEnter,\r\n      afterEnter,\r\n      beforeLeave,\r\n      afterLeave,\r\n      onClick,\r\n      onMouseOver,\r\n      onMouseLeave,\r\n      onFocusIn,\r\n      onFocusOut,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vc-popover-content-wrapper {\r\n  --popover-horizontal-content-offset: 8px;\r\n  --popover-vertical-content-offset: 10px;\r\n  --popover-caret-horizontal-offset: 18px;\r\n  --popover-caret-vertical-offset: 8px;\r\n\r\n  position: absolute;\r\n  display: block;\r\n  outline: none;\r\n  z-index: 10;\r\n  &:not(.is-interactive) {\r\n    pointer-events: none;\r\n  }\r\n}\r\n\r\n.vc-popover-content {\r\n  position: relative;\r\n  color: var(--vc-popover-content-color);\r\n  font-weight: var(--vc-font-medium);\r\n  background-color: var(--vc-popover-content-bg);\r\n  border: 1px solid;\r\n  border-color: var(--vc-popover-content-border);\r\n  border-radius: var(--vc-rounded-lg);\r\n  padding: 4px;\r\n  outline: none;\r\n  z-index: 10;\r\n  box-shadow: var(--vc-shadow-lg);\r\n  &.direction-bottom {\r\n    margin-top: var(--popover-vertical-content-offset);\r\n  }\r\n  &.direction-top {\r\n    margin-bottom: var(--popover-vertical-content-offset);\r\n  }\r\n  &.direction-left {\r\n    margin-right: var(--popover-horizontal-content-offset);\r\n  }\r\n  &.direction-right {\r\n    margin-left: var(--popover-horizontal-content-offset);\r\n  }\r\n}\r\n\r\n.vc-popover-caret {\r\n  content: '';\r\n  position: absolute;\r\n  display: block;\r\n  width: 12px;\r\n  height: 12px;\r\n  border-top: inherit;\r\n  border-left: inherit;\r\n  background-color: inherit;\r\n  z-index: -1;\r\n  &.direction-bottom {\r\n    top: 0;\r\n    &.align-left {\r\n      transform: translateY(-50%) rotate(45deg);\r\n    }\r\n    &.align-center {\r\n      transform: translateX(-50%) translateY(-50%) rotate(45deg);\r\n    }\r\n    &.align-right {\r\n      transform: translateY(-50%) rotate(45deg);\r\n    }\r\n  }\r\n  &.direction-top {\r\n    top: 100%;\r\n    &.align-left {\r\n      transform: translateY(-50%) rotate(-135deg);\r\n    }\r\n    &.align-center {\r\n      transform: translateX(-50%) translateY(-50%) rotate(-135deg);\r\n    }\r\n    &.align-right {\r\n      transform: translateY(-50%) rotate(-135deg);\r\n    }\r\n  }\r\n  &.direction-left {\r\n    left: 100%;\r\n    &.align-top {\r\n      transform: translateX(-50%) rotate(135deg);\r\n    }\r\n    &.align-middle {\r\n      transform: translateY(-50%) translateX(-50%) rotate(135deg);\r\n    }\r\n    &.align-bottom {\r\n      transform: translateX(-50%) rotate(135deg);\r\n    }\r\n  }\r\n  &.direction-right {\r\n    left: 0;\r\n    &.align-top {\r\n      transform: translateX(-50%) rotate(-45deg);\r\n    }\r\n    &.align-middle {\r\n      transform: translateY(-50%) translateX(-50%) rotate(-45deg);\r\n    }\r\n    &.align-bottom {\r\n      transform: translateX(-50%) rotate(-45deg);\r\n    }\r\n  }\r\n  &.align-left {\r\n    left: var(--popover-caret-horizontal-offset);\r\n  }\r\n  &.align-center {\r\n    left: 50%;\r\n  }\r\n  &.align-right {\r\n    right: var(--popover-caret-horizontal-offset);\r\n  }\r\n  &.align-top {\r\n    top: var(--popover-caret-vertical-offset);\r\n  }\r\n  &.align-middle {\r\n    top: 50%;\r\n  }\r\n  &.align-bottom {\r\n    bottom: var(--popover-caret-vertical-offset);\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    class=\"vc-popover-content-wrapper\"\r\n    :class=\"{ 'is-interactive': isInteractive }\"\r\n    ref=\"popoverRef\"\r\n    @click=\"onClick\"\r\n    @mouseover=\"onMouseOver\"\r\n    @mouseleave=\"onMouseLeave\"\r\n    @focusin=\"onFocusIn\"\r\n    @focusout=\"onFocusOut\"\r\n  >\r\n    <Transition\r\n      :name=\"`vc-${transition}`\"\r\n      appear\r\n      @before-enter=\"beforeEnter\"\r\n      @after-enter=\"afterEnter\"\r\n      @before-leave=\"beforeLeave\"\r\n      @after-leave=\"afterLeave\"\r\n    >\r\n      <div\r\n        v-if=\"isVisible\"\r\n        tabindex=\"-1\"\r\n        :class=\"`vc-popover-content direction-${direction}`\"\r\n        v-bind=\"$attrs\"\r\n      >\r\n        <slot\r\n          :direction=\"direction\"\r\n          :alignment=\"alignment\"\r\n          :data=\"data\"\r\n          :hide=\"hide\"\r\n        >\r\n          {{ data }}\r\n        </slot>\r\n        <span\r\n          :class=\"[\r\n            'vc-popover-caret',\r\n            `direction-${direction}`,\r\n            `align-${alignment}`,\r\n          ]\"\r\n        />\r\n      </div>\r\n    </Transition>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  ref,\r\n  toRefs,\r\n  reactive,\r\n  computed,\r\n  watch,\r\n  onMounted,\r\n  onUnmounted,\r\n  defineComponent,\r\n  nextTick,\r\n} from 'vue';\r\nimport {\r\n  State as PopperState,\r\n  Instance,\r\n  OptionsGeneric,\r\n  PositioningStrategy,\r\n  createPopper,\r\n} from '@popperjs/core';\r\nimport { on, off, elementContains, resolveEl, omit } from '../../utils/helpers';\r\nimport {\r\n  PopoverOptions,\r\n  PopoverState,\r\n  PopoverEvent,\r\n} from '../../utils/popovers';\r\n\r\nexport default defineComponent({\r\n  name: 'Popover',\r\n  inheritAttrs: false,\r\n  emits: ['before-show', 'after-show', 'before-hide', 'after-hide'],\r\n  props: {\r\n    id: { type: String, required: true },\r\n    showDelay: { type: Number, default: 0 },\r\n    hideDelay: { type: Number, default: 110 },\r\n    boundarySelector: { type: String },\r\n  },\r\n  setup(props, { emit }) {\r\n    let timeout: number | undefined = undefined;\r\n    const popoverRef = ref<HTMLElement>();\r\n    let resizeObserver: ResizeObserver | null = null;\r\n    let popper: Instance | null = null;\r\n\r\n    const state: PopoverState = reactive({\r\n      isVisible: false,\r\n      target: null,\r\n      data: null,\r\n      transition: 'slide-fade',\r\n      placement: 'bottom',\r\n      direction: '',\r\n      positionFixed: false,\r\n      modifiers: [],\r\n      isInteractive: true,\r\n      visibility: 'click',\r\n      isHovered: false,\r\n      isFocused: false,\r\n      autoHide: false,\r\n      force: false,\r\n    });\r\n\r\n    function updateDirection(placement?: string) {\r\n      if (placement) state.direction = placement.split('-')[0];\r\n    }\r\n\r\n    function onPopperUpdate({ placement, options }: Partial<PopperState>) {\r\n      updateDirection(placement || options?.placement);\r\n    }\r\n\r\n    const popperOptions = computed<Partial<OptionsGeneric<any>>>(() => {\r\n      return {\r\n        placement: state.placement,\r\n        strategy: (state.positionFixed\r\n          ? 'fixed'\r\n          : 'absolute') as PositioningStrategy,\r\n        boundary: '',\r\n        modifiers: [\r\n          {\r\n            name: 'onUpdate',\r\n            enabled: true,\r\n            phase: 'afterWrite',\r\n            fn: onPopperUpdate,\r\n          },\r\n          ...(state.modifiers || []),\r\n        ],\r\n        onFirstUpdate: onPopperUpdate,\r\n      };\r\n      // if (props.boundarySelector) {\r\n      //   const boundary = document.querySelector(props.boundarySelector);\r\n      //   modifiers.push({\r\n      //     name: 'boundary',\r\n      //     enabled: true,\r\n      //     phase: 'main',\r\n      //     requiresIfExists: ['offset'],\r\n      //     fn({ state }) {\r\n      //       console.log(\r\n      //         detectOverflow(state, {\r\n      //           boundary,\r\n      //           altBoundary: true,\r\n      //         }),\r\n      //       );\r\n      //     },\r\n      //   });\r\n      // }\r\n    });\r\n\r\n    const alignment = computed(() => {\r\n      const isLeftRight =\r\n        state.direction === 'left' || state.direction === 'right';\r\n      let alignment = '';\r\n      if (state.placement) {\r\n        const parts = state.placement.split('-');\r\n        if (parts.length > 1) alignment = parts[1];\r\n      }\r\n      if (['start', 'top', 'left'].includes(alignment)) {\r\n        return isLeftRight ? 'top' : 'left';\r\n      }\r\n      if (['end', 'bottom', 'right'].includes(alignment)) {\r\n        return isLeftRight ? 'bottom' : 'right';\r\n      }\r\n      return isLeftRight ? 'middle' : 'center';\r\n    });\r\n\r\n    function destroyPopper() {\r\n      if (popper) {\r\n        popper.destroy();\r\n        popper = null;\r\n      }\r\n    }\r\n\r\n    function setupPopper() {\r\n      nextTick(() => {\r\n        const el = resolveEl(state.target);\r\n        if (!el || !popoverRef.value) return;\r\n        if (popper && popper.state.elements.reference !== el) {\r\n          destroyPopper();\r\n        }\r\n        if (!popper) {\r\n          popper = createPopper(\r\n            el as Element,\r\n            popoverRef.value,\r\n            popperOptions.value,\r\n          );\r\n        } else {\r\n          popper.update();\r\n        }\r\n      });\r\n    }\r\n\r\n    function updateState(newState: Partial<PopoverState>) {\r\n      Object.assign(state, omit(newState, 'force'));\r\n    }\r\n\r\n    function setTimer(delay: number, fn: Function) {\r\n      clearTimeout(timeout);\r\n      if (delay > 0) {\r\n        timeout = setTimeout(fn, delay);\r\n      } else {\r\n        fn();\r\n      }\r\n    }\r\n\r\n    function isCurrentTarget(target: unknown) {\r\n      if (!target || !popper) return false;\r\n      const el = resolveEl(target);\r\n      return el === popper.state.elements.reference;\r\n    }\r\n\r\n    async function show(opts: Partial<PopoverOptions> = {}) {\r\n      if (state.force) return;\r\n      if (opts.force) state.force = true;\r\n\r\n      setTimer(opts.showDelay ?? props.showDelay, () => {\r\n        if (state.isVisible) {\r\n          state.force = false;\r\n          emit('after-show');\r\n        }\r\n        updateState({\r\n          ...opts,\r\n          isVisible: true,\r\n        });\r\n        setupPopper();\r\n      });\r\n    }\r\n\r\n    function hide(opts: Partial<PopoverOptions> = {}) {\r\n      if (!popper) return;\r\n      if (opts.target && !isCurrentTarget(opts.target)) return;\r\n\r\n      if (state.force) return;\r\n      if (opts.force) state.force = true;\r\n\r\n      setTimer(opts.hideDelay ?? props.hideDelay, () => {\r\n        if (!state.isVisible) state.force = false;\r\n        state.isVisible = false;\r\n      });\r\n    }\r\n\r\n    function toggle(opts: Partial<PopoverOptions> = {}) {\r\n      if (opts.target == null) return;\r\n      if (state.isVisible && isCurrentTarget(opts.target)) {\r\n        hide(opts);\r\n      } else {\r\n        show(opts);\r\n      }\r\n    }\r\n\r\n    function update(opts: Partial<PopoverOptions> = {}) {\r\n      if (!isCurrentTarget(opts.target)) return;\r\n      updateState(opts);\r\n      setupPopper();\r\n    }\r\n\r\n    function onDocumentClick(e: CustomEvent) {\r\n      if (!popper) return;\r\n      const popperRef = popper.state.elements.reference;\r\n      if (!popoverRef.value || !popperRef) {\r\n        return;\r\n      }\r\n      // Don't hide if target element is contained within popover ref or content\r\n      const target = e.target as Node;\r\n      if (\r\n        elementContains(popoverRef.value, target) ||\r\n        elementContains(popperRef as Node, target)\r\n      ) {\r\n        return;\r\n      }\r\n      // Hide the popover\r\n      hide({ force: true });\r\n    }\r\n\r\n    function onDocumentKeydown(e: KeyboardEvent) {\r\n      if (e.key === 'Esc' || e.key === 'Escape') {\r\n        hide();\r\n      }\r\n    }\r\n\r\n    function onDocumentShowPopover({ detail }: PopoverEvent) {\r\n      if (!detail.id || detail.id !== props.id) return;\r\n      show(detail);\r\n    }\r\n\r\n    function onDocumentHidePopover({ detail }: PopoverEvent) {\r\n      if (!detail.id || detail.id !== props.id) return;\r\n      hide(detail);\r\n    }\r\n\r\n    function onDocumentTogglePopover({ detail }: PopoverEvent) {\r\n      if (!detail.id || detail.id !== props.id) return;\r\n      toggle(detail);\r\n    }\r\n\r\n    function addEvents() {\r\n      on(document, 'keydown', onDocumentKeydown);\r\n      on(document, 'click', onDocumentClick);\r\n      on(document, 'show-popover', onDocumentShowPopover);\r\n      on(document, 'hide-popover', onDocumentHidePopover);\r\n      on(document, 'toggle-popover', onDocumentTogglePopover);\r\n    }\r\n\r\n    function removeEvents() {\r\n      off(document, 'keydown', onDocumentKeydown);\r\n      off(document, 'click', onDocumentClick);\r\n      off(document, 'show-popover', onDocumentShowPopover);\r\n      off(document, 'hide-popover', onDocumentHidePopover);\r\n      off(document, 'toggle-popover', onDocumentTogglePopover);\r\n    }\r\n\r\n    function beforeEnter(el: HTMLElement) {\r\n      emit('before-show', el);\r\n    }\r\n\r\n    function afterEnter(el: HTMLElement) {\r\n      state.force = false;\r\n      emit('after-show', el);\r\n    }\r\n\r\n    function beforeLeave(el: HTMLElement) {\r\n      emit('before-hide', el);\r\n    }\r\n\r\n    function afterLeave(el: HTMLElement) {\r\n      state.force = false;\r\n      destroyPopper();\r\n      emit('after-hide', el);\r\n    }\r\n\r\n    function onClick(e: MouseEvent) {\r\n      e.stopPropagation();\r\n    }\r\n\r\n    function onMouseOver() {\r\n      state.isHovered = true;\r\n      if (\r\n        state.isInteractive &&\r\n        ['hover', 'hover-focus'].includes(state.visibility)\r\n      ) {\r\n        show();\r\n      }\r\n    }\r\n\r\n    function onMouseLeave() {\r\n      state.isHovered = false;\r\n      if (!popper) return;\r\n      const popperRef = popper.state.elements.reference;\r\n      if (\r\n        state.autoHide &&\r\n        !state.isFocused &&\r\n        (!popperRef || popperRef !== document.activeElement) &&\r\n        ['hover', 'hover-focus'].includes(state.visibility)\r\n      ) {\r\n        hide();\r\n      }\r\n    }\r\n\r\n    function onFocusIn() {\r\n      state.isFocused = true;\r\n      if (\r\n        state.isInteractive &&\r\n        ['focus', 'hover-focus'].includes(state.visibility)\r\n      ) {\r\n        show();\r\n      }\r\n    }\r\n\r\n    function onFocusOut(e: FocusEvent) {\r\n      if (\r\n        ['focus', 'hover-focus'].includes(state.visibility) &&\r\n        (!e.relatedTarget ||\r\n          !elementContains(popoverRef.value!, e.relatedTarget as Node))\r\n      ) {\r\n        state.isFocused = false;\r\n        if (!state.isHovered && state.autoHide) hide();\r\n      }\r\n    }\r\n\r\n    function cleanupRO() {\r\n      if (resizeObserver != null) {\r\n        resizeObserver.disconnect();\r\n        resizeObserver = null;\r\n      }\r\n    }\r\n\r\n    watch(\r\n      () => popoverRef.value,\r\n      val => {\r\n        cleanupRO();\r\n        if (!val) return;\r\n        resizeObserver = new ResizeObserver(() => {\r\n          if (popper) popper.update();\r\n        });\r\n        resizeObserver.observe(val);\r\n      },\r\n    );\r\n\r\n    watch(() => state.placement, updateDirection, {\r\n      immediate: true,\r\n    });\r\n\r\n    onMounted(() => {\r\n      addEvents();\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      destroyPopper();\r\n      cleanupRO();\r\n      removeEvents();\r\n    });\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      popoverRef,\r\n      alignment,\r\n      hide,\r\n      setupPopper,\r\n      beforeEnter,\r\n      afterEnter,\r\n      beforeLeave,\r\n      afterLeave,\r\n      onClick,\r\n      onMouseOver,\r\n      onMouseLeave,\r\n      onFocusIn,\r\n      onFocusOut,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vc-popover-content-wrapper {\r\n  --popover-horizontal-content-offset: 8px;\r\n  --popover-vertical-content-offset: 10px;\r\n  --popover-caret-horizontal-offset: 18px;\r\n  --popover-caret-vertical-offset: 8px;\r\n\r\n  position: absolute;\r\n  display: block;\r\n  outline: none;\r\n  z-index: 10;\r\n  &:not(.is-interactive) {\r\n    pointer-events: none;\r\n  }\r\n}\r\n\r\n.vc-popover-content {\r\n  position: relative;\r\n  color: var(--vc-popover-content-color);\r\n  font-weight: var(--vc-font-medium);\r\n  background-color: var(--vc-popover-content-bg);\r\n  border: 1px solid;\r\n  border-color: var(--vc-popover-content-border);\r\n  border-radius: var(--vc-rounded-lg);\r\n  padding: 4px;\r\n  outline: none;\r\n  z-index: 10;\r\n  box-shadow: var(--vc-shadow-lg);\r\n  &.direction-bottom {\r\n    margin-top: var(--popover-vertical-content-offset);\r\n  }\r\n  &.direction-top {\r\n    margin-bottom: var(--popover-vertical-content-offset);\r\n  }\r\n  &.direction-left {\r\n    margin-right: var(--popover-horizontal-content-offset);\r\n  }\r\n  &.direction-right {\r\n    margin-left: var(--popover-horizontal-content-offset);\r\n  }\r\n}\r\n\r\n.vc-popover-caret {\r\n  content: '';\r\n  position: absolute;\r\n  display: block;\r\n  width: 12px;\r\n  height: 12px;\r\n  border-top: inherit;\r\n  border-left: inherit;\r\n  background-color: inherit;\r\n  z-index: -1;\r\n  &.direction-bottom {\r\n    top: 0;\r\n    &.align-left {\r\n      transform: translateY(-50%) rotate(45deg);\r\n    }\r\n    &.align-center {\r\n      transform: translateX(-50%) translateY(-50%) rotate(45deg);\r\n    }\r\n    &.align-right {\r\n      transform: translateY(-50%) rotate(45deg);\r\n    }\r\n  }\r\n  &.direction-top {\r\n    top: 100%;\r\n    &.align-left {\r\n      transform: translateY(-50%) rotate(-135deg);\r\n    }\r\n    &.align-center {\r\n      transform: translateX(-50%) translateY(-50%) rotate(-135deg);\r\n    }\r\n    &.align-right {\r\n      transform: translateY(-50%) rotate(-135deg);\r\n    }\r\n  }\r\n  &.direction-left {\r\n    left: 100%;\r\n    &.align-top {\r\n      transform: translateX(-50%) rotate(135deg);\r\n    }\r\n    &.align-middle {\r\n      transform: translateY(-50%) translateX(-50%) rotate(135deg);\r\n    }\r\n    &.align-bottom {\r\n      transform: translateX(-50%) rotate(135deg);\r\n    }\r\n  }\r\n  &.direction-right {\r\n    left: 0;\r\n    &.align-top {\r\n      transform: translateX(-50%) rotate(-45deg);\r\n    }\r\n    &.align-middle {\r\n      transform: translateY(-50%) translateX(-50%) rotate(-45deg);\r\n    }\r\n    &.align-bottom {\r\n      transform: translateX(-50%) rotate(-45deg);\r\n    }\r\n  }\r\n  &.align-left {\r\n    left: var(--popover-caret-horizontal-offset);\r\n  }\r\n  &.align-center {\r\n    left: 50%;\r\n  }\r\n  &.align-right {\r\n    right: var(--popover-caret-horizontal-offset);\r\n  }\r\n  &.align-top {\r\n    top: var(--popover-caret-vertical-offset);\r\n  }\r\n  &.align-middle {\r\n    top: 50%;\r\n  }\r\n  &.align-bottom {\r\n    bottom: var(--popover-caret-vertical-offset);\r\n  }\r\n}\r\n</style>\r\n","import {\r\n  ExtractPropTypes,\r\n  PropType,\r\n  ref,\r\n  computed,\r\n  watch,\r\n  onMounted,\r\n  provide,\r\n  inject,\r\n} from 'vue';\r\nimport { useCalendar } from './calendar';\r\nimport { Page } from '../utils/page';\r\nimport { getMonthDates } from '../utils/date/helpers';\r\nimport { head, last, pad } from '../utils/helpers';\r\n\r\nexport interface YearItem {\r\n  year: number;\r\n  id: string;\r\n  label: string;\r\n  ariaLabel: string;\r\n  isActive: boolean;\r\n  isCurrent: boolean;\r\n  isDisabled: boolean;\r\n  click: () => void;\r\n}\r\n\r\nexport interface MonthItem extends YearItem {\r\n  month: number;\r\n}\r\n\r\nexport type IQuerySelector = Pick<HTMLElement, 'querySelector'>;\r\n\r\nexport type CalendarNavContext = ReturnType<typeof createCalendarNav>;\r\n\r\nexport type CalendarNavProps = Readonly<ExtractPropTypes<typeof propsDef>>;\r\n\r\nexport const propsDef = {\r\n  value: { type: Object as PropType<Page>, required: true },\r\n};\r\n\r\nexport const emitsDef = ['input'];\r\n\r\nconst contextKey = '__vc_calendar_nav_context__';\r\n\r\nexport function createCalendarNav(props: CalendarNavProps, { emit }: any) {\r\n  const monthMode = ref(true);\r\n  const yearIndex = ref(0);\r\n  const yearGroupIndex = ref(0);\r\n  const yearGroupCount = 12;\r\n  const navContainer = ref<IQuerySelector | null>(null);\r\n\r\n  const { locale, masks, canMove, getDateAddress } = useCalendar();\r\n\r\n  function focusFirstItem() {\r\n    // Use setTimeout instead of $nextTick so it plays nice with popperjs\r\n    setTimeout(() => {\r\n      if (navContainer.value == null) return;\r\n      // Set focus on the first enabled nav item\r\n      const focusableEl = navContainer.value.querySelector(\r\n        '.vc-nav-item:not(.vc-disabled)',\r\n      ) as HTMLElement;\r\n      if (focusableEl) {\r\n        focusableEl.focus();\r\n      }\r\n    }, 10);\r\n  }\r\n\r\n  function monthClick(month: number, year: number) {\r\n    emit('input', { month, year }, { position: currentPosition.value });\r\n  }\r\n\r\n  function yearClick(year: number) {\r\n    yearIndex.value = year;\r\n    monthMode.value = true;\r\n    focusFirstItem();\r\n  }\r\n\r\n  function getYearItems(yearGroupIndex: number): YearItem[] {\r\n    const { year: thisYear } = getDateAddress(new Date());\r\n    const startYear = yearGroupIndex * yearGroupCount;\r\n    const endYear = startYear + yearGroupCount;\r\n    const items = [];\r\n    for (let year = startYear; year < endYear; year += 1) {\r\n      let enabled = false;\r\n      for (let month = 1; month < 12; month++) {\r\n        enabled = canMove({ month, year }, { position: currentPosition.value });\r\n        if (enabled) break;\r\n      }\r\n      items.push({\r\n        year,\r\n        id: year.toString(),\r\n        label: (year + 543).toString(),\r\n        ariaLabel: year.toString(),\r\n        isActive: year === currentYear.value,\r\n        isCurrent: year === thisYear,\r\n        isDisabled: !enabled,\r\n        click: () => yearClick(year),\r\n      });\r\n    }\r\n    return items;\r\n  }\r\n\r\n  function getMonthItems(year: number): MonthItem[] {\r\n    const { month: thisMonth, year: thisYear } = getDateAddress(new Date());\r\n    return getMonthDates().map((d, i: number) => {\r\n      const month = i + 1;\r\n      return {\r\n        month,\r\n        year,\r\n        id: `${year}.${pad(month, 2)}`,\r\n        label: locale.value.formatDate(d, masks.value.navMonths),\r\n        ariaLabel: locale.value.formatDate(d, 'MMMM YYYY'),\r\n        isActive: month === currentMonth.value && year === currentYear.value,\r\n        isCurrent: month === thisMonth && year === thisYear,\r\n        isDisabled: !canMove(\r\n          { month, year },\r\n          { position: currentPosition.value },\r\n        ),\r\n        click: () => monthClick(month, year),\r\n      };\r\n    });\r\n  }\r\n\r\n  function getItemClasses({\r\n    isActive,\r\n    isCurrent,\r\n    isDisabled,\r\n  }: MonthItem | YearItem) {\r\n    const classes = ['vc-nav-item vc-focus'];\r\n    if (isActive) {\r\n      classes.push('is-active');\r\n    } else if (isCurrent) {\r\n      classes.push('is-current');\r\n    }\r\n    if (isDisabled) {\r\n      classes.push('vc-disabled');\r\n    }\r\n    return classes;\r\n  }\r\n\r\n  function getYearGroupIndex(year: number) {\r\n    return Math.floor(year / yearGroupCount);\r\n  }\r\n\r\n  function toggleMode() {\r\n    monthMode.value = !monthMode.value;\r\n  }\r\n\r\n  // #region Move methods\r\n\r\n  function movePrev() {\r\n    if (!prevItemsEnabled.value) return;\r\n    if (monthMode.value) {\r\n      movePrevYear();\r\n    }\r\n    movePrevYearGroup();\r\n  }\r\n\r\n  function moveNext() {\r\n    if (!nextItemsEnabled.value) return;\r\n    if (monthMode.value) {\r\n      moveNextYear();\r\n    }\r\n    moveNextYearGroup();\r\n  }\r\n\r\n  function movePrevYear() {\r\n    yearIndex.value--;\r\n  }\r\n\r\n  function moveNextYear() {\r\n    yearIndex.value++;\r\n  }\r\n\r\n  function movePrevYearGroup() {\r\n    yearGroupIndex.value--;\r\n  }\r\n\r\n  function moveNextYearGroup() {\r\n    yearGroupIndex.value++;\r\n  }\r\n\r\n  // #endregion Move methods\r\n\r\n  const currentMonth = computed(() => props.value?.month || 0);\r\n\r\n  const currentYear = computed(() => props.value?.year || 0);\r\n\r\n  const currentPosition = computed(() => props.value?.position || 1);\r\n\r\n  const monthItems = computed(() => getMonthItems(yearIndex.value));\r\n\r\n  const yearItems = computed(() => getYearItems(yearGroupIndex.value));\r\n\r\n  const firstYear = computed(() => head(yearItems.value.map(i => i.year)));\r\n\r\n  const lastYear = computed(() => last(yearItems.value.map(i => i.year)));\r\n\r\n  const title = computed(() => {\r\n    let yearIndexTran = yearIndex.value + 543\r\n    let firstYearTran = firstYear.value! + 543\r\n    let lastYearTran = lastYear.value! + 543\r\n    return monthMode.value\r\n      ? yearIndexTran\r\n      : `${firstYearTran} - ${lastYearTran}`;\r\n  });\r\n\r\n  const prevMonthItemsEnabled = computed(() =>\r\n    getMonthItems(yearIndex.value - 1).some(i => !i.isDisabled),\r\n  );\r\n\r\n  const prevYearItemsEnabled = computed(() =>\r\n    getYearItems(yearGroupIndex.value - 1).some(i => !i.isDisabled),\r\n  );\r\n\r\n  const prevItemsEnabled = computed(() =>\r\n    monthMode.value ? prevMonthItemsEnabled.value : prevYearItemsEnabled.value,\r\n  );\r\n\r\n  const nextMonthItemsEnabled = computed(() =>\r\n    getMonthItems(yearIndex.value + 1).some(i => !i.isDisabled),\r\n  );\r\n\r\n  const nextYearItemsEnabled = computed(() =>\r\n    getYearItems(yearGroupIndex.value + 1).some(i => !i.isDisabled),\r\n  );\r\n\r\n  const nextItemsEnabled = computed(() =>\r\n    monthMode.value ? nextMonthItemsEnabled.value : nextYearItemsEnabled.value,\r\n  );\r\n\r\n  const activeItems = computed(() =>\r\n    monthMode.value ? monthItems.value : yearItems.value,\r\n  );\r\n\r\n  watch(\r\n    () => currentYear.value,\r\n    () => {\r\n      yearIndex.value = currentYear.value;\r\n    },\r\n  );\r\n\r\n  watch(\r\n    () => yearIndex.value,\r\n    val => {\r\n      yearGroupIndex.value = getYearGroupIndex(val);\r\n    },\r\n  );\r\n\r\n  yearIndex.value = currentYear.value;\r\n\r\n  onMounted(() => focusFirstItem());\r\n\r\n  const context = {\r\n    navContainer,\r\n    title,\r\n    monthMode,\r\n    currentMonth,\r\n    currentYear,\r\n    activeItems,\r\n    prevItemsEnabled,\r\n    nextItemsEnabled,\r\n    getItemClasses,\r\n    toggleMode,\r\n    movePrev,\r\n    moveNext,\r\n    movePrevYear,\r\n    moveNextYear,\r\n    movePrevYearGroup,\r\n    moveNextYearGroup,\r\n  };\r\n  provide(contextKey, context);\r\n  return context;\r\n}\r\n\r\nexport function useCalendarNav(): CalendarNavContext {\r\n  const context = inject<CalendarNavContext>(contextKey);\r\n  if (context) return context;\r\n  throw new Error(\r\n    'CalendarNav context missing. Please verify this component is nested within a valid context provider.',\r\n  );\r\n}\r\n","<template>\r\n  <!--Nav panel-->\r\n  <div class=\"vc-nav-container\" ref=\"navContainer\">\r\n    <!--Nav header-->\r\n    <div class=\"vc-nav-header\">\r\n      <!--Move prev button-->\r\n      <span\r\n        role=\"button\"\r\n        class=\"vc-nav-arrow is-left vc-focus\"\r\n        :class=\"{ 'vc-disabled': !prevItemsEnabled }\"\r\n        :tabindex=\"prevItemsEnabled ? 0 : undefined\"\r\n        @click=\"movePrev\"\r\n        @keydown=\"e => onSpaceOrEnter(e, movePrev)\"\r\n      >\r\n        <slot name=\"nav-left-button\">\r\n          <BaseIcon name=\"ChevronLeft\" width=\"20px\" height=\"24px\" />\r\n        </slot>\r\n      </span>\r\n      <!--Mode switch button-->\r\n      <span\r\n        role=\"button\"\r\n        class=\"vc-nav-title vc-focus\"\r\n        :style=\"{ whiteSpace: 'nowrap' }\"\r\n        tabindex=\"0\"\r\n        @click=\"toggleMode\"\r\n        @keydown=\"e => onSpaceOrEnter(e, toggleMode)\"\r\n      >\r\n        {{ title }}\r\n      </span>\r\n      <!--Move next button-->\r\n      <span\r\n        role=\"button\"\r\n        class=\"vc-nav-arrow is-right\"\r\n        :class=\"{ 'vc-disabled': !nextItemsEnabled }\"\r\n        :tabindex=\"nextItemsEnabled ? 0 : undefined\"\r\n        @click=\"moveNext\"\r\n        @keydown=\"e => onSpaceOrEnter(e, moveNext)\"\r\n      >\r\n        <slot name=\"nav-right-button\">\r\n          <BaseIcon name=\"ChevronRight\" width=\"20px\" height=\"24px\" />\r\n        </slot>\r\n      </span>\r\n    </div>\r\n    <!--Navigation items-->\r\n    <div class=\"vc-nav-items\">\r\n      <span\r\n        v-for=\"item in activeItems\"\r\n        :key=\"item.label\"\r\n        role=\"button\"\r\n        :data-id=\"item.id\"\r\n        :aria-label=\"item.ariaLabel\"\r\n        :class=\"getItemClasses(item)\"\r\n        :tabindex=\"item.isDisabled ? undefined : 0\"\r\n        @click=\"item.click\"\r\n        @keydown=\"e => onSpaceOrEnter(e, item.click)\"\r\n      >\r\n        {{ item.label }}\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport BaseIcon from '../BaseIcon/BaseIcon.vue';\r\nimport { createCalendarNav } from '../../use/calendarNav';\r\nimport { onSpaceOrEnter } from '../../utils/helpers';\r\nimport { propsDef, emitsDef } from '../../use/calendarNav';\r\n\r\nconst props = defineProps(propsDef);\r\nconst emit = defineEmits(emitsDef);\r\n\r\nconst {\r\n  navContainer,\r\n  title,\r\n  prevItemsEnabled,\r\n  nextItemsEnabled,\r\n  activeItems,\r\n  getItemClasses,\r\n  toggleMode,\r\n  movePrev,\r\n  moveNext,\r\n} = createCalendarNav(props, { emit });\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vc-nav-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.vc-nav-title,\r\n.vc-nav-arrow,\r\n.vc-nav-item {\r\n  font-size: var(--vc-text-sm);\r\n  &:hover {\r\n    background-color: var(--vc-nav-hover-bg);\r\n  }\r\n  &.vc-disabled {\r\n    opacity: 0.25;\r\n    pointer-events: none;\r\n  }\r\n}\r\n\r\n.vc-nav-title {\r\n  color: var(--vc-nav-title-color);\r\n  font-weight: var(--vc-font-bold);\r\n  line-height: var(--vc-leading-snug);\r\n  padding: 4px 8px;\r\n  border-radius: var(--vc-rounded);\r\n  border-width: 2px;\r\n  border-style: solid;\r\n  border-color: transparent;\r\n  user-select: none;\r\n}\r\n\r\n.vc-nav-arrow {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  line-height: var(--vc-leading-snug);\r\n  border-width: 2px;\r\n  border-style: solid;\r\n  border-color: transparent;\r\n  border-radius: var(--vc-rounded);\r\n  &.is-left {\r\n    margin-right: auto;\r\n  }\r\n  &.is-right {\r\n    margin-left: auto;\r\n  }\r\n}\r\n\r\n.vc-nav-items {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  grid-row-gap: 2px;\r\n  grid-column-gap: 5px;\r\n}\r\n\r\n.vc-nav-item {\r\n  width: 48px;\r\n  text-align: center;\r\n  line-height: var(--vc-leading-snug);\r\n  font-weight: var(--vc-font-semibold);\r\n  padding: 4px 0;\r\n  cursor: pointer;\r\n  border-width: 2px;\r\n  border-style: solid;\r\n  border-color: transparent;\r\n  border-radius: var(--vc-rounded);\r\n  user-select: none;\r\n  &.is-active {\r\n    color: var(--vc-nav-item-active-color);\r\n    background-color: var(--vc-nav-item-active-bg);\r\n    font-weight: var(--vc-font-bold);\r\n    &:not(:focus) {\r\n      box-shadow: var(--vc-nav-item-active-box-shadow);\r\n    }\r\n  }\r\n  &.is-current {\r\n    color: var(--vc-nav-item-current-color);\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <Popover\r\n    :id=\"navPopoverId\"\r\n    :class=\"['vc-nav-popover-container', `vc-${color}`, `vc-${displayMode}`]\"\r\n    ref=\"navPopoverRef\"\r\n  >\r\n    <template #default=\"{ data }\">\r\n      <CalendarNav :value=\"data.page\" @input=\"move\" />\r\n    </template>\r\n  </Popover>\r\n</template>\r\n\r\n<script setup>\r\nimport Popover from '../Popover/Popover.vue';\r\nimport CalendarNav from '../CalendarNav/CalendarNav.vue';\r\nimport { useCalendar } from '../../use/calendar';\r\n\r\nconst { navPopoverId, color, displayMode, navPopoverRef, move } = useCalendar();\r\n</script>\r\n","<template>\r\n  <!-- Content row -->\r\n  <div class=\"vc-day-popover-row\">\r\n    <!-- Indicator -->\r\n    <div v-if=\"indicator\" class=\"vc-day-popover-row-indicator\">\r\n      <span :class=\"indicator.class\" />\r\n    </div>\r\n    <!-- Content -->\r\n    <div class=\"vc-day-popover-row-label\">\r\n      <slot>{{\r\n        attribute.popover ? attribute.popover.label : 'No content provided'\r\n      }}</slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { PropType, defineComponent, computed } from 'vue';\r\nimport { Attribute } from '../../utils/attribute';\r\n\r\nexport default defineComponent({\r\n  name: 'PopoverRow',\r\n  props: {\r\n    attribute: { type: Object as PropType<Attribute>, required: true },\r\n  },\r\n  setup(props) {\r\n    const indicator = computed(() => {\r\n      const { content, highlight, dot, bar, popover } = props.attribute;\r\n      if (popover && popover.hideIndicator) return null;\r\n      if (content) {\r\n        return {\r\n          class: `vc-bar vc-day-popover-row-bar vc-attr vc-${content.base.color}`,\r\n        };\r\n      }\r\n      if (highlight) {\r\n        return {\r\n          class: `vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${highlight.base.color}`,\r\n        };\r\n      }\r\n      if (dot) {\r\n        return {\r\n          class: `vc-dot vc-attr vc-${dot.base.color}`,\r\n        };\r\n      }\r\n      if (bar) {\r\n        return {\r\n          class: `vc-bar vc-day-popover-row-bar vc-attr vc-${bar.base.color}`,\r\n        };\r\n      }\r\n      return null;\r\n    });\r\n    return {\r\n      indicator,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vc-day-popover-row {\r\n  display: flex;\r\n  align-items: center;\r\n  transition: var(--vc-day-content-transition);\r\n}\r\n\r\n.vc-day-popover-row-indicator {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-grow: 0;\r\n  width: 15px;\r\n  & span {\r\n    transition: var(--vc-day-content-transition);\r\n  }\r\n}\r\n\r\n.vc-day-popover-row-label {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: none;\r\n  flex-grow: 1;\r\n  width: max-content;\r\n  margin-left: 4px;\r\n  margin-right: 4px;\r\n  font-size: var(--vc-text-xs);\r\n  line-height: var(--vc-leading-normal);\r\n}\r\n\r\n.vc-day-popover-row-highlight {\r\n  width: 8px;\r\n  height: 5px;\r\n  border-radius: 3px;\r\n}\r\n\r\n.vc-day-popover-row-dot {\r\n}\r\n.vc-day-popover-row-bar {\r\n  width: 10px;\r\n  height: 3px;\r\n}\r\n</style>\r\n","<template>\r\n  <!-- Content row -->\r\n  <div class=\"vc-day-popover-row\">\r\n    <!-- Indicator -->\r\n    <div v-if=\"indicator\" class=\"vc-day-popover-row-indicator\">\r\n      <span :class=\"indicator.class\" />\r\n    </div>\r\n    <!-- Content -->\r\n    <div class=\"vc-day-popover-row-label\">\r\n      <slot>{{\r\n        attribute.popover ? attribute.popover.label : 'No content provided'\r\n      }}</slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { PropType, defineComponent, computed } from 'vue';\r\nimport { Attribute } from '../../utils/attribute';\r\n\r\nexport default defineComponent({\r\n  name: 'PopoverRow',\r\n  props: {\r\n    attribute: { type: Object as PropType<Attribute>, required: true },\r\n  },\r\n  setup(props) {\r\n    const indicator = computed(() => {\r\n      const { content, highlight, dot, bar, popover } = props.attribute;\r\n      if (popover && popover.hideIndicator) return null;\r\n      if (content) {\r\n        return {\r\n          class: `vc-bar vc-day-popover-row-bar vc-attr vc-${content.base.color}`,\r\n        };\r\n      }\r\n      if (highlight) {\r\n        return {\r\n          class: `vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${highlight.base.color}`,\r\n        };\r\n      }\r\n      if (dot) {\r\n        return {\r\n          class: `vc-dot vc-attr vc-${dot.base.color}`,\r\n        };\r\n      }\r\n      if (bar) {\r\n        return {\r\n          class: `vc-bar vc-day-popover-row-bar vc-attr vc-${bar.base.color}`,\r\n        };\r\n      }\r\n      return null;\r\n    });\r\n    return {\r\n      indicator,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vc-day-popover-row {\r\n  display: flex;\r\n  align-items: center;\r\n  transition: var(--vc-day-content-transition);\r\n}\r\n\r\n.vc-day-popover-row-indicator {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-grow: 0;\r\n  width: 15px;\r\n  & span {\r\n    transition: var(--vc-day-content-transition);\r\n  }\r\n}\r\n\r\n.vc-day-popover-row-label {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: none;\r\n  flex-grow: 1;\r\n  width: max-content;\r\n  margin-left: 4px;\r\n  margin-right: 4px;\r\n  font-size: var(--vc-text-xs);\r\n  line-height: var(--vc-leading-normal);\r\n}\r\n\r\n.vc-day-popover-row-highlight {\r\n  width: 8px;\r\n  height: 5px;\r\n  border-radius: 3px;\r\n}\r\n\r\n.vc-day-popover-row-dot {\r\n}\r\n.vc-day-popover-row-bar {\r\n  width: 10px;\r\n  height: 3px;\r\n}\r\n</style>\r\n","<template>\r\n  <Popover :id=\"dayPopoverId\" :class=\"[`vc-${color}`, `vc-${displayMode}`]\">\r\n    <template #default=\"{ data: { day, attributes }, hide }\">\r\n      <slot\r\n        :day=\"day\"\r\n        :day-title=\"dayTitle(day)\"\r\n        :attributes=\"attributes\"\r\n        :format=\"format\"\r\n        :masks=\"masks\"\r\n        :hide=\"hide\"\r\n      >\r\n        <div class=\"vc-day-popover-container\">\r\n          <div v-if=\"masks.dayPopover\" class=\"vc-day-popover-header\">\r\n            {{ dayTitle(day) }}\r\n          </div>\r\n          <PopoverRow\r\n            v-for=\"attribute in attributes\"\r\n            :key=\"attribute.key\"\r\n            :attribute=\"attribute\"\r\n          />\r\n        </div>\r\n      </slot>\r\n    </template>\r\n  </Popover>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport Popover from '../Popover/Popover.vue';\r\nimport PopoverRow from '../PopoverRow/PopoverRow.vue';\r\nimport { useCalendar } from '../../use/calendar';\r\nimport { CalendarDay } from '../../utils/page';\r\n\r\nconst { dayPopoverId, displayMode, color, masks, locale } = useCalendar();\r\n\r\nfunction format(date: Date, mask: string) {\r\n  return locale.value.formatDate(date, mask);\r\n}\r\n\r\nfunction dayTitle(day: CalendarDay) {\r\n  return locale.value.formatDate(day.date, masks.value.dayPopover);\r\n}\r\n</script>\r\n","<template>\r\n  <div\r\n    data-helptext=\"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year\"\r\n    v-bind=\"$attrs\"\r\n    :class=\"[\r\n      'vc-container',\r\n      `vc-${view}`,\r\n      'vc-bordered',\r\n      `vc-${color}`,\r\n      `vc-${displayMode}`,\r\n      {\r\n        'vc-expanded': isExpanded,\r\n      },\r\n    ]\"\r\n    @mouseup.prevent\r\n    ref=\"containerRef\"\r\n  >\r\n    <!--Calendar Container-->\r\n    <div :class=\"['vc-pane-container', { 'in-transition': inTransition }]\">\r\n      <div class=\"vc-pane-header-wrapper\">\r\n        <CalendarHeader :page=\"firstPage!\" is-lg hide-title />\r\n      </div>\r\n      <Transition\r\n        :name=\"`vc-${transitionName}`\"\r\n        @before-enter=\"onTransitionBeforeEnter\"\r\n        @after-enter=\"onTransitionAfterEnter\"\r\n      >\r\n        <!--Calendar Layout-->\r\n        <div\r\n          :key=\"pages[0].id\"\r\n          class=\"vc-pane-layout\"\r\n          :style=\"{\r\n            gridTemplateColumns: `repeat(${columns}, 1fr)`,\r\n          }\"\r\n        >\r\n          <!--Calendar Panes-->\r\n          <CalendarPane v-for=\"page in pages\" :key=\"page.id\" :page=\"page\" />\r\n        </div>\r\n      </Transition>\r\n      <slot name=\"footer\" />\r\n    </div>\r\n  </div>\r\n  <!--Day popover-->\r\n  <CalendarDayPopover\r\n    ><template #default=\"props\"\r\n      ><slot name=\"day-popover\" v-bind=\"props\" /></template\r\n  ></CalendarDayPopover>\r\n  <!--Nav popover-->\r\n  <CalendarNavPopover />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue';\r\nimport CalendarHeader from '../CalendarHeader/CalendarHeader.vue';\r\nimport CalendarPane from '../CalendarPane/CalendarPane.vue';\r\nimport CalendarNavPopover from '../CalendarNavPopover/CalendarNavPopover.vue';\r\nimport CalendarDayPopover from '../CalendarDayPopover/CalendarDayPopover.vue';\r\nimport { emitsDef, propsDef, createCalendar } from '../../use/calendar';\r\n\r\nexport default defineComponent({\r\n  name: 'Calendar',\r\n  components: {\r\n    CalendarHeader,\r\n    CalendarPane,\r\n    CalendarNavPopover,\r\n    CalendarDayPopover,\r\n  },\r\n  emits: emitsDef,\r\n  props: propsDef,\r\n  setup(props, { emit }) {\r\n    return createCalendar(props, { emit });\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n.vc-pane-container {\r\n  width: 100%;\r\n  position: relative;\r\n  &.in-transition {\r\n    overflow: hidden;\r\n  }\r\n}\r\n\r\n.vc-pane-layout {\r\n  display: grid;\r\n}\r\n\r\n.vc-pane-header-wrapper {\r\n  position: absolute;\r\n  width: 100%;\r\n  pointer-events: none;\r\n}\r\n\r\n.vc-arrow {\r\n  grid-row: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  pointer-events: auto;\r\n  color: var(--vc-header-arrow-color);\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  border-radius: var(--vc-rounded);\r\n  border-color: transparent;\r\n  width: 28px;\r\n  height: 30px;\r\n  z-index: 1;\r\n  &:hover {\r\n    background: var(--vc-header-arrow-hover-bg);\r\n  }\r\n  &.vc-disabled {\r\n    opacity: 0.25;\r\n    pointer-events: none;\r\n  }\r\n}\r\n\r\n.vc-day-popover-container {\r\n  font-size: var(--vc-text-xs);\r\n  font-weight: var(--vc-font-medium);\r\n}\r\n\r\n.vc-day-popover-header {\r\n  font-size: var(--vc-text-xs);\r\n  color: var(--vc-day-popover-header-color);\r\n  font-weight: var(--vc-font-semibold);\r\n  text-align: center;\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    data-helptext=\"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year\"\r\n    v-bind=\"$attrs\"\r\n    :class=\"[\r\n      'vc-container',\r\n      `vc-${view}`,\r\n      'vc-bordered',\r\n      `vc-${color}`,\r\n      `vc-${displayMode}`,\r\n      {\r\n        'vc-expanded': isExpanded,\r\n      },\r\n    ]\"\r\n    @mouseup.prevent\r\n    ref=\"containerRef\"\r\n  >\r\n    <!--Calendar Container-->\r\n    <div :class=\"['vc-pane-container', { 'in-transition': inTransition }]\">\r\n      <div class=\"vc-pane-header-wrapper\">\r\n        <CalendarHeader :page=\"firstPage!\" is-lg hide-title />\r\n      </div>\r\n      <Transition\r\n        :name=\"`vc-${transitionName}`\"\r\n        @before-enter=\"onTransitionBeforeEnter\"\r\n        @after-enter=\"onTransitionAfterEnter\"\r\n      >\r\n        <!--Calendar Layout-->\r\n        <div\r\n          :key=\"pages[0].id\"\r\n          class=\"vc-pane-layout\"\r\n          :style=\"{\r\n            gridTemplateColumns: `repeat(${columns}, 1fr)`,\r\n          }\"\r\n        >\r\n          <!--Calendar Panes-->\r\n          <CalendarPane v-for=\"page in pages\" :key=\"page.id\" :page=\"page\" />\r\n        </div>\r\n      </Transition>\r\n      <slot name=\"footer\" />\r\n    </div>\r\n  </div>\r\n  <!--Day popover-->\r\n  <CalendarDayPopover\r\n    ><template #default=\"props\"\r\n      ><slot name=\"day-popover\" v-bind=\"props\" /></template\r\n  ></CalendarDayPopover>\r\n  <!--Nav popover-->\r\n  <CalendarNavPopover />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue';\r\nimport CalendarHeader from '../CalendarHeader/CalendarHeader.vue';\r\nimport CalendarPane from '../CalendarPane/CalendarPane.vue';\r\nimport CalendarNavPopover from '../CalendarNavPopover/CalendarNavPopover.vue';\r\nimport CalendarDayPopover from '../CalendarDayPopover/CalendarDayPopover.vue';\r\nimport { emitsDef, propsDef, createCalendar } from '../../use/calendar';\r\n\r\nexport default defineComponent({\r\n  name: 'Calendar',\r\n  components: {\r\n    CalendarHeader,\r\n    CalendarPane,\r\n    CalendarNavPopover,\r\n    CalendarDayPopover,\r\n  },\r\n  emits: emitsDef,\r\n  props: propsDef,\r\n  setup(props, { emit }) {\r\n    return createCalendar(props, { emit });\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n.vc-pane-container {\r\n  width: 100%;\r\n  position: relative;\r\n  &.in-transition {\r\n    overflow: hidden;\r\n  }\r\n}\r\n\r\n.vc-pane-layout {\r\n  display: grid;\r\n}\r\n\r\n.vc-pane-header-wrapper {\r\n  position: absolute;\r\n  width: 100%;\r\n  pointer-events: none;\r\n}\r\n\r\n.vc-arrow {\r\n  grid-row: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  pointer-events: auto;\r\n  color: var(--vc-header-arrow-color);\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  border-radius: var(--vc-rounded);\r\n  border-color: transparent;\r\n  width: 28px;\r\n  height: 30px;\r\n  z-index: 1;\r\n  &:hover {\r\n    background: var(--vc-header-arrow-hover-bg);\r\n  }\r\n  &.vc-disabled {\r\n    opacity: 0.25;\r\n    pointer-events: none;\r\n  }\r\n}\r\n\r\n.vc-day-popover-container {\r\n  font-size: var(--vc-text-xs);\r\n  font-weight: var(--vc-font-medium);\r\n}\r\n\r\n.vc-day-popover-header {\r\n  font-size: var(--vc-text-xs);\r\n  color: var(--vc-day-popover-header-color);\r\n  font-weight: var(--vc-font-semibold);\r\n  text-align: center;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"vc-base-select\">\r\n    <BaseIcon v-if=\"showIcon\" name=\"ChevronDown\" :size=\"small ? '16' : '18'\" />\r\n    <select\r\n      v-bind=\"$attrs\"\r\n      :value=\"modelValue\"\r\n      class=\"vc-focus\"\r\n      :class=\"{\r\n        'vc-has-icon': showIcon,\r\n        'vc-align-right': alignRight,\r\n        'vc-align-left': alignLeft,\r\n        'vc-small': small,\r\n      }\"\r\n      @change=\"$emit('update:modelValue', $event.target.value)\"\r\n    >\r\n      <option\r\n        v-for=\"option in options\"\r\n        :key=\"option.value\"\r\n        :value=\"option.value\"\r\n        :disabled=\"option.disabled\"\r\n      >\r\n        {{ option.label }}\r\n      </option>\r\n    </select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  inheritAttrs: false,\r\n};\r\n</script>\r\n\r\n<script setup>\r\nimport BaseIcon from '../BaseIcon/BaseIcon.vue';\r\n\r\ndefineProps({\r\n  options: Array,\r\n  modelValue: null,\r\n  alignRight: Boolean,\r\n  alignLeft: Boolean,\r\n  showIcon: Boolean,\r\n  small: Boolean,\r\n});\r\ndefineEmits(['update:modelValue']);\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vc-base-select {\r\n  position: relative;\r\n  & select {\r\n    color: var(--vc-select-color);\r\n    display: block;\r\n    appearance: none;\r\n    background-color: transparent;\r\n    font-size: var(--vc-text-base);\r\n    font-weight: var(--vc-font-medium);\r\n    border-radius: var(--vc-rounded);\r\n    height: 30px;\r\n    width: max-content;\r\n    padding: 0px 4px;\r\n    margin: 0;\r\n    line-height: var(--leading-none);\r\n    text-indent: 0px;\r\n    background-image: none;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    &:hover {\r\n      background-color: var(--vc-select-hover-bg);\r\n    }\r\n    &.vc-has-icon {\r\n      padding: 0px 24px 0 10px;\r\n    }\r\n    &.vc-small {\r\n      font-size: var(--vc-text-sm);\r\n      &.vc-has-icon {\r\n        padding: 0 20px 0 8 px;\r\n      }\r\n    }\r\n    &.vc-align-left {\r\n      text-align: left;\r\n    }\r\n    &.vc-align-right {\r\n      text-align: right;\r\n    }\r\n  }\r\n  & .vc-base-icon {\r\n    position: absolute;\r\n    top: 6px;\r\n    right: 4px;\r\n    opacity: 0.6;\r\n    pointer-events: none;\r\n  }\r\n}\r\n</style>\r\n","import {\r\n  SetupContext,\r\n  ExtractPropTypes,\r\n  PropType,\r\n  ref,\r\n  computed,\r\n  watch,\r\n  onMounted,\r\n  nextTick,\r\n  toRef,\r\n  inject,\r\n  provide,\r\n} from 'vue';\r\nimport Calendar from '../components/Calendar.vue';\r\nimport Popover from '../components/Popover.vue';\r\nimport { getDefault } from '../utils/defaults';\r\nimport { AttributeConfig } from '../utils/attribute';\r\nimport {\r\n  CalendarDay,\r\n  getPageAddressForDate,\r\n  pageIsBetweenPages,\r\n} from '../utils/page';\r\nimport {\r\n  isObject,\r\n  isArray,\r\n  isDate,\r\n  defaultsDeep,\r\n  createGuid,\r\n} from '../utils/helpers';\r\nimport { DatePatch, DateParts, DatePartsRules } from '../utils/date/helpers';\r\nimport { SimpleDateRange } from '../utils/date/range';\r\nimport {\r\n  PopoverOptions,\r\n  showPopover as sp,\r\n  hidePopover as hp,\r\n  togglePopover as tp,\r\n  getPopoverEventHandlers,\r\n} from '../utils/popovers';\r\nimport { propsDef as basePropsDef, createBase } from './base';\r\nimport { MoveTarget, MoveOptions } from './calendar';\r\n\r\nexport type DateType = 'date' | 'string' | 'number';\r\n\r\nexport interface DateConfig {\r\n  type: DateType;\r\n  rules: DatePartsRules;\r\n  mask?: string;\r\n}\r\n\r\nconst contextKey = '__vc_date_picker_context__';\r\n\r\nexport type DateModes = 'date' | 'datetime' | 'time';\r\n\r\nexport type ValueTarget = 'none' | 'start' | 'end' | 'both';\r\nexport type InputValueTarget = 'start' | 'end';\r\n\r\nexport interface UpdateOptions {\r\n  config: any;\r\n  patch: DatePatch;\r\n  debounce: number;\r\n  clearIfEqual: boolean;\r\n  formatInput: boolean;\r\n  hidePopover: boolean;\r\n  dragging: boolean;\r\n  targetPriority: ValueTarget;\r\n  moveToValue: boolean;\r\n}\r\n\r\nexport interface ModelModifiers {\r\n  number?: boolean;\r\n  string?: boolean;\r\n  range?: boolean;\r\n}\r\n\r\nexport type DatePickerDate = number | string | Date | null;\r\nexport type DatePickerRangeArray = [DatePickerDate, DatePickerDate];\r\nexport type DatePickerRangeObject = Partial<{\r\n  start: DatePickerDate;\r\n  end: DatePickerDate;\r\n}>;\r\n\r\nexport type DatePickerContext = ReturnType<typeof createDatePicker>;\r\n\r\nexport type DatePickerProps = Readonly<ExtractPropTypes<typeof propsDef>>;\r\n\r\nexport const propsDef = {\r\n  ...basePropsDef,\r\n  mode: { type: String, default: 'date' },\r\n  modelValue: {\r\n    type: [Number, String, Date, Object] as PropType<\r\n      number | string | Date | DatePickerRangeObject | null\r\n    >,\r\n  },\r\n  modelModifiers: {\r\n    type: Object as PropType<ModelModifiers>,\r\n    default: () => ({}),\r\n  },\r\n  rules: [String, Object] as PropType<'auto' | DatePartsRules>,\r\n  is24hr: Boolean,\r\n  hideTimeHeader: Boolean,\r\n  timeAccuracy: { type: Number, default: 2 },\r\n  isRequired: Boolean,\r\n  isRange: Boolean,\r\n  updateOnInput: {\r\n    type: Boolean,\r\n    default: () => getDefault('datePicker.updateOnInput'),\r\n  },\r\n  inputDebounce: {\r\n    type: Number,\r\n    default: () => getDefault('datePicker.inputDebounce'),\r\n  },\r\n  popover: {\r\n    type: [Boolean, Object] as PropType<boolean | Partial<PopoverOptions>>,\r\n    default: true,\r\n  },\r\n  dragAttribute: Object as PropType<AttributeConfig>,\r\n  selectAttribute: Object as PropType<AttributeConfig>,\r\n  attributes: [Object, Array],\r\n};\r\n\r\nexport const emits = [\r\n  'update:modelValue',\r\n  'drag',\r\n  'dayclick',\r\n  'daykeydown',\r\n  'popover-will-show',\r\n  'popover-did-show',\r\n  'popover-will-hide',\r\n  'popover-did-hide',\r\n];\r\n\r\nexport function createDatePicker(\r\n  props: DatePickerProps,\r\n  ctx: SetupContext<string[]>,\r\n) {\r\n  const baseCtx = createBase(props);\r\n  const { locale, masks, disabledAttribute } = baseCtx;\r\n  const { emit } = ctx;\r\n\r\n  const showCalendar = ref(false);\r\n  const datePickerPopoverId = ref(createGuid());\r\n  const dateValue = ref<null | Date | SimpleDateRange>(null);\r\n  const dragValue = ref<null | SimpleDateRange>(null);\r\n  const inputValues = ref<string[]>(['', '']);\r\n  const popoverRef = ref<InstanceType<typeof Popover> | null>(null);\r\n  const calendarRef = ref<InstanceType<typeof Calendar> | null>(null);\r\n\r\n  let updateTimeout: undefined | number = undefined;\r\n  let dragTrackingValue: null | SimpleDateRange;\r\n  let watchValue = true;\r\n\r\n  // #region Computed\r\n\r\n  const isRange = computed(() => {\r\n    return props.isRange || props.modelModifiers.range === true;\r\n  });\r\n\r\n  const valueStart = computed(() =>\r\n    isRange.value && dateValue.value != null\r\n      ? (dateValue.value as SimpleDateRange).start\r\n      : null,\r\n  );\r\n\r\n  const valueEnd = computed(() =>\r\n    isRange.value && dateValue.value != null\r\n      ? (dateValue.value as SimpleDateRange).end\r\n      : null,\r\n  );\r\n\r\n  const isDateMode = computed(() => props.mode.toLowerCase() === 'date');\r\n  const isDateTimeMode = computed(\r\n    () => props.mode.toLowerCase() === 'datetime',\r\n  );\r\n  const isTimeMode = computed(() => props.mode.toLowerCase() === 'time');\r\n\r\n  const isDragging = computed(() => !!dragValue.value);\r\n\r\n  const modelConfig = computed(() => {\r\n    let type: DateType = 'date';\r\n    if (props.modelModifiers.number) type = 'number';\r\n    if (props.modelModifiers.string) type = 'string';\r\n    const mask = masks.value.modelValue || 'iso';\r\n    return normalizeConfig(<DateConfig>{ type, mask });\r\n  });\r\n\r\n  const dateParts = computed(() =>\r\n    getDateParts(dragValue.value ?? dateValue.value),\r\n  );\r\n\r\n  const inputMask = computed(() => {\r\n    if (isTimeMode.value) {\r\n      return props.is24hr ? masks.value.inputTime24hr : masks.value.inputTime;\r\n    }\r\n    if (isDateTimeMode.value) {\r\n      return props.is24hr\r\n        ? masks.value.inputDateTime24hr\r\n        : masks.value.inputDateTime;\r\n    }\r\n    return masks.value.input;\r\n  });\r\n\r\n  const inputMaskHasTime = computed(() => /[Hh]/g.test(inputMask.value));\r\n\r\n  const inputMaskHasDate = computed(() =>\r\n    /[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(inputMask.value),\r\n  );\r\n\r\n  const inputMaskPatch = computed(() => {\r\n    if (inputMaskHasTime.value && inputMaskHasDate.value) {\r\n      return 'dateTime';\r\n    }\r\n    if (inputMaskHasDate.value) return 'date';\r\n    if (inputMaskHasTime.value) return 'time';\r\n    return undefined;\r\n  });\r\n\r\n  const popover = computed(() => {\r\n    const target = popoverRef.value?.$el.previousElementSibling ?? undefined;\r\n    return defaultsDeep({}, props.popover, getDefault('datePicker.popover'), {\r\n      target,\r\n    }) as Partial<PopoverOptions>;\r\n  });\r\n\r\n  const popoverEvents = computed(() =>\r\n    getPopoverEventHandlers({\r\n      ...popover.value,\r\n      id: datePickerPopoverId.value,\r\n    }),\r\n  );\r\n\r\n  const inputValue = computed(() => {\r\n    return isRange.value\r\n      ? {\r\n          start: inputValues.value[0],\r\n          end: inputValues.value[1],\r\n        }\r\n      : inputValues.value[0];\r\n  });\r\n\r\n  const inputEvents = computed(() => {\r\n    const events = (['start', 'end'] as const).map(target => ({\r\n      input: onInputInput(target),\r\n      change: onInputChange(target),\r\n      keyup: onInputKeyup,\r\n      ...(props.popover && popoverEvents.value),\r\n    }));\r\n    return isRange.value\r\n      ? {\r\n          start: events[0],\r\n          end: events[1],\r\n        }\r\n      : events[0];\r\n  });\r\n\r\n  const selectAttribute = computed(() => {\r\n    if (!hasValue(dateValue.value)) return null;\r\n    const attribute = {\r\n      key: 'select-drag',\r\n      ...props.selectAttribute,\r\n      dates: dateValue.value,\r\n      pinPage: true,\r\n    };\r\n    const { dot, bar, highlight, content } = attribute;\r\n    if (!dot && !bar && !highlight && !content) {\r\n      attribute.highlight = true;\r\n    }\r\n    return attribute;\r\n  });\r\n\r\n  const dragAttribute = computed(() => {\r\n    if (!isRange.value || !hasValue(dragValue.value)) {\r\n      return null;\r\n    }\r\n    const attribute = {\r\n      key: 'select-drag',\r\n      ...props.dragAttribute,\r\n      dates: dragValue.value,\r\n    };\r\n    const { dot, bar, highlight, content } = attribute;\r\n    if (!dot && !bar && !highlight && !content) {\r\n      attribute.highlight = {\r\n        startEnd: {\r\n          fillMode: 'outline',\r\n        },\r\n      };\r\n    }\r\n    return attribute;\r\n  });\r\n\r\n  const attributes = computed(() => {\r\n    const attrs = isArray(props.attributes) ? [...props.attributes] : [];\r\n    if (dragAttribute.value) {\r\n      attrs.unshift(dragAttribute.value);\r\n    } else if (selectAttribute.value) {\r\n      attrs.unshift(selectAttribute.value);\r\n    }\r\n    return attrs;\r\n  });\r\n\r\n  const rules = computed(() => {\r\n    return normalizeConfig(\r\n      props.rules === 'auto' ? getAutoRules() : props.rules ?? {},\r\n    );\r\n  });\r\n\r\n  // #endregion Computed\r\n\r\n  function getAutoRules() {\r\n    const _rules = {\r\n      ms: [0, 999],\r\n      sec: [0, 59],\r\n      min: [0, 59],\r\n      hr: [0, 23],\r\n    };\r\n    const accuracy = isDateMode.value ? 0 : props.timeAccuracy;\r\n    return [0, 1].map(i => {\r\n      switch (accuracy) {\r\n        case 0:\r\n          return {\r\n            hours: _rules.hr[i],\r\n            minutes: _rules.min[i],\r\n            seconds: _rules.sec[i],\r\n            milliseconds: _rules.ms[i],\r\n          };\r\n        case 1:\r\n          return {\r\n            minutes: _rules.min[i],\r\n            seconds: _rules.sec[i],\r\n            milliseconds: _rules.ms[i],\r\n          };\r\n        case 3:\r\n          return { milliseconds: _rules.ms[i] };\r\n        case 4:\r\n          return {};\r\n        default:\r\n          return { seconds: _rules.sec[i], milliseconds: _rules.ms[i] };\r\n      }\r\n    });\r\n  }\r\n\r\n  function normalizeConfig<T>(config: T | T[]): T[] {\r\n    if (isArray(config)) {\r\n      if (config.length === 1) return [config[0], config[0]];\r\n      return config;\r\n    }\r\n    return [config, config];\r\n  }\r\n\r\n  function normalizeDateConfig(\r\n    config: Partial<DateConfig> | Partial<DateConfig>[],\r\n  ): DateConfig[] {\r\n    return normalizeConfig(config).map(\r\n      (c, i) =>\r\n        ({\r\n          ...c,\r\n          rules: rules.value[i],\r\n        } as DateConfig),\r\n    );\r\n  }\r\n\r\n  function hasValue(value: any) {\r\n    if (isRange.value) {\r\n      return isObject(value) && value.start != null && value.end != null;\r\n    }\r\n    return value != null;\r\n  }\r\n\r\n  function datesAreEqual(a: any, b: any): boolean {\r\n    const aIsDate = isDate(a);\r\n    const bIsDate = isDate(b);\r\n    if (!aIsDate && !bIsDate) return true;\r\n    if (aIsDate !== bIsDate) return false;\r\n    return a.getTime() === b.getTime();\r\n  }\r\n\r\n  function valuesAreEqual(a: any, b: any) {\r\n    if (isRange.value) {\r\n      const aHasValue = hasValue(a);\r\n      const bHasValue = hasValue(b);\r\n      if (!aHasValue && !bHasValue) return true;\r\n      if (aHasValue !== bHasValue) return false;\r\n      return datesAreEqual(a.start, b.start) && datesAreEqual(a.end, b.end);\r\n    }\r\n    return datesAreEqual(a, b);\r\n  }\r\n\r\n  function valueIsDisabled(value: any) {\r\n    if (!hasValue(value) || !disabledAttribute.value) return false;\r\n    return disabledAttribute.value.intersectsRange(locale.value.range(value));\r\n  }\r\n\r\n  function normalizeValue(\r\n    value: any,\r\n    config: DateConfig[],\r\n    patch: DatePatch,\r\n    targetPriority: ValueTarget,\r\n  ): Date | SimpleDateRange | null {\r\n    if (!hasValue(value)) return null;\r\n    if (isRange.value) {\r\n      let start = value.start > value.end ? value.end : value.start;\r\n      start = locale.value.toDate(start, {\r\n        ...config[0],\r\n        fillDate: valueStart.value ?? undefined,\r\n        patch,\r\n      });\r\n      let end = value.start > value.end ? value.start : value.end;\r\n      end = locale.value.toDate(end, {\r\n        ...config[1],\r\n        fillDate: valueEnd.value ?? undefined,\r\n        patch,\r\n      });\r\n      return sortRange({ start, end }, targetPriority);\r\n    }\r\n    return locale.value.toDate(value, {\r\n      ...config[0],\r\n      fillDate: dateValue.value as Date,\r\n      patch,\r\n    });\r\n  }\r\n\r\n  function denormalizeValue(value: any, config: DateConfig[]) {\r\n    if (isRange.value) {\r\n      if (!hasValue(value)) return null;\r\n      return {\r\n        start: locale.value.fromDate(value.start, config[0]),\r\n        end: locale.value.fromDate(value.end, config[1]),\r\n      };\r\n    }\r\n    return locale.value.fromDate(value, config[0]);\r\n  }\r\n\r\n  function updateValue(\r\n    value: any,\r\n    opts: Partial<UpdateOptions> = {},\r\n  ): Promise<ReturnType<typeof forceUpdateValue>> {\r\n    clearTimeout(updateTimeout);\r\n    return new Promise(resolve => {\r\n      const { debounce = 0, ...args } = opts;\r\n      if (debounce > 0) {\r\n        updateTimeout = window.setTimeout(() => {\r\n          resolve(forceUpdateValue(value, args));\r\n        }, debounce);\r\n      } else {\r\n        resolve(forceUpdateValue(value, args));\r\n      }\r\n    });\r\n  }\r\n\r\n  function forceUpdateValue(\r\n    value: any,\r\n    {\r\n      config = modelConfig.value,\r\n      patch = 'dateTime',\r\n      clearIfEqual = false,\r\n      formatInput: fInput = true,\r\n      hidePopover: hPopover = false,\r\n      dragging = isDragging.value,\r\n      targetPriority = 'both',\r\n      moveToValue: mValue = false,\r\n    }: Partial<UpdateOptions> = {},\r\n  ) {\r\n    // 1. Normalization\r\n    const normalizedConfig = normalizeDateConfig(config);\r\n    let normalizedValue = normalizeValue(\r\n      value,\r\n      normalizedConfig,\r\n      patch,\r\n      targetPriority,\r\n    );\r\n\r\n    // 2a. Validation against disabled dates\r\n    const isDisabled = valueIsDisabled(normalizedValue);\r\n    if (isDisabled) {\r\n      if (dragging) return null;\r\n      normalizedValue = dateValue.value;\r\n      // Don't allow hiding popover\r\n      hPopover = false;\r\n      // 2b. Validation against is-required or clearIfEqual\r\n    } else if (normalizedValue == null && props.isRequired) {\r\n      // Reset to previous value if it was cleared but is required\r\n      normalizedValue = dateValue.value;\r\n      // 2c. Validation against clearIfEqual\r\n    } else if (\r\n      // Clear value if same value was passed\r\n      normalizedValue != null &&\r\n      valuesAreEqual(dateValue.value, normalizedValue) &&\r\n      clearIfEqual\r\n    ) {\r\n      normalizedValue = null;\r\n    }\r\n\r\n    // 3. Assignment\r\n    const valueRef = dragging ? dragValue : dateValue;\r\n    const notify = !valuesAreEqual(valueRef.value, normalizedValue);\r\n    valueRef.value = normalizedValue;\r\n    // Clear drag value if needed\r\n    if (!dragging) dragValue.value = null;\r\n    // Denormalize value using the model config\r\n    const denormalizedValue = denormalizeValue(\r\n      normalizedValue,\r\n      modelConfig.value,\r\n    );\r\n\r\n    // 4. Notification\r\n    if (notify) {\r\n      watchValue = false;\r\n      emit(dragging ? 'drag' : 'update:modelValue', denormalizedValue);\r\n      nextTick(() => (watchValue = true));\r\n    }\r\n\r\n    // 5. Hide popover if needed\r\n    if (hPopover && !dragging) hidePopover();\r\n\r\n    // 6. Format inputs if needed\r\n    if (fInput) formatInput();\r\n\r\n    // 7. Move to range target if needed\r\n    if (mValue) {\r\n      nextTick(() => moveToValue(targetPriority));\r\n    }\r\n\r\n    return denormalizedValue;\r\n  }\r\n\r\n  function formatInput() {\r\n    nextTick(() => {\r\n      const config = normalizeDateConfig({\r\n        type: 'string',\r\n        mask: inputMask.value,\r\n      });\r\n      const value = denormalizeValue(\r\n        dragValue.value || dateValue.value,\r\n        config,\r\n      );\r\n      if (isRange.value) {\r\n        // @ts-ignore\r\n        inputValues.value = [value && value.start, value && value.end];\r\n      } else {\r\n        inputValues.value = [value as string, ''];\r\n      }\r\n    });\r\n  }\r\n\r\n  function onInputUpdate(\r\n    inputValue: string,\r\n    target: InputValueTarget,\r\n    opts: Partial<UpdateOptions>,\r\n  ) {\r\n    inputValues.value.splice(target === 'start' ? 0 : 1, 1, inputValue);\r\n    const value = isRange.value\r\n      ? {\r\n          start: inputValues.value[0],\r\n          end: inputValues.value[1] || inputValues.value[0],\r\n        }\r\n      : inputValue;\r\n    const config = {\r\n      type: 'string',\r\n      mask: inputMask.value,\r\n    };\r\n    updateValue(value, {\r\n      ...opts,\r\n      config,\r\n      patch: inputMaskPatch.value,\r\n      targetPriority: target,\r\n      moveToValue: true,\r\n    });\r\n  }\r\n\r\n  function onInputInput(target: InputValueTarget) {\r\n    return (e: InputEvent) => {\r\n      if (!props.updateOnInput) return;\r\n      onInputUpdate((<HTMLInputElement>e.currentTarget).value, target, {\r\n        formatInput: false,\r\n        hidePopover: false,\r\n        debounce: props.inputDebounce,\r\n      });\r\n    };\r\n  }\r\n\r\n  function onInputChange(target: InputValueTarget) {\r\n    return (e: InputEvent) => {\r\n      onInputUpdate((<HTMLInputElement>e.currentTarget).value, target, {\r\n        formatInput: true,\r\n        hidePopover: false,\r\n      });\r\n    };\r\n  }\r\n\r\n  function onInputKeyup(e: KeyboardEvent) {\r\n    // Escape key only\r\n    if (e.key !== 'Escape') return;\r\n    updateValue(dateValue.value, {\r\n      formatInput: true,\r\n      hidePopover: true,\r\n    });\r\n  }\r\n\r\n  function getDateParts(value: any): (DateParts | null)[] {\r\n    if (isRange.value) {\r\n      return [\r\n        value && value.start ? locale.value.getDateParts(value.start) : null,\r\n        value && value.end ? locale.value.getDateParts(value.end) : null,\r\n      ];\r\n    }\r\n    return [value ? locale.value.getDateParts(value) : null];\r\n  }\r\n\r\n  function cancelDrag() {\r\n    dragValue.value = null;\r\n    formatInput();\r\n  }\r\n\r\n  function onPopoverBeforeShow(el: HTMLElement) {\r\n    emit('popover-will-show', el);\r\n  }\r\n\r\n  function onPopoverAfterShow(el: HTMLElement) {\r\n    emit('popover-did-show', el);\r\n  }\r\n\r\n  function onPopoverBeforeHide(el: HTMLElement) {\r\n    cancelDrag();\r\n    emit('popover-will-hide', el);\r\n  }\r\n\r\n  function onPopoverAfterHide(el: HTMLElement) {\r\n    emit('popover-did-hide', el);\r\n  }\r\n\r\n  function handleDayClick(day: CalendarDay) {\r\n    const opts: Partial<UpdateOptions> = {\r\n      patch: 'date',\r\n      formatInput: true,\r\n      hidePopover: true,\r\n    };\r\n    if (isRange.value) {\r\n      const dragging = !isDragging.value;\r\n      if (dragging) {\r\n        dragTrackingValue = { start: day.startDate, end: day.endDate };\r\n      } else if (dragTrackingValue != null) {\r\n        dragTrackingValue.end = day.date;\r\n      }\r\n      updateValue(dragTrackingValue, {\r\n        ...opts,\r\n        dragging,\r\n        targetPriority: dragging ? 'none' : 'both',\r\n      });\r\n    } else {\r\n      updateValue(day.date, {\r\n        ...opts,\r\n        clearIfEqual: !props.isRequired,\r\n      });\r\n    }\r\n  }\r\n\r\n  function onDayClick(day: CalendarDay, event: MouseEvent) {\r\n    handleDayClick(day);\r\n    // Re-emit event\r\n    emit('dayclick', day, event);\r\n  }\r\n\r\n  function onDayKeydown(day: CalendarDay, event: KeyboardEvent) {\r\n    switch (event.key) {\r\n      case ' ':\r\n      case 'Enter': {\r\n        handleDayClick(day);\r\n        event.preventDefault();\r\n        break;\r\n      }\r\n      case 'Escape': {\r\n        hidePopover();\r\n      }\r\n    }\r\n    // Re-emit event\r\n    emit('daykeydown', day, event);\r\n  }\r\n\r\n  function onDayMouseEnter(day: CalendarDay, event: MouseEvent) {\r\n    if (!isDragging.value || dragTrackingValue == null) return;\r\n    dragTrackingValue.end = day.date;\r\n    updateValue(dragTrackingValue, {\r\n      patch: 'date',\r\n      formatInput: true,\r\n      targetPriority: 'none',\r\n    });\r\n  }\r\n\r\n  function showPopover(opts: Partial<PopoverOptions> = {}) {\r\n    sp({\r\n      ...popover.value,\r\n      ...opts,\r\n      isInteractive: true,\r\n      id: datePickerPopoverId.value,\r\n    });\r\n  }\r\n\r\n  function hidePopover(opts: Partial<PopoverOptions> = {}) {\r\n    hp({\r\n      hideDelay: 10,\r\n      force: true,\r\n      ...popover.value,\r\n      ...opts,\r\n      id: datePickerPopoverId.value,\r\n    });\r\n  }\r\n\r\n  function togglePopover(opts: Partial<PopoverOptions>) {\r\n    tp({\r\n      ...popover.value,\r\n      ...opts,\r\n      isInteractive: true,\r\n      id: datePickerPopoverId.value,\r\n    });\r\n  }\r\n\r\n  function sortRange(range: any, priority = 'none') {\r\n    const { start, end } = range;\r\n    if (start > end) {\r\n      switch (priority) {\r\n        case 'start':\r\n          return { start, end: start };\r\n        case 'end':\r\n          return { start: end, end };\r\n        case 'both':\r\n          return { start: end, end: start };\r\n      }\r\n    }\r\n    return { start, end };\r\n  }\r\n\r\n  function getPageForValue(isStart: boolean) {\r\n    if (hasValue(dateValue.value)) {\r\n      const date = isRange.value\r\n        ? isStart\r\n          ? valueStart.value\r\n          : valueEnd.value\r\n        : dateValue.value;\r\n      return getPageAddressForDate(date as Date, 'monthly', locale.value);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  async function move(target: MoveTarget, opts: Partial<MoveOptions> = {}) {\r\n    if (calendarRef.value == null) return false;\r\n    return calendarRef.value.move(target, opts);\r\n  }\r\n\r\n  async function moveBy(pages: number, opts: Partial<MoveOptions> = {}) {\r\n    if (calendarRef.value == null) return false;\r\n    return calendarRef.value.moveBy(pages, opts);\r\n  }\r\n\r\n  async function moveToValue(\r\n    target: ValueTarget,\r\n    opts: Partial<MoveOptions> = {},\r\n  ) {\r\n    if (calendarRef.value == null || target === 'none') return false;\r\n    const { firstPage, lastPage, move } = calendarRef.value;\r\n    const start = target !== 'end';\r\n    const page = getPageForValue(start);\r\n    const position = start ? 1 : -1;\r\n    if (!page || pageIsBetweenPages(page, firstPage, lastPage)) return false;\r\n    return move(page, {\r\n      position,\r\n      ...opts,\r\n    });\r\n  }\r\n\r\n  // #endregion Methods\r\n\r\n  // #region Watch\r\n\r\n  watch(\r\n    () => props.isRange,\r\n    val => {\r\n      if (val) {\r\n        console.warn(\r\n          'The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.',\r\n        );\r\n      }\r\n    },\r\n    { immediate: true },\r\n  );\r\n  watch(\r\n    () => inputMask.value,\r\n    () => formatInput(),\r\n  );\r\n  watch(\r\n    () => props.modelValue,\r\n    val => {\r\n      if (!watchValue) return;\r\n      forceUpdateValue(val, {\r\n        formatInput: true,\r\n        hidePopover: false,\r\n      });\r\n    },\r\n  );\r\n  watch(\r\n    () => rules.value,\r\n    () => {\r\n      if (isObject(props.rules)) {\r\n        forceUpdateValue(props.modelValue, {\r\n          formatInput: true,\r\n          hidePopover: false,\r\n        });\r\n      }\r\n    },\r\n  );\r\n  watch(\r\n    () => props.timezone,\r\n    () => {\r\n      forceUpdateValue(dateValue.value, { formatInput: true });\r\n    },\r\n  );\r\n\r\n  // #endregion Watch\r\n\r\n  // #region Lifecycle\r\n\r\n  // Set initial date value (no validation applied)\r\n  const config = normalizeConfig(modelConfig.value);\r\n  dateValue.value = normalizeValue(\r\n    props.modelValue,\r\n    config,\r\n    'dateTime',\r\n    'both',\r\n  );\r\n\r\n  onMounted(() => {\r\n    forceUpdateValue(props.modelValue, {\r\n      formatInput: true,\r\n      hidePopover: false,\r\n    });\r\n  });\r\n\r\n  // Created\r\n  // Waiting a tick allows calendar to initialize page\r\n  nextTick(() => (showCalendar.value = true));\r\n\r\n  // #endregion Lifecycle\r\n\r\n  const context = {\r\n    ...baseCtx,\r\n    showCalendar,\r\n    datePickerPopoverId,\r\n    popoverRef,\r\n    popoverEvents,\r\n    calendarRef,\r\n    isRange,\r\n    isTimeMode,\r\n    isDateTimeMode,\r\n    is24hr: toRef(props, 'is24hr'),\r\n    hideTimeHeader: toRef(props, 'hideTimeHeader'),\r\n    timeAccuracy: toRef(props, 'timeAccuracy'),\r\n    isDragging,\r\n    inputValue,\r\n    inputEvents,\r\n    dateParts,\r\n    attributes,\r\n    rules,\r\n    move,\r\n    moveBy,\r\n    moveToValue,\r\n    updateValue,\r\n    showPopover,\r\n    hidePopover,\r\n    togglePopover,\r\n    onDayClick,\r\n    onDayKeydown,\r\n    onDayMouseEnter,\r\n    onPopoverBeforeShow,\r\n    onPopoverAfterShow,\r\n    onPopoverBeforeHide,\r\n    onPopoverAfterHide,\r\n  };\r\n  provide(contextKey, context);\r\n  return context;\r\n}\r\n\r\nexport function useDatePicker() {\r\n  const context = inject<DatePickerContext>(contextKey);\r\n  if (context) return context;\r\n  throw new Error(\r\n    'DatePicker context missing. Please verify this component is nested within a valid context provider.',\r\n  );\r\n}\r\n","import { computed } from 'vue';\r\nimport { arrayHasItems } from '../utils/helpers';\r\nimport {\r\n  SimpleDateParts,\r\n  DateParts,\r\n  getDatePartsOptions,\r\n  isDateParts,\r\n} from '../utils/date/helpers';\r\nimport { useBase } from '../use/base';\r\nimport { useDatePicker } from '../use/datePicker';\r\n\r\nconst _amOptions = [\r\n  { value: 0, label: '12' },\r\n  { value: 1, label: '1' },\r\n  { value: 2, label: '2' },\r\n  { value: 3, label: '3' },\r\n  { value: 4, label: '4' },\r\n  { value: 5, label: '5' },\r\n  { value: 6, label: '6' },\r\n  { value: 7, label: '7' },\r\n  { value: 8, label: '8' },\r\n  { value: 9, label: '9' },\r\n  { value: 10, label: '10' },\r\n  { value: 11, label: '11' },\r\n];\r\nconst _pmOptions = [\r\n  { value: 12, label: '12' },\r\n  { value: 13, label: '1' },\r\n  { value: 14, label: '2' },\r\n  { value: 15, label: '3' },\r\n  { value: 16, label: '4' },\r\n  { value: 17, label: '5' },\r\n  { value: 18, label: '6' },\r\n  { value: 19, label: '7' },\r\n  { value: 20, label: '8' },\r\n  { value: 21, label: '9' },\r\n  { value: 22, label: '10' },\r\n  { value: 23, label: '11' },\r\n];\r\n\r\nexport interface TimePickerProps {\r\n  position: number;\r\n}\r\n\r\nexport type TimePickerContext = ReturnType<typeof createTimePicker>;\r\n\r\nexport function createTimePicker(props: TimePickerProps) {\r\n  const baseCtx = useBase();\r\n  const { locale } = baseCtx;\r\n  const {\r\n    isRange,\r\n    isTimeMode,\r\n    dateParts,\r\n    rules,\r\n    is24hr,\r\n    hideTimeHeader,\r\n    timeAccuracy,\r\n    updateValue: updateDpValue,\r\n  } = useDatePicker();\r\n\r\n  function updateParts(newParts: Partial<DateParts>) {\r\n    newParts = Object.assign(parts.value, newParts);\r\n    let newValue = null;\r\n    if (isRange.value) {\r\n      const start = isStart.value ? newParts : dateParts.value[0];\r\n      const end = isStart.value ? dateParts.value[1] : newParts;\r\n      newValue = { start, end };\r\n    } else {\r\n      newValue = newParts;\r\n    }\r\n    updateDpValue(newValue, {\r\n      patch: 'time',\r\n      targetPriority: isStart.value ? 'start' : 'end',\r\n      moveToValue: true,\r\n    });\r\n  }\r\n\r\n  const isStart = computed(() => props.position === 0);\r\n  const parts = computed(\r\n    () => dateParts.value[props.position] || { isValid: false },\r\n  );\r\n  const partsValid = computed(() => isDateParts(parts.value));\r\n  const isValid = computed(() => !!parts.value.isValid);\r\n  const showBorder = computed(() => !isTimeMode.value);\r\n  const showHeader = computed(() => {\r\n    return !hideTimeHeader.value && isValid.value;\r\n  });\r\n\r\n  const date = computed(() => {\r\n    if (!partsValid.value) return null;\r\n    let date = locale.value.toDate(parts.value as Partial<SimpleDateParts>);\r\n    if ((parts.value as DateParts).hours === 24) {\r\n      date = new Date(date.getTime() - 1);\r\n    }\r\n    return date;\r\n  });\r\n\r\n  const hours = computed({\r\n    get() {\r\n      return (parts.value as DateParts).hours;\r\n    },\r\n    set(val) {\r\n      updateParts({ hours: val });\r\n    },\r\n  });\r\n\r\n  const minutes = computed({\r\n    get() {\r\n      return (parts.value as DateParts).minutes;\r\n    },\r\n    set(val) {\r\n      updateParts({ minutes: val });\r\n    },\r\n  });\r\n\r\n  const seconds = computed({\r\n    get() {\r\n      return (parts.value as DateParts).seconds;\r\n    },\r\n    set(val) {\r\n      updateParts({ seconds: val });\r\n    },\r\n  });\r\n\r\n  const milliseconds = computed({\r\n    get() {\r\n      return (parts.value as DateParts).milliseconds;\r\n    },\r\n    set(val) {\r\n      updateParts({ milliseconds: val });\r\n    },\r\n  });\r\n\r\n  const isAM = computed({\r\n    get() {\r\n      return (parts.value as DateParts).hours < 12;\r\n    },\r\n    set(value) {\r\n      value = String(value).toLowerCase() == 'true';\r\n      let hValue = hours.value;\r\n      if (value && hValue >= 12) {\r\n        hValue -= 12;\r\n      } else if (!value && hValue < 12) {\r\n        hValue += 12;\r\n      }\r\n      updateParts({ hours: hValue });\r\n    },\r\n  });\r\n\r\n  const options = computed(() =>\r\n    getDatePartsOptions(parts.value as DateParts, rules.value[props.position]),\r\n  );\r\n\r\n  const amHourOptions = computed(() => {\r\n    return _amOptions.filter(opt =>\r\n      options.value.hours.some(ho => ho.value === opt.value),\r\n    );\r\n  });\r\n\r\n  const pmHourOptions = computed(() => {\r\n    return _pmOptions.filter(opt =>\r\n      options.value.hours.some(ho => ho.value === opt.value),\r\n    );\r\n  });\r\n\r\n  const hourOptions = computed(() => {\r\n    if (is24hr.value) return options.value.hours;\r\n    if (isAM.value) return amHourOptions.value;\r\n    return pmHourOptions.value;\r\n  });\r\n\r\n  const isAMOptions = computed(() => {\r\n    const result = [];\r\n    if (arrayHasItems(amHourOptions.value))\r\n      result.push({ value: true, label: 'AM' });\r\n    if (arrayHasItems(pmHourOptions.value))\r\n      result.push({ value: false, label: 'PM' });\r\n    return result;\r\n  });\r\n\r\n  return {\r\n    ...baseCtx,\r\n    showBorder,\r\n    showHeader,\r\n    timeAccuracy,\r\n    parts,\r\n    isValid,\r\n    date,\r\n    hours,\r\n    minutes,\r\n    seconds,\r\n    milliseconds,\r\n    options,\r\n    hourOptions,\r\n    isAM,\r\n    isAMOptions,\r\n    is24hr,\r\n  };\r\n}\r\n","<template>\r\n  <div\r\n    class=\"vc-time-picker\"\r\n    :class=\"[{ 'vc-invalid': !isValid, 'vc-bordered': showBorder }]\"\r\n  >\r\n    <slot name=\"time-header\">\r\n      <div v-if=\"showHeader && date\" class=\"vc-time-header\">\r\n        <span class=\"vc-time-weekday\">\r\n          {{ locale.formatDate(date, 'WWW') }}\r\n        </span>\r\n        <span class=\"vc-time-month\">\r\n          {{ locale.formatDate(date, 'MMM') }}\r\n        </span>\r\n        <span class=\"vc-time-day\">\r\n          {{ locale.formatDate(date, 'D') }}\r\n        </span>\r\n        <span class=\"vc-time-year\">\r\n          {{ locale.formatDate(date, 'YYYY') }}\r\n        </span>\r\n      </div>\r\n    </slot>\r\n    <div class=\"vc-time-select-group\">\r\n      <BaseIcon name=\"Clock\" size=\"17\" />\r\n      <BaseSelect v-model.number=\"hours\" :options=\"hourOptions\" align-right />\r\n      <template v-if=\"timeAccuracy > 1\">\r\n        <span class=\"vc-time-colon\">:</span>\r\n        <BaseSelect\r\n          v-model.number=\"minutes\"\r\n          :options=\"options.minutes\"\r\n          :align-left=\"timeAccuracy === 2\"\r\n        />\r\n      </template>\r\n      <template v-if=\"timeAccuracy > 2\">\r\n        <span class=\"vc-time-colon\">:</span>\r\n        <BaseSelect\r\n          v-model.number=\"seconds\"\r\n          :options=\"options.seconds\"\r\n          :align-left=\"timeAccuracy === 3\"\r\n        />\r\n      </template>\r\n      <template v-if=\"timeAccuracy > 3\">\r\n        <span class=\"vc-time-decimal\">.</span>\r\n        <BaseSelect\r\n          v-model.number=\"milliseconds\"\r\n          :options=\"options.milliseconds\"\r\n          align-left\r\n        />\r\n      </template>\r\n      <BaseSelect v-if=\"!is24hr\" v-model=\"isAM\" :options=\"isAMOptions\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport BaseIcon from '../BaseIcon/BaseIcon.vue';\r\nimport BaseSelect from '../BaseSelect/BaseSelect.vue';\r\nimport { createTimePicker } from '../../use/timePicker';\r\n\r\nconst props = defineProps<{\r\n  position: number;\r\n}>();\r\n\r\nconst timePicker = createTimePicker(props);\r\ndefineExpose(timePicker);\r\nconst {\r\n  locale,\r\n  isValid,\r\n  date,\r\n  hours,\r\n  minutes,\r\n  seconds,\r\n  milliseconds,\r\n  options,\r\n  hourOptions,\r\n  isAM,\r\n  isAMOptions,\r\n  is24hr,\r\n  showHeader,\r\n  showBorder,\r\n  timeAccuracy,\r\n} = timePicker;\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.vc-time-picker {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 8px 4px;\r\n  &.vc-invalid {\r\n    pointer-events: none;\r\n    opacity: 0.5;\r\n  }\r\n  &.vc-bordered {\r\n    border-top: 1px solid var(--vc-time-picker-border);\r\n  }\r\n  > * + * {\r\n    margin-top: 4px;\r\n  }\r\n}\r\n\r\n.vc-time-header {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: var(--vc-text-sm);\r\n  font-weight: var(--vc-font-semibold);\r\n  text-transform: uppercase;\r\n  margin-top: -4px;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  line-height: 21px;\r\n}\r\n\r\n.vc-time-select-group {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 0 4px;\r\n  background: var(--vc-time-select-group-bg);\r\n  border-radius: var(--vc-rounded-md);\r\n  border: 1px solid var(--vc-time-select-group-border);\r\n  .vc-base-icon {\r\n    margin-right: 4px;\r\n    color: var(--vc-time-select-group-icon-color);\r\n  }\r\n}\r\n\r\n.vc-time-weekday {\r\n  color: var(--vc-time-weekday-color);\r\n  letter-spacing: var(--tracking-wide);\r\n}\r\n\r\n.vc-time-month {\r\n  color: var(--vc-time-month-color);\r\n  margin-left: 8px;\r\n}\r\n\r\n.vc-time-day {\r\n  color: var(--vc-time-day-color);\r\n  margin-left: 4px;\r\n}\r\n\r\n.vc-time-year {\r\n  color: var(--vc-time-year-color);\r\n  margin-left: 8px;\r\n}\r\n\r\n.vc-time-colon {\r\n  margin: 0 1px 2px 2px;\r\n}\r\n\r\n.vc-time-decimal {\r\n  margin: 0 0 0 1px;\r\n}\r\n</style>\r\n","<script lang=\"ts\">\r\nimport { h, reactive, defineComponent } from 'vue';\r\nimport Popover from '../Popover/Popover.vue';\r\nimport Calendar from '../Calendar/Calendar.vue';\r\nimport TimePicker from '../TimePicker/TimePicker.vue';\r\nimport { propsDef, emits, createDatePicker } from '../../use/datePicker';\r\nimport { omit } from '../../utils/helpers';\r\n\r\nexport default defineComponent({\r\n  name: 'DatePicker',\r\n  inheritAttrs: false,\r\n  emits,\r\n  props: propsDef,\r\n  setup(props, ctx) {\r\n    const datePicker = createDatePicker(props, ctx);\r\n    const { slots, attrs } = ctx;\r\n    const {\r\n      isTimeMode,\r\n      isRange,\r\n      isDateTimeMode,\r\n      color,\r\n      displayMode,\r\n      dateParts,\r\n      datePickerPopoverId,\r\n      attributes,\r\n      calendarRef,\r\n      popoverRef,\r\n      showCalendar,\r\n      onDayClick: onDayclick,\r\n      onDayMouseEnter: onDaymouseenter,\r\n      onDayKeydown: onDaykeydown,\r\n      onPopoverBeforeShow,\r\n      onPopoverAfterShow,\r\n      onPopoverBeforeHide,\r\n      onPopoverAfterHide,\r\n    } = datePicker;\r\n\r\n    // Expose datePicker for external access\r\n    ctx.expose(datePicker);\r\n\r\n    const slotCtx = reactive(omit(datePicker, 'calendarRef', 'popoverRef'));\r\n\r\n    // Timepicker renderer\r\n    const timePicker = () => {\r\n      const positions = isRange.value ? [0, 1] : [0];\r\n      return positions.map(position => h(TimePicker, { position }));\r\n    };\r\n\r\n    // Calendar renderer\r\n    const calendar = () => {\r\n      if (!dateParts.value) return null;\r\n      // Replace footer slot with timePicker if needed\r\n      const renderSlots = isDateTimeMode.value\r\n        ? { ...slots, footer: timePicker }\r\n        : slots;\r\n      return h(\r\n        Calendar,\r\n        {\r\n          ...attrs,\r\n          attributes: attributes.value,\r\n          ref: calendarRef,\r\n          onDayclick,\r\n          onDaymouseenter,\r\n          onDaykeydown,\r\n        },\r\n        renderSlots,\r\n      );\r\n    };\r\n\r\n    // Content renderer\r\n    const content = () => {\r\n      if (isTimeMode.value) {\r\n        return h(\r\n          'div',\r\n          {\r\n            class: `vc-container vc-bordered vc-${color.value} vc-${displayMode.value}`,\r\n          },\r\n          [timePicker()],\r\n        );\r\n      }\r\n      if (showCalendar.value) {\r\n        return calendar();\r\n      }\r\n      return undefined;\r\n    };\r\n\r\n    // Return content for no popover\r\n    if (!slots.default) return content;\r\n\r\n    // Return popover with nested content\r\n    return () => [\r\n      // Popover trigger\r\n      slots.default!(slotCtx),\r\n      // Popover content\r\n      h(\r\n        Popover,\r\n        {\r\n          id: datePickerPopoverId.value,\r\n          placement: 'bottom-start',\r\n          class: `vc-date-picker-content vc-${color.value} vc-${displayMode.value}`,\r\n          ref: popoverRef,\r\n          'onBefore-show': onPopoverBeforeShow,\r\n          'onAfter-show': onPopoverAfterShow,\r\n          'onBefore-hide': onPopoverBeforeHide,\r\n          'onAfter-hide': onPopoverAfterHide,\r\n        },\r\n        {\r\n          default: content,\r\n        },\r\n      ),\r\n    ];\r\n  },\r\n});\r\n</script>\r\n","import { App } from 'vue';\r\nimport * as components from './components/index';\r\nimport { setVueInstance } from './utils/config/index';\r\nimport { Defaults, setupDefaults } from './utils/defaults';\r\nimport './styles/main.css';\r\n\r\nconst install = (app: App, defaults: Defaults = {}) => {\r\n  setVueInstance(app);\r\n  app.use(setupDefaults, defaults);\r\n  const prefix = app.config.globalProperties.$VCalendar.componentPrefix;\r\n  for (const componentKey in components) {\r\n    const component = (components as any)[componentKey];\r\n    app.component(`${prefix}${component.name}`, component);\r\n  }\r\n};\r\n\r\nexport default { install };\r\nexport * from './components';\r\nexport { setupDefaults as setupCalendar } from './utils/defaults';\r\nexport { popoverDirective } from './utils/popovers';\r\n"],"names":["_hoisted_1","_hoisted_3","_sfc_render","_ctx","_cache","fill","width","computed","props","size","height","icon","icons","name","_freeGlobal","global","Object","freeGlobal","require$$0","freeSelf","self","_root","Function","_Symbol","Symbol","objectProto","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","_getRawTag","getRawTag","value","isOwn","call","tag","unmasked","e","result","require$$1","objectToString","_baseGetTag","baseGetTag","isObject_1","isObject","type","isFunction_1","isFunction","isArray_1","Array","isArray","isObjectLike_1","isObjectLike","require$$2","isString_1","isString","isBoolean_1","isBoolean","isNumber_1","isNumber","_baseIsDate","baseIsDate","freeExports","freeModule","freeProcess","nodeUtil","_baseUnary","baseUnary","func","exports","nodeType","module","process","types","require","binding","nodeIsDate","isDate","isDate_1","isSymbol_1","isSymbol","reIsDeepProp","reIsPlainProp","uid","_isKey","isKey","object","test","coreJsData","maskSrcKey","exec","keys","IE_PROTO","_isMasked","isMasked","funcToString","_toSource","toSource","require$$3","reIsHostCtor","funcProto","reIsNative","RegExp","replace","baseIsNative","getValue","key","_getNative","getNative","_nativeCreate","nativeCreate","_hashClear","hashClear","this","__data__","_hashDelete","hashDelete","has","_hashGet","hashGet","data","hashHas","hashSet","Hash","entries","index","length","clear","entry","set","Hash$1","get","_Hash","_listCacheClear","listCacheClear","eq_1","eq","other","_assocIndexOf","assocIndexOf","array","splice","listCacheDelete","pop","listCacheGet","listCacheHas","listCacheSet","push","ListCache","ListCache$4","_ListCache","_Map","Map","isKeyable","_getMapData","getMapData","map","mapCacheClear","hash","string","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","MapCache$3","_MapCache","memoize","resolver","TypeError","memoized","args","arguments","apply","cache","Cache","rePropName","reEscapeChar","_stringToPath","memoizeCapped","charCodeAt","match","number","quote","subString","arrayMap","iteratee","symbolProto","symbolToString","_baseToString","baseToString","stringToPath","_castPath","castPath","_toKey","toKey","_baseGet","baseGet","path","get_1","defaultValue","_defineProperty","defineProperty","_baseAssignValue","baseAssignValue","configurable","enumerable","writable","_assignValue","assignValue","objValue","baseAssignValue$3","reIsUint","_isIndex","isIndex","_baseFor","createBaseFor","fromRight","keysFunc","iterable","_baseTimes","baseTimes","n","baseIsArguments","propertyIsEnumerable","isArguments","isArguments_1","stubFalse_1","stubFalse","root","Buffer","isBuffer","isLength_1","isLength","typedArrayTags","baseIsTypedArray","nodeIsTypedArray","isTypedArray","isTypedArray_1","require$$4","require$$5","_arrayLikeKeys","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","_isPrototype","isPrototype","Ctor","constructor","_overArg","overArg","transform","arg","nativeKeys","isArrayLike_1","isArrayLike","baseKeys","keys_1","baseFor","_baseForOwn","baseForOwn","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","LARGE_ARRAY_SIZE","Stack","Stack$3","_Stack","setCacheAdd","setCacheHas","SetCache","values","add","_arraySome","arraySome","predicate","cacheHas","_equalArrays","equalArrays","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","_Uint8Array","Uint8Array","mapToArray","forEach","setToArray","symbolValueOf","valueOf","_equalByTag","equalByTag","byteLength","byteOffset","buffer","message","convert","stacked","COMPARE_UNORDERED_FLAG","arrayPush","offset","_baseGetAllKeys","baseGetAllKeys","symbolsFunc","arrayFilter","resIndex","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","getAllKeys","_equalObjects","equalObjects","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","DataView","Promise","Set","WeakMap","require$$6","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","ctorString","require$$7","argsTag","arrayTag","objectTag","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","_baseIsEqual","baseIsEqual","_isStrictComparable","isStrictComparable","_matchesStrictComparable","matchesStrictComparable","srcValue","baseIsMatch","source","matchData","noCustomizer","COMPARE_PARTIAL_FLAG","getMatchData","_hasPath","hasPath","hasFunc","baseHasIn","hasIn","identity_1","identity","baseProperty","basePropertyDeep","baseMatches","baseMatchesProperty","property","_baseIteratee","baseIteratee","mapValues_1","mapValues","_apply","thisArg","nativeMax","Math","max","_overRest","overRest","start","otherArgs","constant","_baseSetToString","nativeNow","Date","now","_shortOut","shortOut","count","lastCalled","stamp","remaining","setToString","_baseRest","baseRest","_isIterateeCall","isIterateeCall","nativeKeysIn","baseKeysIn","isProto","keysIn_1","keysIn","defaults_1","sources","guard","propsIndex","propsLength","_assignMergeValue","assignMergeValue","baseAssignValue$1","allocUnsafe","cloneBuffer","isDeep","slice","copy","cloneArrayBuffer","arrayBuffer","_cloneTypedArray","cloneTypedArray","typedArray","_copyArray","copyArray","objectCreate","create","_baseCreate","proto","getPrototype","getPrototypeOf","baseCreate","_initCloneObject","initCloneObject","isArrayLikeObject_1","isArrayLikeObject","objectCtorString","_safeGet","safeGet","copyObject","isNew","newValue","require$$8","require$$9","require$$10","isPlainObject","require$$12","require$$13","toPlainObject","baseMergeDeep","srcIndex","mergeFunc","assignMergeValue$1","isCommon","isTyped","_baseMerge","baseMerge","_customDefaultsMerge","customDefaultsMerge","mergeWith","createAssigner","assigner","defaultsDeep_1","baseHas","has_1","baseEach","createBaseEach","eachFunc","collection","head_1","head","last_1","last","baseSome","some_1","some","_isDate","isNaN","getTime","getType","_has","hasAny","obj","_some","p","pad","val","len","char","arrayHasItems","resolveEl","target","document","querySelector","$el","off","element","event","handler","opts","removeEventListener","on","addEventListener","elementContains","child","contains","onSpaceOrEnter","preventDefault","omit","ret","includes","pick","createGuid","S4","random","substring","toInteger","dirtyNumber","NaN","Number","ceil","floor","getTimezoneOffsetInMilliseconds","date","utcDate","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","setUTCFullYear","tzTokenizeDate","timeZone","dtf","getDateTimeFormat","dtfCache","testDateFormatted","Intl","DateTimeFormat","hour12","year","month","day","hour","minute","second","format","hourCycleSupported","hourCycle","formatToParts","partsOffset","formatted","filled","i","pos","typeToPos","parseInt","hackyOffset","parsed","MILLISECONDS_IN_HOUR","patterns","timezone","timezoneZ","timezoneHH","timezoneHHMM","tzParseTimezone","timezoneString","isUtcDate","token","absoluteOffset","hours","validateTimezone","minutes","isValidTimezoneIANAString","timeZoneString","validIANATimezoneCache","error","toUtcDate","calcOffset","fixedOffset","fixOffset","localTS","utcGuess","o2","o3","tokens","asUTC","asTS","over","dateTimePattern","datePattern","plainTime","YY","YYY","YYYY","YYYYY","MM","DDD","MMDD","Www","WwwD","HH","HHMM","HHMMSS","splitDateString","dateString","timeString","dateStrings","parts","time","trim","parseYear","additionalDigits","patternYYY","patternYYYYY","yearString","restDateString","centuryString","parseDate","week","validateDate","dayOfYear","validateDayOfYearDate","isLeapYear","isLeapYearIndex","validateWeekDate","dayOfISOWeekYear","dayOfWeek","parseTime","validateTime","parseFloat","seconds","isoWeekYear","diff","getUTCDay","setUTCDate","getUTCDate","DAYS_IN_MONTH","DAYS_IN_MONTH_LEAP_YEAR","requiredArgs","required","toDate","argument","argStr","console","warn","Error","startOfWeek","dirtyDate","dirtyOptions","options","locale","localeWeekStartsOn","weekStartsOn","defaultWeekStartsOn","RangeError","getDay","setDate","setHours","MILLISECONDS_IN_WEEK","differenceInCalendarWeeks","dirtyDateLeft","dirtyDateRight","startOfWeekLeft","startOfWeekRight","timestampLeft","timestampRight","round","lastDayOfMonth","setFullYear","startOfMonth","getWeekYear","_options$locale","_options$locale$optio","localeFirstWeekContainsDate","firstWeekContainsDate","defaultFirstWeekContainsDate","firstWeekOfNextYear","startOfNextYear","firstWeekOfThisYear","startOfThisYear","startOfWeekYear","firstWeek","getWeek","startOfISOWeek","getISOWeekYear","fourthOfJanuaryOfNextYear","fourthOfJanuaryOfThisYear","startOfISOWeekYear","fourthOfJanuary","getISOWeek","addDays","dirtyAmount","amount","addMonths","dayOfMonth","endOfDesiredMonth","setMonth","daysInMonth","addYears","viewAddressKeys","daily","weekly","monthly","getPageAddressForDate","view","getDateParts","addPages","newDate","getMonthParts","firstDayOfMonth","pageIsValid","page","pageIsBeforePage","comparePage","pageIsAfterPage","pageIsBetweenPages","fromPage","toPage","getPageKey","config","id","getCachedPage","showWeeknumbers","showIsoWeeknumbers","monthComps","prevMonthComps","getPrevMonthParts","nextMonthComps","getNextMonthParts","days","getDays","firstDayOfWeek","firstWeekday","isoWeeknumbers","weeknumbers","numDays","numWeeks","prevMonthDaysToShow","daysInWeek","prevMonth","thisMonth","nextMonth","position","formatter","weekday","dayFromEnd","weekdayOrdinal","weekdayOrdinalFromEnd","weekFromEnd","today","todayDay","todayMonth","todayYear","w","weeksInMonth","startDate","getDateFromParams","noonDate","endDate","weekdayPosition","weekdayPositionFromEnd","weeknumber","isoWeeknumber","isToday","isFirstDay","isLastDay","onTop","onBottom","onLeft","onRight","dayIndex","getDayIndex","label","ariaLabel","weekPosition","isDisabled","isFocusable","inMonth","inPrevMonth","inNextMonth","classes","weeks","getWeeks","reduce","weekIndex","title","weeknumberDisplay","fromDay","toDay","formatDate","weekdayLabels","getWeekdayLabels","yearTransform","titleTransform","masks","split","monthTitle","shortMonthLabel","monthLabel","shortYearLabel","yearLabel","createKey","createItem","__publicField","store","getOrSet","item","removeKey","shift","DateRange","Locale","end","span","order","repeat","DateRepeat","from","_a","static","ranges","filter","d","assign","hasRepeat","isSingleDay","isMultiDay","daySpan","Infinity","startsOnDay","dayParts","_b","passes","intersectsDay","intersectsDayRange","intersectsRange","range","startDayIndex","endDayIndex","DateRangeContext","render","startDay","startTime","endDay","endTime","MS_PER_DAY","getRangeRecords","_c","_d","record","records","getCell","getCells","find","cell","cellExists","r","onStart","onEnd","dayStartTime","dayEndTime","sort","a","b","locales","ar","dow","L","bg","ca","hr","cs","da","nl","eo","et","fi","fr","de","he","it","ja","ko","lv","lt","mk","nb","nn","pl","pt","ro","ru","sk","sv","th","tr","uk","vi","en","es","no","zh","defaultConfig","componentPrefix","color","isDark","navVisibility","titlePosition","transition","touch","res","datePicker","updateOnInput","inputDebounce","popover","visibility","placement","isInteractive","state","reactive","defaultLocales","l","defaultsDeep","getDefault","window","__vcalendar__","setupDefaults","app","userDefaults","globalProperties","$VCalendar","monthCacheSize","pageCacheSize","resolveConfig","detLocale","resolvedOptions","toLowerCase","localeKeys","validKey","k","lk","defLocale","monthCache","getMonthPartsKey","pageCache","clamp","num","min","hourLabels","getHourLabels","dayNames","getDayNames","dayNamesShort","dayNamesShorter","s","dayNamesNarrow","monthNames","getMonthNames","monthNamesShort","relativeTimeNames","getRelativeTimeNames","localeId","units","rtf","RelativeTimeFormat","names","unit","mask","normalizeMasks","literals","literal","$0","$1","dateParts","formatFlags","nullDate","fillDate","patch","rules","isDateParts","getDateFromParts","fillParts","DatePatchKeys","applyRulesForDateParts","rule","DATE_PART_RANGES","getNearestDatePart","getDatePartOptions","prev","opt","disabled","diffPrev","abs","fromDate","fromMany","tzDate","toLocaleString","setMilliseconds","milliseconds","MS_PER_SECOND","MS_PER_MINUTE","MS_PER_HOUR","monthParts","dateTime","timezoneOffset","isValid","getPage","cachedPage","trimWeeks","viewDays","viewWeeks","dayObj","weekObj","weekTitle","dayTitle","getThisMonthParts","getHourDates","dates","weekdays","getDayId","GroupRuleType","IntervalRuleType","ComponentRuleType","OrdinalComponentRuleType","IntervalRule","interval","validated","diffInDays","diffInWeeks","d1","d2","diffInMonths","diffInYears","ComponentRule","components","validator","getter","normalizeComponents","DaysRule","WeekdaysRule","WeeksRule","MonthsRule","YearsRule","component","comp","super","isDayInMonth","isDayOfWeek","isWeekInMonth","isMonthInYear","OrdinalComponentRule","normalizeArrayConfig","numOrArray","isOrdinalWeekInMonth","ordinalWeek","ordinalWeekday","FunctionRule","fn","parent","Any","All","c","until","getObjectRules","every","Days","dayInMonth","weekInMonth","monthInYear","daysInMonths","maskMacros","D","DD","dd","W","WW","WWW","WWWW","M","MMM","MMMM","substr","h","hh","H","m","mm","ss","S","SS","SSS","amPm","A","toUpperCase","Z","ZZ","o","ZZZ","ZZZZ","twoDigits","word","noop","monthUpdate","arrName","v","indexOf","charAt","parseFlags","Do","cent","isPm","curr","getUTCFullYear","hrs","sec","ms","parseYearResult","timestamp","toFnsDate","inLeapYear","getWeeksInMonth","getWeekdayDates","getMonthDates","datePartIsValid","part","padding","str","dp","info","search","Attribute","theme","hashcode","pinPage","normalizeGlyphs","hasRanges","maxRepeatSpan","simpleRanges","repeatRanges","watchSkippers","useDarkMode","ref","displayMode","mediaQuery","mutationObserver","mqListener","ev","matches","moListener","selector","darkClass","el","classList","setup","setupSystem","matchMedia","setupClass","MutationObserver","observe","attributes","attributeFilter","stopWatch","watch","immediate","stopObservers","disconnect","cleanup","targetProps","displayProps","_defaultProfile","base","normalizeConfig","defaultProfile","rootColor","startEnd","targetType","targetConfig","targetColor","HighlightRenderer","fillMode","prepareRender","glyphs","highlights","content","highlight","wrapperClass","class","contentClass","BaseRenderer","collectionType","ContentRenderer","_","DotRenderer","BarRenderer","Theme","attr","renderers","renderer","contextKey","propsDef","default","Boolean","minDate","maxDate","disabledDates","createBase","disabledAttribute","context","basePropsDef","rows","columns","step","isExpanded","initialPage","initialPagePosition","minPage","maxPage","disablePageSwipe","createCalendar","emit","slots","containerRef","navPopoverRef","lastFocusedDay","focusableDay","inTransition","navPopoverId","dayPopoverId","pages","transitionName","refreshing","transitionPromise","removeHandlers","useOrCreateBase","inject","firstPage","lastPage","getDateAddress","isMonthly","isWeekly","isDaily","address","_addPages","refreshFocusableDay","forDays","allDays","hasAttributes","attributeContext","ctx","getWeeknumberPosition","column","columnFromEnd","startsWith","getDefaultInitialPage","getPageForAttributes","getTargetPageRange","force","pagesToAdd","refreshPages","reject","newPage","row","rowFromEnd","weeknumberPosition","oldPage","defaultTransition","moveNext","movePrev","getPageTransition","targetBy","canMove","pagesInRange","pageRangeToArray","to","canMoveBy","canMovePrev","canMoveNext","move","async","pageIsEqualToPage","aPage","bPage","hide","hideDelay","watcher","durationMs","skipWatcher","moveBy","tryFocusDate","daySelector","focusableEl","focus","focusDate","onDayKeydown","altKey","catch","onMounted","maxSwipeTime","minHorizontalSwipeDistance","maxVerticalSwipeDistance","startX","startY","isSwiping","touchStart","t","changedTouches","screenX","screenY","touchEnd","deltaX","deltaY","toLeft","toRight","passive","addHorizontalSwipeHandler","onUnmounted","vue","handleWatcher","watchEffect","refreshDisabledDay","toRefs","onTransitionBeforeEnter","onTransitionAfterEnter","onKeydown","onDayClick","onDayMouseenter","onDayMouseleave","onDayFocusin","onDayFocusout","onWeeknumberClick","useCalendar","showPopover","dispatchEvent","CustomEvent","detail","hidePopover","togglePopover","getPopoverEventHandlers","click","hover","hoverFocus","autoHide","hovered","focused","clickHandler","currentTarget","stopPropagation","mouseMoveHandler","mouseLeaveHandler","focusInHandler","focusOutHandler","relatedTarget","renderFn","handlers","popoverHandlers","addHandlers","remove","popoverDirective","mounted","updated","oldValue","oldVisibility","newVisibility","unmounted","navPlacement","navPopoverOptions","modifiers","fallbackPlacements","titleLeft","titleRight","layout_","layout","show","hideArrows","hideTitle","next","gridStyle","gridTemplateColumns","join","_sfc_main$a","defineComponent","directives","attributeCells","popovers","processPopover","attribute","customData","resolvedPopover","defaults","popovers2","hasHighlights","dots","hasDots","bars","hasBars","popoverAttrs","dayClasses","dayContentProps","tabindex","style","role","dayContentEvents","mouseenter","mouseleave","focusin","focusout","keydown","dayPopover","_hoisted_2","_hoisted_4","inheritAttrs","CalendarHeader","CalendarDay","_resolveDirective","_normalizeClass","_openBlock","openBlock","_createElementBlock","_Fragment","_renderList","bgClass","createElementBlock","normalizeClass","_createCommentVNode","_renderSlot","$slots","dayProps","dayEvents","_createElementVNode","createElementVNode","Fragment","renderList","_hoisted_5","_resolveComponent","$props","_createVNode","_component_CalendarHeader","wl","onClick","$event","$setup","_createBlock","createBlock","_component_CalendarDay","emits","showDelay","boundarySelector","timeout","popoverRef","resizeObserver","popper","isVisible","direction","positionFixed","isHovered","isFocused","updateDirection","onPopperUpdate","popperOptions","strategy","boundary","enabled","phase","onFirstUpdate","alignment","isLeftRight","destroyPopper","destroy","setupPopper","nextTick","elements","reference","update","createPopper","setTimer","delay","clearTimeout","setTimeout","isCurrentTarget","updateState","newState","onDocumentClick","popperRef","onDocumentKeydown","onDocumentShowPopover","onDocumentHidePopover","onDocumentTogglePopover","toggle","cleanupRO","ResizeObserver","addEvents","removeEvents","beforeEnter","afterEnter","beforeLeave","afterLeave","onMouseOver","onMouseLeave","activeElement","onFocusIn","onFocusOut","$data","$options","onMouseover","onMouseleave","onFocusin","onFocusout","_Transition","appear","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave","_withCtx","withCtx","_mergeProps","$attrs","_createTextVNode","_toDisplayString","createCalendarNav","monthMode","yearIndex","yearGroupIndex","navContainer","focusFirstItem","yearClick","getYearItems","thisYear","startYear","endYear","items","currentPosition","isActive","currentYear","isCurrent","getMonthItems","navMonths","currentMonth","monthClick","movePrevYear","moveNextYear","movePrevYearGroup","moveNextYearGroup","monthItems","yearItems","firstYear","lastYear","yearIndexTran","firstYearTran","lastYearTran","prevMonthItemsEnabled","prevYearItemsEnabled","prevItemsEnabled","nextMonthItemsEnabled","nextYearItemsEnabled","nextItemsEnabled","activeItems","getYearGroupIndex","getItemClasses","toggleMode","_sfc_main$5","indicator","dot","bar","hideIndicator","_sfc_main$3","CalendarPane","CalendarNavPopover","CalendarDayPopover","_component_CalendarPane","createVNode","_component_CalendarDayPopover","__default__","mode","modelValue","modelModifiers","is24hr","hideTimeHeader","timeAccuracy","isRequired","isRange","dragAttribute","selectAttribute","createDatePicker","baseCtx","showCalendar","datePickerPopoverId","dateValue","dragValue","inputValues","calendarRef","updateTimeout","dragTrackingValue","watchValue","valueStart","valueEnd","isDateMode","isDateTimeMode","isTimeMode","isDragging","modelConfig","inputMask","inputTime24hr","inputTime","inputDateTime24hr","inputDateTime","input","inputMaskHasTime","inputMaskHasDate","inputMaskPatch","previousElementSibling","popoverEvents","inputValue","inputEvents","events","onInputInput","change","onInputChange","keyup","onInputKeyup","hasValue","attrs","unshift","getAutoRules","_rules","accuracy","normalizeDateConfig","datesAreEqual","aIsDate","bIsDate","valuesAreEqual","aHasValue","bHasValue","normalizeValue","targetPriority","sortRange","priority","denormalizeValue","updateValue","debounce","forceUpdateValue","clearIfEqual","formatInput","fInput","hPopover","dragging","moveToValue","mValue","normalizedValue","valueIsDisabled","valueRef","notify","denormalizedValue","onInputUpdate","handleDayClick","getPageForValue","isStart","toRef","onDayMouseEnter","onPopoverBeforeShow","onPopoverAfterShow","onPopoverBeforeHide","cancelDrag","onPopoverAfterHide","_amOptions","_pmOptions","createTimePicker","useBase","updateDpValue","useDatePicker","updateParts","newParts","partsValid","showBorder","showHeader","isAM","hValue","getDatePartsOptions","amHourOptions","ho","pmHourOptions","hourOptions","isAMOptions","timePicker","expose","_sfc_main","onDayclick","onDaymouseenter","onDaykeydown","slotCtx","TimePicker","renderSlots","footer","Calendar","calendar","Popover","install","use","prefix","componentKey"],"mappings":"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"}